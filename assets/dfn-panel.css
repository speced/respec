/* dfn popup panel that list all local references to a dfn */
dfn {
  cursor: pointer;
}

span.exported, span.unused {
  margin-left: 8px;
  padding: 0.1em;
  text-align: center;
  white-space: nowrap;
}

span.exported {
  background: hsl(205.7, 70%, 96.1%);
  color: hsl(203.8, 70.9%, 30%);
  box-shadow: 0 0 0 .125em hsla(204, 70.8%, 52.9%, 0.25);
}

span.unused {
  background: hsl(347.6, 87.9%, 93.5%);
  color: hsl(347.9, 86.3%, 33%);
  box-shadow: 0 0 0 .125em hsla(348.1, 85.9%, 61%, 0.25);
}

.dfn-panel {
  position: absolute;
  left: var(--left); /* set via JS */
  top: var(--top); /* set via JS */
  z-index: 35;
  height: auto;
  width: max-content;
  max-width: 300px;
  max-height: 500px;
  overflow: auto;
  padding: 0.5em 0.75em;
  font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
  background: #dddddd;
  color: black;
  border: outset 0.2em;
}

.dfn-panel * {
  margin: 0;
}

.dfn-panel > b {
  display: block;
}

.dfn-panel ul a[href] {
  color: black;
}

.dfn-panel a:not(:hover) {
  text-decoration: none !important;
  border-bottom: none !important;
}

.dfn-panel a[href]:hover {
  border-bottom-width: 1px;
}

.dfn-panel > b + b {
  margin-top: 0.25em;
}

.dfn-panel ul {
  padding: 0;
}

.dfn-panel li {
  list-style: inside;
}

.dfn-panel.docked {
  display: inline-block;
  position: fixed;
  left: 0.5em;
  top: unset;
  bottom: 2em;
  margin: 0 auto;
  /* 0.75em from padding (x2), 0.5em from left position, 0.2em border (x2) */
  max-width: calc(100vw - 0.75em * 2 - 0.5em - 0.2em * 2);
  max-height: 30vh;
}
