"use strict";
window.respecVersion = "24.36.0";
"use strict";window.addEventListener("error",e=>{console.error(e.error,e.message,e)});const modules=[Promise.resolve().then((function(){return baseRunner})),Promise.resolve().then((function(){return ui$1})),Promise.resolve().then((function(){return reindent$1})),Promise.resolve().then((function(){return locationHash})),Promise.resolve().then((function(){return l10n$1})),Promise.resolve().then((function(){return defaults})),Promise.resolve().then((function(){return style})),Promise.resolve().then((function(){return style$1})),Promise.resolve().then((function(){return l10n$2})),Promise.resolve().then((function(){return github$1})),Promise.resolve().then((function(){return dataInclude})),Promise.resolve().then((function(){return markdown})),Promise.resolve().then((function(){return headers})),Promise.resolve().then((function(){return abstract})),Promise.resolve().then((function(){return dataTransform})),Promise.resolve().then((function(){return dataAbbr})),Promise.resolve().then((function(){return inlines})),Promise.resolve().then((function(){return conformance})),Promise.resolve().then((function(){return dfn})),Promise.resolve().then((function(){return pluralize$2})),Promise.resolve().then((function(){return examples})),Promise.resolve().then((function(){return issuesNotes})),Promise.resolve().then((function(){return requirements})),Promise.resolve().then((function(){return bestPractices})),Promise.resolve().then((function(){return figures})),Promise.resolve().then((function(){return webidl})),Promise.resolve().then((function(){return dataCite})),Promise.resolve().then((function(){return biblio$1})),Promise.resolve().then((function(){return webidlIndex})),Promise.resolve().then((function(){return linkToDfn})),Promise.resolve().then((function(){return renderBiblio})),Promise.resolve().then((function(){return contrib})),Promise.resolve().then((function(){return fixHeaders})),Promise.resolve().then((function(){return structure$1})),Promise.resolve().then((function(){return informative})),Promise.resolve().then((function(){return idHeaders})),Promise.resolve().then((function(){return caniuse})),Promise.resolve().then((function(){return mdnAnnotation})),Promise.resolve().then((function(){return saveHtml})),Promise.resolve().then((function(){return searchSpecref})),Promise.resolve().then((function(){return searchXref})),Promise.resolve().then((function(){return dfnList})),Promise.resolve().then((function(){return aboutRespec})),Promise.resolve().then((function(){return seo})),Promise.resolve().then((function(){return seo$1})),Promise.resolve().then((function(){return highlight})),Promise.resolve().then((function(){return webidlClipboard})),Promise.resolve().then((function(){return dataTests})),Promise.resolve().then((function(){return listSorter})),Promise.resolve().then((function(){return highlightVars$1})),Promise.resolve().then((function(){return dataType})),Promise.resolve().then((function(){return algorithms})),Promise.resolve().then((function(){return anchorExpander})),Promise.resolve().then((function(){return index})),Promise.resolve().then((function(){return linter$1}))];async function domReady(){"loading"===document.readyState&&await new Promise(e=>document.addEventListener("DOMContentLoaded",e))}(async()=>{const[e,{ui:t},...n]=await Promise.all(modules);try{t.show(),await domReady(),await e.runAll(n)}finally{t.enable()}})().catch(e=>{console.error(e)});const inAmd=!!window.require;if(!inAmd){const e=function(e,t){const n=e.map(e=>{if(!(e in window.require.modules))throw new Error(`Unsupported dependency name: ${e}`);return window.require.modules[e]});Promise.all(n).then(e=>t(...e))};e.modules={},window.require=e}function expose(e,t){inAmd||(window.require.modules[e]=t)}const name="core/pubsubhub",subscriptions=new Map;function pub(e,...t){if(!subscriptions.has(e))return;if(Array.from(subscriptions.get(e)).forEach(e=>{try{e(...t)}catch(t){pub("error",`Error when calling function ${e.name}. See developer console.`),console.error(t)}}),window.parent===window.self)return;const n=t.map(e=>String(JSON.stringify(e.stack||e)));window.parent.postMessage({topic:e,args:n},window.parent.location.origin)}function sub(e,t,n={once:!1}){return n.once?sub(e,(function n(...r){unsub({topic:e,cb:n}),t(...r)})):(subscriptions.has(e)?subscriptions.get(e).add(t):subscriptions.set(e,new Set([t])),{topic:e,cb:t})}function unsub({topic:e,cb:t}){const n=subscriptions.get(e);return n&&n.has(t)?n.delete(t):(console.warn("Already unsubscribed:",e,t),!1)}sub("error",e=>{console.error(e,e.stack)}),sub("warn",e=>{console.warn(e)}),expose(name,{sub:sub});const userConfig={},amendConfig=e=>Object.assign(userConfig,e),removeList=["githubToken","githubUser"];function overrideConfig(e){const t=document.location.search.replace(/;/g,"&"),n=new URLSearchParams(t),r=Array.from(n).filter(([e,t])=>!!e&&!!t).map(([e,t])=>{const n=decodeURIComponent(e),r=decodeURIComponent(t.replace(/%3D/g,"="));let o;try{o=JSON.parse(r)}catch{o=r}return{key:n,value:o}}).reduce((e,{key:t,value:n})=>(e[t]=n,e),{});Object.assign(e,r),pub("amend-user-config",r)}sub("start-all",amendConfig),sub("amend-user-config",amendConfig),sub("end-all",()=>{const e=document.createElement("script");e.id="initialUserConfig",e.type="application/json";for(const e of removeList)e in userConfig&&delete userConfig[e];e.innerHTML=JSON.stringify(userConfig,null,2),document.head.appendChild(e)}),sub("start-all",overrideConfig,{once:!0});const respecDonePromise=new Promise(e=>{sub("end-all",e,{once:!0})});let doneResolver;Object.defineProperty(document,"respecIsReady",{get:()=>respecDonePromise});const done=new Promise(e=>{doneResolver=e});let doneResolver$1;sub("plugins-done",async e=>{const t=[];if(Array.isArray(e.postProcess)){const n=e.postProcess.filter(e=>{const t="function"==typeof e;return t||pub("error","Every item in `postProcess` must be a JS function."),t}).map(async t=>{try{return await t(e,document)}catch(e){pub("error",`Function ${t.name} threw an error during \`postProcess\`. See developer console.`),console.error(e)}}),r=await Promise.all(n);t.push(...r)}"function"==typeof e.afterEnd&&t.push(await e.afterEnd(e,document)),doneResolver(t)},{once:!0});const done$1=new Promise(e=>{doneResolver$1=e});sub("start-all",async e=>{const t=[];if(Array.isArray(e.preProcess)){const n=e.preProcess.filter(e=>{const t="function"==typeof e;return t||pub("error","Every item in `preProcess` must be a JS function."),t}).map(async t=>{try{return await t(e,document)}catch(e){pub("error",`Function ${t.name} threw an error during \`preProcess\`. See developer console.`),console.error(e)}}),r=await Promise.all(n);t.push(...r)}doneResolver$1(t)},{once:!0});const name$1="core/l10n",html=document.documentElement;html&&!html.hasAttribute("lang")&&(html.lang="en",html.hasAttribute("dir")||(html.dir="ltr"));const base={about_respec:"About",abstract:"Abstract",author:"Author:",authors:"Authors:",bug_tracker:"Bug tracker:",close_parens:")",definition_list:"Definitions",editor:"Editor:",editors_note:"Editor's note",editors:"Editors:",feature_at_risk:"(Feature at Risk) Issue",former_editor:"Former editor:",former_editors:"Former editors:",info_references:"Informative references",issue_summary:"Issue Summary",issue:"Issue",latest_editors_draft:"Latest editor's draft:",latest_published_version:"Latest published version:",list_of_definitions:"List of Definitions",norm_references:"Normative references",note:"Note",open_bugs:"open bugs",open_parens:"(",participate:"Participate",references:"References",save_as:"Save as",save_snapshot:"Export",search_specref:"Search Specref",sotd:"Status of This Document",this_version:"This version:",toc:"Table of Contents",warning:"Warning"},ko={abstract:"요약",author:"저자:",authors:"저자:",latest_published_version:"최신 버전:",sotd:"현재 문서의 상태",this_version:"현재 버전:"},zh={about_respec:"关于",abstract:"摘要",bug_tracker:"错误跟踪：",editor:"编辑：",editors:"编辑：",file_a_bug:"反馈错误",former_editor:"原编辑：",former_editors:"原编辑：",latest_editors_draft:"最新编辑草稿：",latest_published_version:"最新发布版本：",note:"注",open_bugs:"修正中的错误",participate:"参与：",sotd:"关于本文档",this_version:"本版本：",toc:"内容大纲"},ja={abstract:"要約",author:"著者：",authors:"著者：",bug_tracker:"バグの追跡履歴：",editor:"編者：",editors:"編者：",file_a_bug:"問題報告",former_editor:"以前の版の編者：",former_editors:"以前の版の編者：",latest_editors_draft:"最新の編集用草案：",latest_published_version:"最新バージョン：",note:"注",open_bugs:"改修されていないバグ",participate:"参加方法：",sotd:"この文書の位置付け",this_version:"このバージョン：",toc:"目次"},nl={about_respec:"Over",abstract:"Samenvatting",author:"Auteur:",authors:"Auteurs:",bug_tracker:"Meldingensysteem:",definition_list:"Lijst van Definities",editor:"Redacteur:",editors_note:"Redactionele noot",editors:"Redacteurs:",file_a_bug:"Dien een melding in",info_references:"Informatieve referenties",issue_summary:"Lijst met issues",latest_editors_draft:"Laatste werkversie:",latest_published_version:"Laatst gepubliceerde versie:",list_of_definitions:"Lijst van Definities",norm_references:"Normatieve referenties",note:"Noot",open_bugs:"open meldingen",participate:"Doe mee",references:"Referenties",save_as:"Bewaar als",save_snapshot:"Bewaar Snapshot",search_specref:"Doorzoek Specref",sotd:"Status van dit document",this_version:"Deze versie:",toc:"Inhoudsopgave",warning:"Waarschuwing"},es={abstract:"Resumen",author:"Autor:",authors:"Autores:",bug_tracker:"Repositorio de bugs:",close_parens:")",editor:"Editor:",editors_note:"Nota de editor",editors:"Editores:",file_a_bug:"Nota un bug",info_references:"Referencias informativas",issue_summary:"Resumen de la cuestión",issue:"Cuestión",latest_editors_draft:"Borrador de editor mas reciente:",latest_published_version:"Versión publicada mas reciente:",norm_references:"Referencias normativas",note:"Nota",open_bugs:"Bugs abiertos",open_parens:"(",participate:"Participad",references:"Referencias",sotd:"Estado de este Document",this_version:"Ésta versión:",toc:"Tabla de Contenidos",warning:"Aviso"},l10n={en:{...base},ko:{...base,...ko},zh:{...base,...zh},ja:{...base,...ja},nl:{...base,...nl},es:{...base,...es}};l10n["zh-hans"]=l10n.zh,l10n["zh-cn"]=l10n.zh;const lang=html&&html.lang in l10n?html.lang:"en";function run(e){e.l10n=l10n[lang]||l10n.en}var l10n$1=Object.freeze({__proto__:null,name:name$1,l10n:l10n,lang:lang,run:run});const dashes=/-/g,ISODate=new Intl.DateTimeFormat(["en-ca-iso8601"],{timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit"}),resourceHints=new Set(["dns-prefetch","preconnect","preload","prerender"]),fetchDestinations=new Set(["document","embed","font","image","manifest","media","object","report","script","serviceworker","sharedworker","style","worker","xslt",""]),nonNormativeSelector=".informative, .note, .issue, .example, .ednote, .practice, .introductory";function createResourceHint(e){if(!e||"object"!=typeof e)throw new TypeError("Missing options");if(!resourceHints.has(e.hint))throw new TypeError("Invalid resources hint");const t=new URL(e.href,location.href),n=document.createElement("link");let{href:r}=t;switch(n.rel=e.hint,n.rel){case"dns-prefetch":case"preconnect":r=t.origin,(e.corsMode||t.origin!==document.location.origin)&&(n.crossOrigin=e.corsMode||"anonymous");break;case"preload":"as"in e&&"string"==typeof e.as&&(fetchDestinations.has(e.as)||console.warn(`Unknown request destination: ${e.as}`),n.setAttribute("as",e.as))}return n.href=r,e.dontRemove||n.classList.add("removeOnSave"),n}function removeReSpec(e){e.querySelectorAll(".remove, script[data-requiremodule]").forEach(e=>{e.remove()})}function showInlineWarning(e,t,n){Array.isArray(e)||(e=[e]);const r=e.map((e,r)=>(markAsOffending(e,t,n),generateMarkdownLink(e,r))).join(", ");pub("warn",`${t} at: ${r}.`),console.warn(t,e)}function showInlineError(e,t,n,{details:r}={}){Array.isArray(e)||(e=[e]);const o=e.map((e,r)=>(markAsOffending(e,t,n),generateMarkdownLink(e,r))).join(", ");let i=`${t} at: ${o}.`;r&&(i+=`\n\n<details>${r}</details>`),pub("error",i),console.error(t,e)}function markAsOffending(e,t,n){e.classList.add("respec-offending-element"),e.hasAttribute("title")||e.setAttribute("title",n||t),e.id||addId(e,"respec-offender")}function generateMarkdownLink(e,t){return`[${t+1}](#${e.id})`}class IDBKeyVal{constructor(e,t){this.idb=e,this.storeName=t}async get(e){return await this.idb.transaction(this.storeName).objectStore(this.storeName).get(e)}async getMany(e){const t=new Set(e),n=new Map;let r=await this.idb.transaction(this.storeName).store.openCursor();for(;r;)t.has(r.key)&&n.set(r.key,r.value),r=await r.continue();return n}async set(e,t){const n=this.idb.transaction(this.storeName,"readwrite");return n.objectStore(this.storeName).put(t,e),await n.done}async addMany(e){const t=this.idb.transaction(this.storeName,"readwrite");for(const[n,r]of e)t.objectStore(this.storeName).put(r,n);return await t.done}async clear(){const e=this.idb.transaction(this.storeName,"readwrite");return e.objectStore(this.storeName).clear(),await e.done}async keys(){const e=this.idb.transaction(this.storeName),t=e.objectStore(this.storeName).getAllKeys();return await e.done,t}}function joinAnd(e=[],t=(e=>e),n=lang){const r=e.map(t);if(Intl.ListFormat&&"function"==typeof Intl.ListFormat){return new Intl.ListFormat(n,{style:"long",type:"conjunction"}).format(r)}switch(r.length){case 0:case 1:return r.toString();case 2:return r.join(" and ");default:{const e=r.join(", "),t=e.lastIndexOf(",");return`${e.substr(0,t+1)} and ${e.slice(t+2)}`}}}function xmlEscape(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/</g,"&lt;")}function norm(e){return e.trim().replace(/\s+/g," ")}function concatDate(e,t=""){return ISODate.format(e).replace(dashes,t)}function toShortIsoDate(e){return ISODate.format(e)}function humanDate(e=new Date,t=document.documentElement.lang||"en"){e instanceof Date||(e=new Date(e));const n=[t,"en"];return`${e.toLocaleString(n,{day:"2-digit",timeZone:"UTC"})} ${e.toLocaleString(n,{month:"long",timeZone:"UTC"})} ${e.toLocaleString(n,{year:"numeric",timeZone:"UTC"})}`}function toKeyValuePairs(e,t=", ",n="="){return Array.from(Object.entries(e)).map(([e,t])=>`${e}${n}${JSON.stringify(t)}`).join(t)}function linkCSS(e,t){const n=[].concat(t).map(t=>{const n=e.createElement("link");return n.rel="stylesheet",n.href=t,n}).reduce((e,t)=>(e.appendChild(t),e),e.createDocumentFragment());e.head.appendChild(n)}function runTransforms(e,t){let n=[this,e];const r=Array.from(arguments);if(r.shift(),r.shift(),n=n.concat(r),t){const r=t.split(/\s+/);for(let t=0;t<r.length;t++){const o=r[t],i=window[o];if(i)try{e=i.apply(this,n)}catch(e){pub("warn",`call to \`${o}()\` failed with: ${e}. See error console for stack trace.`),console.error(e)}}}return e}async function fetchAndCache(e,t=864e5){const n=new Request(e),r=new URL(n.url);let o,i;if("caches"in window)try{if(o=await caches.open(r.origin),(i=await o.match(n))&&new Date(i.headers.get("Expires"))>new Date)return i}catch(e){console.error("Failed to use Cache API.",e)}const a=await fetch(n);if(!a.ok&&i)return console.warn(`Returning a stale cached response for ${r}`),i;if(o&&a.ok){const e=a.clone(),r=new Headers(a.headers),i=new Date(Date.now()+t);r.set("Expires",i.toString());const s=new Response(await e.blob(),{headers:r});await o.put(n,s).catch(console.error)}return a}function flatten(e,t){const n=Array.isArray(t)?t.slice().reduce(flatten,[]):[t];return e.push(...n),e}function addId(e,t="",n="",r=!1){if(e.id)return e.id;n||(n=(e.title?e.title:e.textContent).trim());let o=r?n:n.toLowerCase();if((o=o.trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\W+/gim,"-").replace(/^-+/,"").replace(/-+$/,""))?"example"===t?o=n:!/\.$/.test(o)&&/^[a-z]/i.test(o)||(o=`x${o}`):o="generatedID",t&&(o=`${t}-${o}`),e.ownerDocument.getElementById(o)){let t=0,n=`${o}-${t}`;for(;e.ownerDocument.getElementById(n);)n=`${o}-${t+=1}`;o=n}return e.id=o,o}function getTextNodes(e,t=[],n={wsNodes:!0}){const r=t.join(", "),o=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,e=>n.wsNodes||e.data.trim()?r&&e.parentElement.closest(r)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT),i=[];let a;for(;a=o.nextNode();)i.push(a);return i}function getDfnTitles(e){const t=new Set,n="ltNodefault"in e.dataset?"":norm(e.textContent),r=e.children[0];if(e.dataset.lt?e.dataset.lt.split("|").map(e=>norm(e)).forEach(e=>t.add(e)):1===e.childNodes.length&&1===e.getElementsByTagName("abbr").length&&r.title?t.add(r.title):'""'===e.textContent&&t.add("the-empty-string"),t.add(n),t.delete(""),e.dataset.localLt){e.dataset.localLt.split("|").forEach(e=>t.add(norm(e)))}return[...t]}function getLinkTargets(e){const t=e.closest("[data-link-for]"),n=t?t.dataset.linkFor:"";return getDfnTitles(e).reduce((e,t)=>{const r=t.split(".");return 2===r.length&&e.push({for:r[0],title:r[1]}),e.push({for:n,title:t}),""!==n&&e.push({for:"",title:t}),e},[])}function renameElement(e,t){if(e.localName===t)return e;const n=e.ownerDocument.createElement(t);for(const{name:t,value:r}of e.attributes)n.setAttribute(t,r);return n.append(...e.childNodes),e.replaceWith(n),n}function refTypeFromContext(e,t){const n=t.closest(nonNormativeSelector);let r=!1;if(n&&(r=!t.closest(".normative")||!n.querySelector(".normative")),e.startsWith("!")){if(r)return{type:"informative",illegal:!0};r=!1}else e.startsWith("?")&&(r=!0);return{type:r?"informative":"normative",illegal:!1}}function wrapInner(e,t){return t.append(...e.childNodes),e.appendChild(t),e}function parents(e,t){const n=[];let r=e.parentElement;for(;r;){const e=r.closest(t);if(!e)break;n.push(e),r=e.parentElement}return n}function children(e,t){try{return e.querySelectorAll(`:scope > ${t}`)}catch{let n="";e.id||(n=`temp-${String(Math.random()).substr(2)}`,e.id=n);const r=`#${e.id} > ${t}`,o=e.parentElement.querySelectorAll(r);return n&&(e.id=""),o}}function msgIdGenerator(e,t=0){const n=function*(e,t){for(;;)yield`${e}:${t}`,t++}(e,t);return()=>n.next().value}class InsensitiveStringSet extends Set{constructor(e=[]){super();for(const t of e)this.add(t)}add(e){return this.has(e)||this.getCanonicalKey(e)?this:super.add(e)}has(e){return super.has(e)||[...this.keys()].some(t=>t.toLowerCase()===e.toLowerCase())}delete(e){return super.has(e)?super.delete(e):super.delete(this.getCanonicalKey(e))}getCanonicalKey(e){return super.has(e)?e:[...this.keys()].find(t=>t.toLowerCase()===e.toLowerCase())}}function makeSafeCopy(e){const t=e.cloneNode(!0);return t.querySelectorAll("[id]").forEach(e=>e.removeAttribute("id")),t.querySelectorAll("dfn").forEach(e=>renameElement(e,"span")),t.hasAttribute("id")&&t.removeAttribute("id"),removeCommentNodes(t),t}function removeCommentNodes(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT);for(const e of[...walkTree(t)])e.remove()}function*walkTree(e){for(;e.nextNode();)yield e.currentNode}const name$2="core/base-runner",canMeasure=performance.mark&&performance.measure;function toRunnable(e){const t=e.name||"";return t||console.warn("Plugin lacks name:",e),n=>new Promise(async(r,o)=>{const i=setTimeout(()=>{const n=`Plugin ${t} took too long.`;console.error(n,e),o(new Error(n))},15e3);canMeasure&&performance.mark(`${t}-start`);try{e.run.length<=1?(await e.run(n),r()):(console.warn(`Plugin ${t} uses a deprecated callback signature. Return a Promise instead. Read more at: https://github.com/w3c/respec/wiki/Developers-Guide#plugins`),e.run(n,document,r))}catch(e){o(e)}finally{clearTimeout(i)}canMeasure&&(performance.mark(`${t}-end`),performance.measure(t,`${t}-start`,`${t}-end`))})}async function runAll(e){pub("start-all",respecConfig),canMeasure&&performance.mark(`${name$2}-start`),await done$1;const t=e.filter(e=>e&&e.run).map(toRunnable);for(const e of t)try{await e(respecConfig)}catch(e){console.error(e)}pub("plugins-done",respecConfig),await done,pub("end-all",respecConfig),removeReSpec(document),canMeasure&&(performance.mark(`${name$2}-end`),performance.measure(name$2,`${name$2}-start`,`${name$2}-end`))}var baseRunner=Object.freeze({__proto__:null,name:name$2,runAll:runAll});async function fetchBase(e){const t=await fetch(new URL(`../../${e}`,"undefined"==typeof document?new(require("url").URL)("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("respec-w3c.js",document.baseURI).href));return await t.text()}async function fetchAsset(e){return fetchBase(`assets/${e}`)}const instanceOfAny=(e,t)=>t.some(t=>e instanceof t);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(wrap(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&cursorRequestMap.set(t,e)}).catch(()=>{}),reverseTransformCache.set(t,e),t}function cacheDonePromiseForTransaction(e){if(transactionDoneMap.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});transactionDoneMap.set(e,t)}let idbProxyTraps={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return transactionDoneMap.get(e);if("objectStoreNames"===t)return e.objectStoreNames||transactionStoreNamesMap.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wrap(e[t])},has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function addTraps(e){idbProxyTraps=e(idbProxyTraps)}function wrapFunction(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?getCursorAdvanceMethods().includes(e)?function(...t){return e.apply(unwrap(this),t),wrap(cursorRequestMap.get(this))}:function(...t){return wrap(e.apply(unwrap(this),t))}:function(t,...n){const r=e.call(unwrap(this),t,...n);return transactionStoreNamesMap.set(r,t.sort?t.sort():[t]),wrap(r)}}function transformCachableValue(e){return"function"==typeof e?wrapFunction(e):(e instanceof IDBTransaction&&cacheDonePromiseForTransaction(e),instanceOfAny(e,getIdbProxyableTypes())?new Proxy(e,idbProxyTraps):e)}function wrap(e){if(e instanceof IDBRequest)return promisifyRequest(e);if(transformCache.has(e))return transformCache.get(e);const t=transformCachableValue(e);return t!==e&&(transformCache.set(e,t),reverseTransformCache.set(t,e)),t}const unwrap=e=>reverseTransformCache.get(e);function openDB(e,t,{blocked:n,upgrade:r,blocking:o}={}){const i=indexedDB.open(e,t),a=wrap(i);return r&&i.addEventListener("upgradeneeded",e=>{r(wrap(i.result),e.oldVersion,e.newVersion,wrap(i.transaction))}),n&&i.addEventListener("blocked",()=>n()),o&&a.then(e=>e.addEventListener("versionchange",o)).catch(()=>{}),a}function deleteDB(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),wrap(n).then(()=>void 0)}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(cachedMethods.get(t))return cachedMethods.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=writeMethods.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!readMethods.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;r&&(a=a.index(t.shift()));const s=a[n](...t);return o&&await i.done,s};return cachedMethods.set(t,i),i}addTraps(e=>({get:(t,n,r)=>getMethod(t,n)||e.get(t,n,r),has:(t,n)=>!!getMethod(t,n)||e.has(t,n)}));var _idb=Object.freeze({__proto__:null,openDB:openDB,deleteDB:deleteDB,unwrap:unwrap,wrap:wrap});function lastLine(e){const t=e.split("\n");return t[t.length-1]}function error(e,t,n,r,o,{level:i="error",autofix:a,ruleName:s}={}){function c(n){return n>0?e.slice(t,t+n):e.slice(Math.max(t+n,0),t)}function l(n,{precedes:r}={}){const o=n.map(e=>e.trivia+e.value).join(""),i=e[t];return"eof"===i.type?o:r?o+i.trivia:o.slice(i.trivia.length)}const u="eof"!==e[t].type?e[t].line:e.length>1?e[t-1].line:1,d=lastLine(l(c(-5),{precedes:!0})),p=c(5),h=l(p),f=d+h.split("\n")[0]+"\n"+(" ".repeat(d.length)+"^"),m="Syntax"===o?"since":"inside",g=`${o} error at line ${u}${e.name?` in ${e.name}`:""}${n&&n.name?`, ${m} \`${n.partial?"partial ":""}${n.type} ${n.name}\``:""}:\n${f}`;return{message:`${g} ${r}`,bareMessage:r,context:g,line:u,sourceName:e.name,level:i,ruleName:s,autofix:a,input:h,tokens:p}}function syntaxError(e,t,n,r){return error(e,t,n,r,"Syntax")}function validationError(e,t,n,r,o={}){return o.ruleName=n,error(t.source,e.index,t,r,"Validation",o)}class Base{constructor({source:e,tokens:t}){Object.defineProperties(this,{source:{value:e},tokens:{value:t},parent:{value:null,writable:!0},this:{value:this}})}toJSON(){const e={type:void 0,name:void 0,inheritance:void 0};let t=this;for(;t!==Object.prototype;){const n=Object.getOwnPropertyDescriptors(t);for(const[t,r]of Object.entries(n))(r.enumerable||r.get)&&(e[t]=this[t]);t=Object.getPrototypeOf(t)}return e}}function idlTypeIncludesDictionary(e,t,{useNullableInner:n}={}){if(!e.union){const r=t.unique.get(e.idlType);if(!r)return;if("typedef"===r.type){const{typedefIncludesDictionary:n}=t.cache;if(n.has(r))return n.get(r);t.cache.typedefIncludesDictionary.set(r,void 0);const o=idlTypeIncludesDictionary(r.idlType,t);if(t.cache.typedefIncludesDictionary.set(r,o),o)return{reference:e,dictionary:o.dictionary}}if("dictionary"===r.type&&(n||!e.nullable))return{reference:e,dictionary:r}}for(const n of e.subtype){const e=idlTypeIncludesDictionary(n,t);if(e)return n.union?e:{reference:n,dictionary:e.dictionary}}}function dictionaryIncludesRequiredField(e,t){if(t.cache.dictionaryIncludesRequiredField.has(e))return t.cache.dictionaryIncludesRequiredField.get(e);if(t.cache.dictionaryIncludesRequiredField.set(e,void 0),e.inheritance){const n=t.unique.get(e.inheritance);if(!n)return!0;if(dictionaryIncludesRequiredField(n,t))return!0}const n=e.members.some(e=>e.required);return t.cache.dictionaryIncludesRequiredField.set(e,n),n}function generic_type(e,t){const n=e.consume("FrozenArray","Promise","sequence","record");if(!n)return;const r=autoParenter(new Type({source:e.source,tokens:{base:n}}));switch(r.tokens.open=e.consume("<")||e.error(`No opening bracket after ${n.type}`),n.type){case"Promise":{e.probe("[")&&e.error("Promise type cannot have extended attribute");const n=return_type(e,t)||e.error("Missing Promise subtype");r.subtype.push(n);break}case"sequence":case"FrozenArray":{const o=type_with_extended_attributes(e,t)||e.error(`Missing ${n.type} subtype`);r.subtype.push(o);break}case"record":{e.probe("[")&&e.error("Record key cannot have extended attribute");const n=e.consume(...stringTypes)||e.error(`Record key must be one of: ${stringTypes.join(", ")}`),o=new Type({source:e.source,tokens:{base:n}});o.tokens.separator=e.consume(",")||e.error("Missing comma after record key type"),o.type=t;const i=type_with_extended_attributes(e,t)||e.error("Error parsing generic type record");r.subtype.push(o,i);break}}return r.idlType||e.error(`Error parsing generic type ${n.type}`),r.tokens.close=e.consume(">")||e.error(`Missing closing bracket after ${n.type}`),r.this}function type_suffix(e,t){const n=e.consume("?");n&&(t.tokens.nullable=n),e.probe("?")&&e.error("Can't nullable more than once")}function single_type(e,t){let n=generic_type(e,t)||primitive_type(e);if(!n){const t=e.consume("identifier",...stringTypes,...typeNameKeywords);if(!t)return;n=new Type({source:e.source,tokens:{base:t}}),e.probe("<")&&e.error(`Unsupported generic type ${t.value}`)}return"Promise"===n.generic&&e.probe("?")&&e.error("Promise type cannot be nullable"),n.type=t||null,type_suffix(e,n),n.nullable&&"any"===n.idlType&&e.error("Type `any` cannot be made nullable"),n}function union_type(e,t){const n={};if(n.open=e.consume("("),!n.open)return;const r=autoParenter(new Type({source:e.source,tokens:n}));for(r.type=t||null;;){const t=type_with_extended_attributes(e)||e.error("No type after open parenthesis or 'or' in union type");"any"===t.idlType&&e.error("Type `any` cannot be included in a union type"),"Promise"===t.generic&&e.error("Type `Promise` cannot be included in a union type"),r.subtype.push(t);const n=e.consume("or");if(!n)break;t.tokens.separator=n}return r.idlType.length<2&&e.error("At least two types are expected in a union type but found less"),n.close=e.consume(")")||e.error("Unterminated union type"),type_suffix(e,r),r.this}class Type extends Base{static parse(e,t){return single_type(e,t)||union_type(e,t)}constructor({source:e,tokens:t}){super({source:e,tokens:t}),Object.defineProperty(this,"subtype",{value:[],writable:!0}),this.extAttrs=[]}get generic(){return this.subtype.length&&this.tokens.base?this.tokens.base.value:""}get nullable(){return Boolean(this.tokens.nullable)}get union(){return Boolean(this.subtype.length)&&!this.tokens.base}get idlType(){if(this.subtype.length)return this.subtype;return unescape([this.tokens.prefix,this.tokens.base,this.tokens.postfix].filter(e=>e).map(e=>e.value).join(" "))}*validate(e){const t=!this.union&&e.unique.get(this.idlType),n=this.union?this:t&&"typedef"===t.type?t.idlType:void 0;if(n&&this.nullable){const{reference:t}=idlTypeIncludesDictionary(n,e)||{};if(t){const e=(this.union?t:this).tokens.base,n="Nullable union cannot include a dictionary type";yield validationError(e,this,"no-nullable-union-dict",n)}}else for(const t of this.subtype)yield*t.validate(e)}}class Default extends Base{static parse(e){const t=e.consume("=");if(!t)return null;const n=const_value(e)||e.consume("string","null","[","{")||e.error("No value for default"),r=[n];if("["===n.type){const t=e.consume("]")||e.error("Default sequence value must be empty");r.push(t)}else if("{"===n.type){const t=e.consume("}")||e.error("Default dictionary value must be empty");r.push(t)}return new Default({source:e.source,tokens:{assign:t},expression:r})}constructor({source:e,tokens:t,expression:n}){super({source:e,tokens:t}),n.parent=this,Object.defineProperty(this,"expression",{value:n})}get type(){return const_data(this.expression[0]).type}get value(){return const_data(this.expression[0]).value}get negative(){return const_data(this.expression[0]).negative}}class ArrayBase extends Array{constructor({source:e,tokens:t}){super(),Object.defineProperties(this,{source:{value:e},tokens:{value:t},parent:{value:null,writable:!0}})}}class Token extends Base{static parser(e,t){return()=>{const n=e.consume(t);if(n)return new Token({source:e.source,tokens:{value:n}})}}get value(){return unescape(this.tokens.value.value)}}function tokens(e,t){return list(e,{parser:Token.parser(e,t),listName:t+" list"})}function identifiersOrStrings(e){let t=tokens(e,"identifier");return t.length?t:(t=tokens(e,"string")).length?t:void e.error("Expected identifiers or strings but none found")}class ExtendedAttributeParameters extends Base{static parse(e){const t={assign:e.consume("=")},n=autoParenter(new ExtendedAttributeParameters({source:e.source,tokens:t}));return t.assign&&(t.secondaryName=e.consume("identifier","decimal","integer","string")),t.open=e.consume("("),t.open?(n.list=n.rhsIsList?identifiersOrStrings(e):argument_list(e),t.close=e.consume(")")||e.error("Unexpected token in extended attribute argument list")):n.hasRhs&&!t.secondaryName&&e.error("No right hand side to extended attribute assignment"),n.this}get rhsIsList(){return this.tokens.assign&&!this.tokens.secondaryName}get rhsType(){return this.rhsIsList?this.list[0].tokens.value.type+"-list":this.tokens.secondaryName?this.tokens.secondaryName.type:null}}class SimpleExtendedAttribute extends Base{static parse(e){const t=e.consume("identifier");if(t)return new SimpleExtendedAttribute({source:e.source,tokens:{name:t},params:ExtendedAttributeParameters.parse(e)})}constructor({source:e,tokens:t,params:n}){super({source:e,tokens:t}),n.parent=this,Object.defineProperty(this,"params",{value:n})}get type(){return"extended-attribute"}get name(){return this.tokens.name.value}get rhs(){const{rhsType:e,tokens:t,list:n}=this.params;return e?{type:e,value:this.params.rhsIsList?n:unescape(t.secondaryName.value)}:null}get arguments(){const{rhsIsList:e,list:t}=this.params;return!t||e?[]:t}*validate(e){if("NoInterfaceObject"===this.name){const e="`[NoInterfaceObject]` extended attribute is an undesirable feature that may be removed from Web IDL in the future. Refer to the [relevant upstream PR](https://github.com/heycam/webidl/pull/609) for more information.";yield validationError(this.tokens.name,this,"no-nointerfaceobject",e,{level:"warning"})}for(const t of this.arguments)yield*t.validate(e)}}class ExtendedAttributes extends ArrayBase{static parse(e){const t={};if(t.open=e.consume("["),!t.open)return new ExtendedAttributes({});const n=new ExtendedAttributes({source:e.source,tokens:t});return n.push(...list(e,{parser:SimpleExtendedAttribute.parse,listName:"extended attribute"})),t.close=e.consume("]")||e.error("Unexpected closing token of extended attribute"),n.length||e.error("Found an empty extended attribute"),e.probe("[")&&e.error("Illegal double extended attribute lists, consider merging them"),n}*validate(e){for(const t of this)yield*t.validate(e)}}class Argument extends Base{static parse(e){const t=e.position,n={},r=autoParenter(new Argument({source:e.source,tokens:n}));return r.extAttrs=ExtendedAttributes.parse(e),n.optional=e.consume("optional"),r.idlType=type_with_extended_attributes(e,"argument-type"),r.idlType?(n.optional||(n.variadic=e.consume("...")),n.name=e.consume("identifier",...argumentNameKeywords),n.name?(r.default=n.optional?Default.parse(e):null,r.this):e.unconsume(t)):e.unconsume(t)}get type(){return"argument"}get optional(){return!!this.tokens.optional}get variadic(){return!!this.tokens.variadic}get name(){return unescape(this.tokens.name.value)}*validate(e){yield*this.idlType.validate(e);const t=idlTypeIncludesDictionary(this.idlType,e,{useNullableInner:!0});if(t)if(this.idlType.nullable){const e="Dictionary arguments cannot be nullable.";yield validationError(this.tokens.name,this,"no-nullable-dict-arg",e)}else if(this.optional){if(!this.default){const e="Optional dictionary arguments must have a default value of `{}`.";yield validationError(this.tokens.name,this,"dict-arg-default",e,{autofix:autofixOptionalDictionaryDefaultValue(this)})}}else if(this.parent&&!dictionaryIncludesRequiredField(t.dictionary,e)&&isLastRequiredArgument(this)){const e="Dictionary argument must be optional if it has no required fields";yield validationError(this.tokens.name,this,"dict-arg-optional",e,{autofix:autofixDictionaryArgumentOptionality(this)})}}}function isLastRequiredArgument(e){const t=e.parent.arguments||e.parent.list,n=t.indexOf(e);return!t.slice(n+1).some(e=>!e.optional)}function autofixDictionaryArgumentOptionality(e){return()=>{const t=getFirstToken(e.idlType);e.tokens.optional={type:"optional",value:"optional",trivia:t.trivia},t.trivia=" ",autofixOptionalDictionaryDefaultValue(e)()}}function autofixOptionalDictionaryDefaultValue(e){return()=>{e.default=Default.parse(new Tokeniser(" = {}"))}}class Operation extends Base{static parse(e,{special:t,regular:n}={}){const r={special:t},o=autoParenter(new Operation({source:e.source,tokens:r}));return t&&"stringifier"===t.value&&(r.termination=e.consume(";"),r.termination)?(o.arguments=[],o):(t||n||(r.special=e.consume("getter","setter","deleter")),o.idlType=return_type(e)||e.error("Missing return type"),r.name=e.consume("identifier","includes"),r.open=e.consume("(")||e.error("Invalid operation"),o.arguments=argument_list(e),r.close=e.consume(")")||e.error("Unterminated operation"),r.termination=e.consume(";")||e.error("Unterminated operation, expected `;`"),o.this)}get type(){return"operation"}get name(){const{name:e}=this.tokens;return e?unescape(e.value):""}get special(){return this.tokens.special?this.tokens.special.value:""}*validate(e){if(!this.name&&["","static"].includes(this.special)){const e="Regular or static operations must have both a return type and an identifier.";yield validationError(this.tokens.open,this,"incomplete-op",e)}this.idlType&&(yield*this.idlType.validate(e));for(const t of this.arguments)yield*t.validate(e)}}class Attribute extends Base{static parse(e,{special:t,noInherit:n=!1,readonly:r=!1}={}){const o=e.position,i={special:t},a=autoParenter(new Attribute({source:e.source,tokens:i}));if(t||n||(i.special=e.consume("inherit")),"inherit"===a.special&&e.probe("readonly")&&e.error("Inherited attributes cannot be read-only"),i.readonly=e.consume("readonly"),r&&!i.readonly&&e.probe("attribute")&&e.error("Attributes must be readonly in this context"),i.base=e.consume("attribute"),i.base){switch(a.idlType=type_with_extended_attributes(e,"attribute-type")||e.error("Attribute lacks a type"),a.idlType.generic){case"sequence":case"record":e.error(`Attributes cannot accept ${a.idlType.generic} types`)}return i.name=e.consume("identifier","async","required")||e.error("Attribute lacks a name"),i.termination=e.consume(";")||e.error("Unterminated attribute, expected `;`"),a.this}e.unconsume(o)}get type(){return"attribute"}get special(){return this.tokens.special?this.tokens.special.value:""}get readonly(){return!!this.tokens.readonly}get name(){return unescape(this.tokens.name.value)}*validate(e){yield*this.idlType.validate(e)}}function unescape(e){return e.startsWith("_")?e.slice(1):e}function list(e,{parser:t,allowDangler:n,listName:r="list"}){const o=t(e);if(!o)return[];o.tokens.separator=e.consume(",");const i=[o];for(;o.tokens.separator;){const o=t(e);if(!o){n||e.error(`Trailing comma in ${r}`);break}if(o.tokens.separator=e.consume(","),i.push(o),!o.tokens.separator)break}return i}function const_value(e){return e.consume("true","false","Infinity","-Infinity","NaN","decimal","integer")}function const_data({type:e,value:t}){switch(e){case"true":case"false":return{type:"boolean",value:"true"===e};case"Infinity":case"-Infinity":return{type:"Infinity",negative:e.startsWith("-")};case"[":return{type:"sequence",value:[]};case"{":return{type:"dictionary"};case"decimal":case"integer":return{type:"number",value:t};case"string":return{type:"string",value:t.slice(1,-1)};default:return{type:e}}}function primitive_type(e){const{source:t}=e,n=function(){const n=e.consume("unsigned"),r=e.consume("short","long");if(r){const o=e.consume("long");return new Type({source:t,tokens:{prefix:n,base:r,postfix:o}})}n&&e.error("Failed to parse integer type")}()||function(){const n=e.consume("unrestricted"),r=e.consume("float","double");if(r)return new Type({source:t,tokens:{prefix:n,base:r}});n&&e.error("Failed to parse float type")}();if(n)return n;const r=e.consume("boolean","byte","octet");return r?new Type({source:t,tokens:{base:r}}):void 0}function argument_list(e){return list(e,{parser:Argument.parse,listName:"arguments list"})}function type_with_extended_attributes(e,t){const n=ExtendedAttributes.parse(e),r=Type.parse(e,t);return r&&(autoParenter(r).extAttrs=n),r}function return_type(e,t){const n=Type.parse(e,t||"return-type");if(n)return n;const r=e.consume("void");if(r){const t=new Type({source:e.source,tokens:{base:r}});return t.type="return-type",t}}function stringifier(e){const t=e.consume("stringifier");if(t)return Attribute.parse(e,{special:t})||Operation.parse(e,{special:t})||e.error("Unterminated stringifier")}function getLastIndentation(e){const t=e.split("\n");if(t.length){const e=t[t.length-1].match(/^\s+/);if(e)return e[0]}return""}function getMemberIndentation(e){const t=getLastIndentation(e),n=t.includes("\t")?"\t":"  ";return t+n}function autofixAddExposedWindow(e){return()=>{if(e.extAttrs.length){const t=new Tokeniser("Exposed=Window,"),n=SimpleExtendedAttribute.parse(t);n.tokens.separator=t.consume(",");const r=e.extAttrs[0];/^\s/.test(r.tokens.name.trivia)||(r.tokens.name.trivia=` ${r.tokens.name.trivia}`),e.extAttrs.unshift(n)}else{autoParenter(e).extAttrs=ExtendedAttributes.parse(new Tokeniser("[Exposed=Window]"));const t=e.tokens.base.trivia;e.extAttrs.tokens.open.trivia=t,e.tokens.base.trivia=`\n${getLastIndentation(t)}`}}}function getFirstToken(e){if(e.extAttrs.length)return e.extAttrs.tokens.open;if("operation"===e.type&&!e.special)return getFirstToken(e.idlType);return Object.values(e.tokens).sort((e,t)=>e.index-t.index)[0]}function findLastIndex(e,t){const n=e.slice().reverse().findIndex(t);return-1===n?n:e.length-n-1}function autoParenter(e,t){return t||(t=e),e?new Proxy(e,{get(e,t){const n=e[t];return Array.isArray(n)?autoParenter(n,e):n},set(e,n,r){if(e[n]=r,!r)return!0;if(Array.isArray(r))for(const e of r)void 0!==e.parent&&(e.parent=t);else void 0!==r.parent&&(r.parent=t);return!0}}):e}const tokenRe={decimal:/-?(?=[0-9]*\.|[0-9]+[eE])(([0-9]+\.[0-9]*|[0-9]*\.[0-9]+)([Ee][-+]?[0-9]+)?|[0-9]+[Ee][-+]?[0-9]+)/y,integer:/-?(0([Xx][0-9A-Fa-f]+|[0-7]*)|[1-9][0-9]*)/y,identifier:/[_-]?[A-Za-z][0-9A-Z_a-z-]*/y,string:/"[^"]*"/y,whitespace:/[\t\n\r ]+/y,comment:/((\/(\/.*|\*([^*]|\*[^/])*\*\/)[\t\n\r ]*)+)/y,other:/[^\t\n\r 0-9A-Za-z]/y},typeNameKeywords=["ArrayBuffer","DataView","Int8Array","Int16Array","Int32Array","Uint8Array","Uint16Array","Uint32Array","Uint8ClampedArray","Float32Array","Float64Array","any","object","symbol"],stringTypes=["ByteString","DOMString","USVString"],argumentNameKeywords=["async","attribute","callback","const","constructor","deleter","dictionary","enum","getter","includes","inherit","interface","iterable","maplike","namespace","partial","required","setlike","setter","static","stringifier","typedef","unrestricted"],nonRegexTerminals=["-Infinity","FrozenArray","Infinity","NaN","Promise","boolean","byte","double","false","float","long","mixin","null","octet","optional","or","readonly","record","sequence","short","true","unsigned","void"].concat(argumentNameKeywords,stringTypes,typeNameKeywords),punctuations=["(",")",",","...",":",";","<","=",">","?","[","]","{","}"],reserved=["_constructor","toString","_toString"];function tokenise(e){const t=[];let n=0,r="",o=1,i=0;for(;n<e.length;){const s=e.charAt(n);let c=-1;if(/[\t\n\r ]/.test(s)?c=a("whitespace",{noFlushTrivia:!0}):"/"===s&&(c=a("comment",{noFlushTrivia:!0})),-1!==c){const e=t.pop().value;o+=(e.match(/\n/g)||[]).length,r+=e,i-=1}else if(/[-0-9.A-Z_a-z]/.test(s)){if(-1===(c=a("decimal"))&&(c=a("integer")),-1===c){c=a("identifier");const e=t.length-1,n=t[e];if(-1!==c){if(reserved.includes(n.value)){const r=`${unescape(n.value)} is a reserved identifier and must not be used.`;throw new WebIDLParseError(syntaxError(t,e,null,r))}nonRegexTerminals.includes(n.value)&&(n.type=n.value)}}}else'"'===s&&(c=a("string"));for(const a of punctuations)if(e.startsWith(a,n)){t.push({type:a,value:a,trivia:r,line:o,index:i}),r="",c=n+=a.length;break}if(-1===c&&(c=a("other")),-1===c)throw new Error("Token stream not progressing");n=c,i+=1}return t.push({type:"eof",value:"",trivia:r}),t;function a(a,{noFlushTrivia:s}={}){const c=tokenRe[a];c.lastIndex=n;const l=c.exec(e);return l?(t.push({type:a,value:l[0],trivia:r,line:o,index:i}),s||(r=""),c.lastIndex):-1}}class Tokeniser{constructor(e){this.source=tokenise(e),this.position=0}error(e){throw new WebIDLParseError(syntaxError(this.source,this.position,this.current,e))}probe(e){return this.source.length>this.position&&this.source[this.position].type===e}consume(...e){for(const t of e){if(!this.probe(t))continue;const e=this.source[this.position];return this.position++,e}}unconsume(e){this.position=e}}class WebIDLParseError extends Error{constructor({message:e,bareMessage:t,context:n,line:r,sourceName:o,input:i,tokens:a}){super(e),this.name="WebIDLParseError",this.bareMessage=t,this.context=n,this.line=r,this.sourceName=o,this.input=i,this.tokens=a}}class EnumValue extends Token{static parse(e){const t=e.consume("string");if(t)return new EnumValue({source:e.source,tokens:{value:t}})}get type(){return"enum-value"}get value(){return super.value.slice(1,-1)}}class Enum extends Base{static parse(e){const t={};if(t.base=e.consume("enum"),!t.base)return;t.name=e.consume("identifier")||e.error("No name for enum");const n=autoParenter(new Enum({source:e.source,tokens:t}));return e.current=n.this,t.open=e.consume("{")||e.error("Bodyless enum"),n.values=list(e,{parser:EnumValue.parse,allowDangler:!0,listName:"enumeration"}),e.probe("string")&&e.error("No comma between enum values"),t.close=e.consume("}")||e.error("Unexpected value in enum"),n.values.length||e.error("No value in enum"),t.termination=e.consume(";")||e.error("No semicolon after enum"),n.this}get type(){return"enum"}get name(){return unescape(this.tokens.name.value)}}class Includes extends Base{static parse(e){const t=e.consume("identifier");if(!t)return;const n={target:t};if(n.includes=e.consume("includes"),n.includes)return n.mixin=e.consume("identifier")||e.error("Incomplete includes statement"),n.termination=e.consume(";")||e.error("No terminating ; for includes statement"),new Includes({source:e.source,tokens:n});e.unconsume(t.index)}get type(){return"includes"}get target(){return unescape(this.tokens.target.value)}get includes(){return unescape(this.tokens.mixin.value)}}class Typedef extends Base{static parse(e){const t={},n=autoParenter(new Typedef({source:e.source,tokens:t}));if(t.base=e.consume("typedef"),t.base)return n.idlType=type_with_extended_attributes(e,"typedef-type")||e.error("Typedef lacks a type"),t.name=e.consume("identifier")||e.error("Typedef lacks a name"),e.current=n.this,t.termination=e.consume(";")||e.error("Unterminated typedef, expected `;`"),n.this}get type(){return"typedef"}get name(){return unescape(this.tokens.name.value)}*validate(e){yield*this.idlType.validate(e)}}class CallbackFunction extends Base{static parse(e,t){const n={base:t},r=autoParenter(new CallbackFunction({source:e.source,tokens:n}));return n.name=e.consume("identifier")||e.error("Callback lacks a name"),e.current=r.this,n.assign=e.consume("=")||e.error("Callback lacks an assignment"),r.idlType=return_type(e)||e.error("Callback lacks a return type"),n.open=e.consume("(")||e.error("Callback lacks parentheses for arguments"),r.arguments=argument_list(e),n.close=e.consume(")")||e.error("Unterminated callback"),n.termination=e.consume(";")||e.error("Unterminated callback, expected `;`"),r.this}get type(){return"callback"}get name(){return unescape(this.tokens.name.value)}*validate(e){yield*this.idlType.validate(e)}}function inheritance(e){const t=e.consume(":");return t?{colon:t,inheritance:e.consume("identifier")||e.error("Inheritance lacks a type")}:{}}class Container extends Base{static parse(e,t,{type:n,inheritable:r,allowedMembers:o}){const{tokens:i}=t;for(i.name=e.consume("identifier")||e.error(`Missing name in ${t.type}`),e.current=t,t=autoParenter(t),r&&Object.assign(i,inheritance(e)),i.open=e.consume("{")||e.error(`Bodyless ${n}`),t.members=[];;){if(i.close=e.consume("}"),i.close)return i.termination=e.consume(";")||e.error(`Missing semicolon after ${n}`),t.this;const r=ExtendedAttributes.parse(e);let a;for(const[t,...n]of o)if(a=autoParenter(t(e,...n)))break;a||e.error("Unknown member"),a.extAttrs=r,t.members.push(a.this)}}get partial(){return!!this.tokens.partial}get name(){return unescape(this.tokens.name.value)}get inheritance(){return this.tokens.inheritance?unescape(this.tokens.inheritance.value):null}*validate(e){for(const t of this.members)t.validate&&(yield*t.validate(e))}}class Constant extends Base{static parse(e){const t={};if(t.base=e.consume("const"),!t.base)return;let n=primitive_type(e);if(!n){const t=e.consume("identifier")||e.error("Const lacks a type");n=new Type({source:e.source,tokens:{base:t}})}e.probe("?")&&e.error("Unexpected nullable constant type"),n.type="const-type",t.name=e.consume("identifier")||e.error("Const lacks a name"),t.assign=e.consume("=")||e.error("Const lacks value assignment"),t.value=const_value(e)||e.error("Const lacks a value"),t.termination=e.consume(";")||e.error("Unterminated const, expected `;`");const r=new Constant({source:e.source,tokens:t});return autoParenter(r).idlType=n,r}get type(){return"const"}get name(){return unescape(this.tokens.name.value)}get value(){return const_data(this.tokens.value)}}class IterableLike extends Base{static parse(e){const t=e.position,n={},r=autoParenter(new IterableLike({source:e.source,tokens:n}));if(n.readonly=e.consume("readonly"),n.readonly||(n.async=e.consume("async")),n.base=n.readonly?e.consume("maplike","setlike"):n.async?e.consume("iterable"):e.consume("iterable","maplike","setlike"),!n.base)return void e.unconsume(t);const{type:o}=r,i="maplike"===o||r.async,a=i||"iterable"===o;n.open=e.consume("<")||e.error(`Missing less-than sign \`<\` in ${o} declaration`);const s=type_with_extended_attributes(e)||e.error(`Missing a type argument in ${o} declaration`);return r.idlType=[s],a&&(s.tokens.separator=e.consume(","),s.tokens.separator?r.idlType.push(type_with_extended_attributes(e)):i&&e.error(`Missing second type argument in ${o} declaration`)),n.close=e.consume(">")||e.error(`Missing greater-than sign \`>\` in ${o} declaration`),n.termination=e.consume(";")||e.error(`Missing semicolon after ${o} declaration`),r.this}get type(){return this.tokens.base.value}get readonly(){return!!this.tokens.readonly}get async(){return!!this.tokens.async}}function*checkInterfaceMemberDuplication(e,t){const n=new Set(a(t).map(e=>e.name)),r=e.partials.get(t.name)||[],o=e.mixinMap.get(t.name)||[];for(const e of[...r,...o]){const r=a(e);yield*i(r,n,e,t);for(const e of r)n.add(e.name)}function*i(e,t,n,r){for(const o of e){const{name:e}=o;if(e&&t.has(e)){const t=`The operation "${e}" has already been defined for the base interface "${r.name}" either in itself or in a mixin`;yield validationError(o.tokens.name,n,"no-cross-overload",t)}}}function a(e){return e.members.filter(({type:e})=>"operation"===e)}}class Constructor extends Base{static parse(e){const t=e.consume("constructor");if(!t)return;const n={base:t};n.open=e.consume("(")||e.error("No argument list in constructor");const r=argument_list(e);n.close=e.consume(")")||e.error("Unterminated constructor"),n.termination=e.consume(";")||e.error("No semicolon after constructor");const o=new Constructor({source:e.source,tokens:n});return autoParenter(o).arguments=r,o}get type(){return"constructor"}*validate(e){this.idlType&&(yield*this.idlType.validate(e));for(const t of this.arguments)yield*t.validate(e)}}function static_member(e){const t=e.consume("static");if(t)return Attribute.parse(e,{special:t})||Operation.parse(e,{special:t})||e.error("No body in static member")}class Interface extends Container{static parse(e,t,{partial:n=null}={}){const r={partial:n,base:t};return Container.parse(e,new Interface({source:e.source,tokens:r}),{type:"interface",inheritable:!n,allowedMembers:[[Constant.parse],[Constructor.parse],[static_member],[stringifier],[IterableLike.parse],[Attribute.parse],[Operation.parse]]})}get type(){return"interface"}*validate(e){if(yield*this.extAttrs.validate(e),!this.partial&&this.extAttrs.every(e=>"Exposed"!==e.name)&&this.extAttrs.every(e=>"NoInterfaceObject"!==e.name)){const e="Interfaces must have `[Exposed]` extended attribute. To fix, add, for example, `[Exposed=Window]`. Please also consider carefully if your interface should also be exposed in a Worker scope. Refer to the [WebIDL spec section on Exposed](https://heycam.github.io/webidl/#Exposed) for more information.";yield validationError(this.tokens.name,this,"require-exposed",e,{autofix:autofixAddExposedWindow(this)})}const t=this.extAttrs.filter(e=>"Constructor"===e.name);for(const e of t){const t="Constructors should now be represented as a `constructor()` operation on the interface instead of `[Constructor]` extended attribute. Refer to the [WebIDL spec section on constructor operations](https://heycam.github.io/webidl/#idl-constructors) for more information.";yield validationError(e.tokens.name,this,"constructor-member",t,{autofix:autofixConstructor(this,e)})}if(this.extAttrs.some(e=>"Global"===e.name)){const e=this.extAttrs.filter(e=>"NamedConstructor"===e.name);for(const t of e){const e="Interfaces marked as `[Global]` cannot have named constructors.";yield validationError(t.tokens.name,this,"no-constructible-global",e)}const t=this.members.filter(e=>"constructor"===e.type);for(const e of t){const t="Interfaces marked as `[Global]` cannot have constructors.";yield validationError(e.tokens.base,this,"no-constructible-global",t)}}yield*super.validate(e),this.partial||(yield*checkInterfaceMemberDuplication(e,this))}}function autofixConstructor(e,t){return e=autoParenter(e),()=>{const n=getLastIndentation(e.extAttrs.tokens.open.trivia),r=e.members.length?getLastIndentation(getFirstToken(e.members[0]).trivia):getMemberIndentation(n),o=Constructor.parse(new Tokeniser(`\n${r}constructor();`));o.extAttrs=[],autoParenter(o).arguments=t.arguments;const i=findLastIndex(e.members,e=>"constructor"===e.type);e.members.splice(i+1,0,o);const{close:a}=e.tokens;a.trivia.includes("\n")||(a.trivia+=`\n${n}`);const{extAttrs:s}=e,c=s.indexOf(t),l=s.splice(c,1);s.length?s.length===c?s[c-1].tokens.separator=void 0:s[c].tokens.name.trivia.trim()||(s[c].tokens.name.trivia=l[0].tokens.name.trivia):s.tokens.open=s.tokens.close=void 0}}class Mixin extends Container{static parse(e,t,{partial:n}={}){const r={partial:n,base:t};if(r.mixin=e.consume("mixin"),r.mixin)return Container.parse(e,new Mixin({source:e.source,tokens:r}),{type:"interface mixin",allowedMembers:[[Constant.parse],[stringifier],[Attribute.parse,{noInherit:!0}],[Operation.parse,{regular:!0}]]})}get type(){return"interface mixin"}}class Field extends Base{static parse(e){const t={},n=autoParenter(new Field({source:e.source,tokens:t}));return n.extAttrs=ExtendedAttributes.parse(e),t.required=e.consume("required"),n.idlType=type_with_extended_attributes(e,"dictionary-type")||e.error("Dictionary member lacks a type"),t.name=e.consume("identifier")||e.error("Dictionary member lacks a name"),n.default=Default.parse(e),t.required&&n.default&&e.error("Required member must not have a default"),t.termination=e.consume(";")||e.error("Unterminated dictionary member, expected `;`"),n.this}get type(){return"field"}get name(){return unescape(this.tokens.name.value)}get required(){return!!this.tokens.required}*validate(e){yield*this.idlType.validate(e)}}class Dictionary extends Container{static parse(e,{partial:t}={}){const n={partial:t};if(n.base=e.consume("dictionary"),n.base)return Container.parse(e,new Dictionary({source:e.source,tokens:n}),{type:"dictionary",inheritable:!t,allowedMembers:[[Field.parse]]})}get type(){return"dictionary"}}class Namespace extends Container{static parse(e,{partial:t}={}){const n={partial:t};if(n.base=e.consume("namespace"),n.base)return Container.parse(e,new Namespace({source:e.source,tokens:n}),{type:"namespace",allowedMembers:[[Attribute.parse,{noInherit:!0,readonly:!0}],[Operation.parse,{regular:!0}]]})}get type(){return"namespace"}*validate(e){if(!this.partial&&this.extAttrs.every(e=>"Exposed"!==e.name)){const e="Namespaces must have [Exposed] extended attribute. To fix, add, for example, [Exposed=Window]. Please also consider carefully if your namespace should also be exposed in a Worker scope. Refer to the [WebIDL spec section on Exposed](https://heycam.github.io/webidl/#Exposed) for more information.";yield validationError(this.tokens.name,this,"require-exposed",e,{autofix:autofixAddExposedWindow(this)})}yield*super.validate(e)}}class CallbackInterface extends Container{static parse(e,t,{partial:n=null}={}){const r={callback:t};if(r.base=e.consume("interface"),r.base)return Container.parse(e,new CallbackInterface({source:e.source,tokens:r}),{type:"callback interface",inheritable:!n,allowedMembers:[[Constant.parse],[Operation.parse,{regular:!0}]]})}get type(){return"callback interface"}}function parseByTokens(e,t){const n=e.source;function r(t){e.error(t)}function o(...t){return e.consume(...t)}function i(t){const n=o("interface");if(n)return Mixin.parse(e,n,t)||Interface.parse(e,n,t)||r("Interface has no proper body")}function a(){return function(){const t=o("callback");if(t)return e.probe("interface")?CallbackInterface.parse(e,t):CallbackFunction.parse(e,t)}()||i()||function(){const t=o("partial");if(t)return Dictionary.parse(e,{partial:t})||i({partial:t})||Namespace.parse(e,{partial:t})||r("Partial doesn't apply to anything")}()||Dictionary.parse(e)||Enum.parse(e)||Typedef.parse(e)||Includes.parse(e)||Namespace.parse(e)}const s=function(){if(!n.length)return[];const i=[];for(;;){const t=ExtendedAttributes.parse(e),n=a();if(!n){t.length&&r("Stray extended attributes");break}autoParenter(n).extAttrs=t,i.push(n)}const s=o("eof");return t.concrete&&i.push(s),i}();return e.position<n.length&&r("Unrecognised tokens"),s}function parse(e,t={}){const n=new Tokeniser(e);return void 0!==t.sourceName&&(n.source.name=t.sourceName),parseByTokens(n,t)}function noop(e){return e}const templates={wrap:e=>e.join(""),trivia:noop,name:noop,reference:noop,type:noop,generic:noop,nameless:noop,inheritance:noop,definition:noop,extendedAttribute:noop,extendedAttributeReference:noop};function write(e,{templates:t=templates}={}){function n(e,{unescaped:n,context:r}){return n||(n=e.startsWith("_")?e.slice(1):e),t.reference(e,n,r)}function r(e,n=noop,...r){if(!e)return"";const o=n(e.value,...r);return t.wrap([t.trivia(e.trivia),o])}function o(e,t){return r(e,n,{context:t})}function i(e,n){return r(e,t.name,n)}function a(e){if(e.union||e.generic)return t.wrap([r(e.tokens.base,t.generic),r(e.tokens.open),...e.subtype.map(s),r(e.tokens.close)]);const o=e.tokens.prefix||e.tokens.base,i=e.tokens.prefix?[e.tokens.prefix.value,t.trivia(e.tokens.base.trivia)]:[],a=n(t.wrap([...i,e.tokens.base.value,r(e.tokens.postfix)]),{unescaped:e.idlType,context:e});return t.wrap([t.trivia(o.trivia),a])}function s(e){return t.wrap([p(e.extAttrs),a(e),r(e.tokens.nullable),r(e.tokens.separator)])}function c(e){return e?t.wrap([r(e.tokens.assign),...e.expression.map(e=>r(e))]):""}function l(e){return t.wrap([p(e.extAttrs),r(e.tokens.optional),t.type(s(e.idlType)),r(e.tokens.variadic),i(e.tokens.name,{data:e}),c(e.default),r(e.tokens.separator)])}function u(e){return t.wrap([r(e.tokens.value),r(e.tokens.separator)])}function d(e){const{rhsType:n}=e.params;return t.wrap([t.trivia(e.tokens.name.trivia),t.extendedAttribute(t.wrap([t.extendedAttributeReference(e.name),r(e.params.tokens.assign),o(e.params.tokens.secondaryName,e),r(e.params.tokens.open),...e.params.list?e.params.list.map("identifier-list"===n?n=>(function(e,n){return t.wrap([o(e.tokens.value,n),r(e.tokens.separator)])})(n,e):"string-list"===n?u:l):[],r(e.params.tokens.close)])),r(e.tokens.separator)])}function p(e){return e.length?t.wrap([r(e.tokens.open),...e.map(d),r(e.tokens.close)]):""}function h(e){return t.definition(t.wrap([p(e.extAttrs),r(e.tokens.callback),r(e.tokens.partial),r(e.tokens.base),r(e.tokens.mixin),i(e.tokens.name,{data:e}),(o=e,o.tokens.inheritance?t.wrap([r(o.tokens.colon),t.trivia(o.tokens.inheritance.trivia),t.inheritance(n(o.tokens.inheritance.value,{context:o}))]):""),r(e.tokens.open),g(e.members,e),r(e.tokens.close),r(e.tokens.termination)]),{data:e});var o}function f(e,n){return t.definition(t.wrap([p(e.extAttrs),r(e.tokens.readonly),r(e.tokens.async),r(e.tokens.base,t.generic),r(e.tokens.open),t.wrap(e.idlType.map(s)),r(e.tokens.close),r(e.tokens.termination)]),{data:e,parent:n})}t=Object.assign({},templates,t);const m={interface:h,"interface mixin":h,namespace:h,operation:function(e,n){const o=e.idlType?[t.type(s(e.idlType)),i(e.tokens.name,{data:e,parent:n}),r(e.tokens.open),t.wrap(e.arguments.map(l)),r(e.tokens.close)]:[];return t.definition(t.wrap([p(e.extAttrs),e.tokens.name?r(e.tokens.special):r(e.tokens.special,t.nameless,{data:e,parent:n}),...o,r(e.tokens.termination)]),{data:e,parent:n})},attribute:function(e,n){return t.definition(t.wrap([p(e.extAttrs),r(e.tokens.special),r(e.tokens.readonly),r(e.tokens.base),t.type(s(e.idlType)),i(e.tokens.name,{data:e,parent:n}),r(e.tokens.termination)]),{data:e,parent:n})},constructor:function(e,n){return t.definition(t.wrap([p(e.extAttrs),r(e.tokens.base,t.nameless,{data:e,parent:n}),r(e.tokens.open),t.wrap(e.arguments.map(l)),r(e.tokens.close),r(e.tokens.termination)]),{data:e,parent:n})},dictionary:h,field:function(e,n){return t.definition(t.wrap([p(e.extAttrs),r(e.tokens.required),t.type(s(e.idlType)),i(e.tokens.name,{data:e,parent:n}),c(e.default),r(e.tokens.termination)]),{data:e,parent:n})},const:function(e,n){return t.definition(t.wrap([p(e.extAttrs),r(e.tokens.base),t.type(s(e.idlType)),i(e.tokens.name,{data:e,parent:n}),r(e.tokens.assign),r(e.tokens.value),r(e.tokens.termination)]),{data:e,parent:n})},typedef:function(e){return t.definition(t.wrap([p(e.extAttrs),r(e.tokens.base),t.type(s(e.idlType)),i(e.tokens.name,{data:e}),r(e.tokens.termination)]),{data:e})},includes:function(e){return t.definition(t.wrap([p(e.extAttrs),o(e.tokens.target,e),r(e.tokens.includes),o(e.tokens.mixin,e),r(e.tokens.termination)]),{data:e})},callback:function(e){return t.definition(t.wrap([p(e.extAttrs),r(e.tokens.base),i(e.tokens.name,{data:e}),r(e.tokens.assign),t.type(s(e.idlType)),r(e.tokens.open),...e.arguments.map(l),r(e.tokens.close),r(e.tokens.termination)]),{data:e})},enum:function(e){return t.definition(t.wrap([p(e.extAttrs),r(e.tokens.base),i(e.tokens.name,{data:e}),r(e.tokens.open),g(e.values,e),r(e.tokens.close),r(e.tokens.termination)]),{data:e})},"enum-value":function(e,n){return t.wrap([t.trivia(e.tokens.value.trivia),t.definition(t.wrap(['"',t.name(e.value,{data:e,parent:n}),'"']),{data:e,parent:n}),r(e.tokens.separator)])},iterable:f,maplike:f,setlike:f,"callback interface":h,eof:function(e){return t.trivia(e.trivia)}};function g(e,n){if(!e)return;const r=e.map(e=>(function(e,t){if(!m[e.type])throw new Error(`Type "${e.type}" is unsupported`);return m[e.type](e,t)})(e,n));return t.wrap(r)}return g(e)}function getMixinMap(e,t){const n=new Map,r=e.filter(e=>"includes"===e.type);for(const e of r){const r=t.get(e.includes);if(!r)continue;const o=n.get(e.target);o?o.push(r):n.set(e.target,[r])}return n}function groupDefinitions(e){const t=new Map,n=new Set,r=new Map;for(const o of e)if(o.partial){const e=r.get(o.name);e?e.push(o):r.set(o.name,[o])}else o.name&&(t.has(o.name)?n.add(o):t.set(o.name,o));return{all:e,unique:t,partials:r,duplicates:n,mixinMap:getMixinMap(e,t),cache:{typedefIncludesDictionary:new WeakMap,dictionaryIncludesRequiredField:new WeakMap}}}function*checkDuplicatedNames({unique:e,duplicates:t}){for(const n of t){const{name:t}=n,r=`The name "${t}" of type "${e.get(t).type}" was already seen`;yield validationError(n.tokens.name,n,"no-duplicate",r)}}function*validateIterable(e){const t=groupDefinitions(e);for(const e of t.all)e.validate&&(yield*e.validate(t));yield*checkDuplicatedNames(t)}function flatten$1(e){return e.flat?e.flat():[].concat(...e)}function validate(e){return[...validateIterable(flatten$1(e))]}var _webidl2=Object.freeze({__proto__:null,parse:parse,write:write,validate:validate,WebIDLParseError:WebIDLParseError}),hyperHTML=function(e){/*! (c) Andrea Giammarchi - ISC */var t={};try{t.WeakMap=WeakMap}catch(u){t.WeakMap=function(e,t){var n=t.defineProperty,r=t.hasOwnProperty,o=i.prototype;return o.delete=function(e){return this.has(e)&&delete e[this._]},o.get=function(e){return this.has(e)?e[this._]:void 0},o.has=function(e){return r.call(e,this._)},o.set=function(e,t){return n(e,this._,{configurable:!0,value:t}),this},i;function i(t){n(this,"_",{value:"_@ungap/weakmap"+e++}),t&&t.forEach(a,this)}function a(e){this.set(e[0],e[1])}}(Math.random(),Object)}var n=t.WeakMap,r={};
/*! (c) Andrea Giammarchi - ISC */try{r.WeakSet=WeakSet}catch(u){!function(e,t){var n=o.prototype;function o(){t(this,"_",{value:"_@ungap/weakmap"+e++})}n.add=function(e){return this.has(e)||t(e,this._,{value:!0,configurable:!0}),this},n.has=function(e){return this.hasOwnProperty.call(e,this._)},n.delete=function(e){return this.has(e)&&delete e[this._]},r.WeakSet=o}(Math.random(),Object.defineProperty)}function o(e,t,n,r,o,i){for(var a=("selectedIndex"in t),s=a;r<o;){var c=e(n[r],1);if(t.insertBefore(c,i),a&&s&&c.selected){s=!s;var l=t.selectedIndex;t.selectedIndex=l<0?r:d.call(t.querySelectorAll("option"),c)}r++}}function i(e,t){return e==t}function a(e){return e}function s(e,t,n,r,o,i,a){var s=i-o;if(s<1)return-1;for(;s<=n-t;){for(var c=t,l=o;c<n&&l<i&&a(e[c],r[l]);)c++,l++;if(l===i)return t;t=c+1}return-1}function c(e,t,n,r,o){return n<r?e(t[n],0):0<n?e(t[n-1],-0).nextSibling:o}function l(e,t,n,r){for(;n<r;)h(e(t[n++],-1))}var u=r.WeakSet,d=[].indexOf,p=function(e,t,n){for(var r=1,o=t;r<o;){var i=(r+o)/2>>>0;n<e[i]?o=i:r=1+i}return r},h=function(e){return(e.remove||function(){var e=this.parentNode;e&&e.removeChild(this)}
/*! (c) 2018 Andrea Giammarchi (ISC) */).call(e)};function f(e,t,n,r){for(var u=(r=r||{}).compare||i,d=r.node||a,h=null==r.before?null:d(r.before,0),f=t.length,m=f,g=0,b=n.length,y=0;g<m&&y<b&&u(t[g],n[y]);)g++,y++;for(;g<m&&y<b&&u(t[m-1],n[b-1]);)m--,b--;var w=g===m,$=y===b;if(w&&$)return n;if(w&&y<b)return o(d,e,n,y,b,c(d,t,g,f,h)),n;if($&&g<m)return l(d,t,g,m),n;var v=m-g,k=b-y,x=-1;if(v<k){if(-1<(x=s(n,y,b,t,g,m,u)))return o(d,e,n,y,x,d(t[g],0)),o(d,e,n,x+v,b,c(d,t,m,f,h)),n}else if(k<v&&-1<(x=s(t,g,m,n,y,b,u)))return l(d,t,g,x),l(d,t,x+k,m),n;return v<2||k<2?(o(d,e,n,y,b,d(t[g],0)),l(d,t,g,m)):v==k&&function(e,t,n,r,o,i){for(;r<o&&i(n[r],e[t-1]);)r++,t--;return 0===t}(n,b,t,g,m,u)?o(d,e,n,y,b,c(d,t,m,f,h)):function(e,t,n,r,i,a,s,c,u,d,h,f,m){!function(e,t,n,r,i,a,s,c,u){for(var d=[],p=e.length,h=s,f=0;f<p;)switch(e[f++]){case 0:i++,h++;break;case 1:d.push(r[i]),o(t,n,r,i++,i,h<c?t(a[h],0):u);break;case-1:h++}for(f=0;f<p;)switch(e[f++]){case 0:s++;break;case-1:-1<d.indexOf(a[s])?s++:l(t,a,s++,s)}}(function(e,t,n,r,o,i,a){var s,c,l,u,d,p,h,f=n+i,m=[];e:for(s=0;s<=f;s++){if(50<s)return null;for(h=s-1,d=s?m[s-1]:[0,0],p=m[s]=[],c=-s;c<=s;c+=2){for(l=(u=c===-s||c!==s&&d[h+c-1]<d[h+c+1]?d[h+c+1]:d[h+c-1]+1)-c;u<i&&l<n&&a(r[o+u],e[t+l]);)u++,l++;if(u===i&&l===n)break e;p[s+c]=u}}var g=Array(s/2+f/2),b=g.length-1;for(s=m.length-1;0<=s;s--){for(;0<u&&0<l&&a(r[o+u-1],e[t+l-1]);)g[b--]=0,u--,l--;if(!s)break;h=s-1,d=s?m[s-1]:[0,0],(c=u-l)==-s||c!==s&&d[h+c-1]<d[h+c+1]?(l--,g[b--]=1):(u--,g[b--]=-1)}return g}(n,r,a,s,c,d,f)||function(e,t,n,r,o,i,a,s){var c=0,l=r<s?r:s,u=Array(l++),d=Array(l);d[0]=-1;for(var h=1;h<l;h++)d[h]=a;for(var f=o.slice(i,a),m=t;m<n;m++){var g=f.indexOf(e[m]);if(-1<g){var b=g+i;-1<(c=p(d,l,b))&&(d[c]=b,u[c]={newi:m,oldi:b,prev:u[c-1]})}}for(c=--l,--a;d[c]>a;)--c;l=s+r-c;var y=Array(l),w=u[c];for(--n;w;){for(var $=w,v=$.newi,k=$.oldi;v<n;)y[--l]=1,--n;for(;k<a;)y[--l]=-1,--a;y[--l]=0,--n,--a,w=w.prev}for(;t<=n;)y[--l]=1,--n;for(;i<=a;)y[--l]=-1,--a;return y}(n,r,i,a,s,c,u,d),e,t,n,r,s,c,h,m)}(d,e,n,y,b,k,t,g,m,v,f,u,h),n}var m={};
/*! (c) Andrea Giammarchi - ISC */function g(t,n){n=n||{};var r=e.createEvent("CustomEvent");return r.initCustomEvent(t,!!n.bubbles,!!n.cancelable,n.detail),r}m.CustomEvent="function"==typeof CustomEvent?CustomEvent:(g["prototype"]=new g("").constructor.prototype,g);var b=m.CustomEvent,y={};
/*! (c) Andrea Giammarchi - ISC */try{y.Map=Map}catch(u){y.Map=function(){var e=0,t=[],n=[];return{delete:function(o){var i=r(o);return i&&(t.splice(e,1),n.splice(e,1)),i},forEach:function(e,r){t.forEach((function(t,o){e.call(r,n[o],t,this)}),this)},get:function(t){return r(t)?n[e]:void 0},has:function(e){return r(e)},set:function(o,i){return n[r(o)?e:t.push(o)-1]=i,this}};function r(n){return-1<(e=t.indexOf(n))}}}var w=y.Map;function $(){return this}function v(e,t){var n="_"+e+"$";return{get:function(){return this[n]||k(this,n,t.call(this,e))},set:function(e){k(this,n,e)}}}var k=function(e,t,n){return Object.defineProperty(e,t,{configurable:!0,value:"function"==typeof n?function(){return e._wire$=n.apply(this,arguments)}:n})[t]};Object.defineProperties($.prototype,{ELEMENT_NODE:{value:1},nodeType:{value:-1}});var x,T,L,C,S,_,E={},R={},A=[],M=R.hasOwnProperty,D=0,I={attributes:E,define:function(e,t){e.indexOf("-")<0?(e in R||(D=A.push(e)),R[e]=t):E[e]=t},invoke:function(e,t){for(var n=0;n<D;n++){var r=A[n];if(M.call(e,r))return R[r](e[r],t)}}},P=Array.isArray||(T=(x={}.toString).call([]),function(e){return x.call(e)===T}),N=(L=e,C="fragment",_="content"in H(S="template")?function(e){var t=H(S);return t.innerHTML=e,t.content}:function(e){var t=H(C),n=H(S),r=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)){var o=RegExp.$1;n.innerHTML="<table>"+e+"</table>",r=n.querySelectorAll(o)}else n.innerHTML=e,r=n.childNodes;return O(t,r),t},function(e,t){return("svg"===t?function(e){var t=H(C),n=H("div");return n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>",O(t,n.firstChild.childNodes),t}:_)(e)});function O(e,t){for(var n=t.length;n--;)e.appendChild(t[0])}function H(e){return e===C?L.createDocumentFragment():L.createElementNS("http://www.w3.org/1999/xhtml",e)}
/*! (c) Andrea Giammarchi - ISC */var j,W,U,F,z,B,q,G,V,Z=(W="appendChild",U="cloneNode",F="createTextNode",B=(z="importNode")in(j=e),(q=j.createDocumentFragment())[W](j[F]("g")),q[W](j[F]("")),(B?j[z](q,!0):q[U](!0)).childNodes.length<2?function e(t,n){for(var r=t[U](),o=t.childNodes||[],i=o.length,a=0;n&&a<i;a++)r[W](e(o[a],n));return r}:B?j[z]:function(e,t){return e[U](!!t)}),K="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")},Y="-"+Math.random().toFixed(6)+"%",J=!1;try{G=e.createElement("template"),V="tabindex","content"in G&&(G.innerHTML="<p "+V+'="'+Y+'"></p>',G.content.childNodes[0].getAttribute(V)==Y)||(Y="_dt: "+Y.slice(1,-1)+";",J=!0)}catch(u){}var X="\x3c!--"+Y+"--\x3e",Q=8,ee=1,te=3,ne=/^(?:style|textarea)$/i,re=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,oe=" \\f\\n\\r\\t",ie="[^"+oe+"\\/>\"'=]+",ae="["+oe+"]+"+ie,se="<([A-Za-z]+[A-Za-z0-9:._-]*)((?:",ce="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|"+ie.replace("\\/","")+"))?)",le=new RegExp(se+ae+ce+"+)(["+oe+"]*/?>)","g"),ue=new RegExp(se+ae+ce+"*)(["+oe+"]*/>)","g"),de=new RegExp("("+ae+"\\s*=\\s*)(['\"]?)"+X+"\\2","gi");function pe(e,t,n,r){return"<"+t+n.replace(de,he)+r}function he(e,t,n){return t+(n||'"')+Y+(n||'"')}function fe(e,t,n){return re.test(t)?e:"<"+t+n+"></"+t+">"}var me=J?function(e,t){var n=t.join(" ");return t.slice.call(e,0).sort((function(e,t){return n.indexOf(e.name)<=n.indexOf(t.name)?-1:1}))}:function(e,t){return t.slice.call(e,0)};function ge(e,t){for(var n=t.length,r=0;r<n;)e=e.childNodes[t[r++]];return e}function be(t,n,r,o){for(var i=t.attributes,a=[],s=[],c=me(i,r),l=c.length,u=0;u<l;){var d,p=c[u++],h=p.value===Y;if(h||1<(d=p.value.split(X)).length){var f=p.name;if(a.indexOf(f)<0){a.push(f);var m=r.shift().replace(h?/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*('|")?$/:new RegExp("^(?:|[\\S\\s]*?\\s)("+f+")\\s*=\\s*('|\")[\\S\\s]*","i"),"$1"),g=i[m]||i[m.toLowerCase()];if(h)n.push(ye(g,o,m,null));else{for(var b=d.length-2;b--;)r.shift();n.push(ye(g,o,m,d))}}s.push(p)}}for(var y=((u=0)<(l=s.length)&&J&&!("ownerSVGElement"in t));u<l;){var w=s[u++];y&&(w.value=""),t.removeAttribute(w.name)}var $=t.nodeName;if(/^script$/i.test($)){var v=e.createElement($);for(l=i.length,u=0;u<l;)v.setAttributeNode(i[u++].cloneNode(!0));v.textContent=t.textContent,t.parentNode.replaceChild(v,t)}}function ye(e,t,n,r){return{type:"attr",node:e,path:t,name:n,sparse:r}}function we(e,t){return{type:"text",node:e,path:t}}var $e=new n;function ve(e,t){var n=(e.convert||
/*! (c) Andrea Giammarchi - ISC */
function(e){return e.join(X).replace(ue,fe).replace(le,pe)})(t),r=e.transform;r&&(n=r(n));var o=N(n,e.type);xe(o);var i=[];!function e(t,n,r,o){for(var i=t.childNodes,a=i.length,s=0;s<a;){var c=i[s];switch(c.nodeType){case ee:var l=o.concat(s);be(c,n,r,l),e(c,n,r,l);break;case Q:var u=c.textContent;if(u===Y)r.shift(),n.push(ne.test(t.nodeName)?we(t,o):{type:"any",node:c,path:o.concat(s)});else switch(u.slice(0,2)){case"/*":if("*/"!==u.slice(-2))break;case"👻":t.removeChild(c),s--,a--}break;case te:ne.test(t.nodeName)&&K.call(c.textContent)===X&&(r.shift(),n.push(we(t,o)))}s++}}(o,i,t.slice(0),[]);var a={content:o,updates:function(n){for(var r=[],o=i.length,a=0,s=0;a<o;){var c=i[a++],l=ge(n,c.path);switch(c.type){case"any":r.push({fn:e.any(l,[]),sparse:!1});break;case"attr":var u=c.sparse,d=e.attribute(l,c.name,c.node);null===u?r.push({fn:d,sparse:!1}):(s+=u.length-2,r.push({fn:d,sparse:!0,values:u}));break;case"text":r.push({fn:e.text(l),sparse:!1}),l.textContent=""}}return o+=s,function(){var e=arguments.length;if(o!==e-1)throw new Error(e-1+" values instead of "+o+"\n"+t.join("${value}"));for(var i=1,a=1;i<e;){var s=r[i-a];if(s.sparse){var c=s.values,l=c[0],u=1,d=c.length;for(a+=d-2;u<d;)l+=arguments[i++]+c[u++];s.fn(l)}else s.fn(arguments[i++])}return n}}};return $e.set(t,a),a}var ke=[];function xe(e){for(var t=e.childNodes,n=t.length;n--;){var r=t[n];1!==r.nodeType&&0===K.call(r.textContent).length&&e.removeChild(r)}}
/*! (c) Andrea Giammarchi - ISC */var Te,Le,Ce=(Te=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,Le=/([^A-Z])([A-Z]+)/g,function(e,t){return"ownerSVGElement"in e?function(e,t){var n;return(n=t?t.cloneNode(!0):(e.setAttribute("style","--hyper:style;"),e.getAttributeNode("style"))).value="",e.setAttributeNode(n),_e(n,!0)}(e,t):_e(e.style,!1)});
/*! (c) Andrea Giammarchi - ISC */function Se(e,t,n){return t+"-"+n.toLowerCase()}function _e(e,t){var n,r;return function(o){var i,a,s,c;switch(typeof o){case"object":if(o){if("object"===n){if(!t&&r!==o)for(a in r)a in o||(e[a]="")}else t?e.value="":e.cssText="";for(a in i=t?{}:e,o)s="number"!=typeof(c=o[a])||Te.test(a)?c:c+"px",!t&&/^--/.test(a)?i.setProperty(a,s):i[a]=s;n="object",t?e.value=function(e){var t,n=[];for(t in e)n.push(t.replace(Le,Se),":",e[t],";");return n.join("")}(r=i):r=o;break}default:r!=o&&(n="string",r=o,t?e.value=o||"":e.cssText=o||"")}}}var Ee,Re,Ae=(Ee=[].slice,(Re=Me.prototype).ELEMENT_NODE=1,Re.nodeType=111,Re.remove=function(e){var t=this.childNodes,n=this.firstChild,r=this.lastChild;if(this._=null,e&&2===t.length)r.parentNode.removeChild(r);else{var o=this.ownerDocument.createRange();o.setStartBefore(e?t[1]:n),o.setEndAfter(r),o.deleteContents()}return n},Re.valueOf=function(e){var t=this._,n=null==t;if(n&&(t=this._=this.ownerDocument.createDocumentFragment()),n||e)for(var r=this.childNodes,o=0,i=r.length;o<i;o++)t.appendChild(r[o]);return t},Me);function Me(e){var t=this.childNodes=Ee.call(e,0);this.firstChild=t[0],this.lastChild=t[t.length-1],this.ownerDocument=t[0].ownerDocument,this._=null}function De(e){return{html:e}}function Ie(e,t){switch(e.nodeType){case Be:return 1/t<0?t?e.remove(!0):e.lastChild:t?e.valueOf(!0):e.firstChild;case ze:return Ie(e.render(),t);default:return e}}function Pe(e,t){t(e.placeholder),"text"in e?Promise.resolve(e.text).then(String).then(t):"any"in e?Promise.resolve(e.any).then(t):"html"in e?Promise.resolve(e.html).then(De).then(t):Promise.resolve(I.invoke(e,t)).then(t)}function Ne(e){return null!=e&&"then"in e}var Oe,He,je,We,Ue,Fe="ownerSVGElement",ze=$.prototype.nodeType,Be=Ae.prototype.nodeType,qe=(He=(Oe={Event:b,WeakSet:u}).Event,je=Oe.WeakSet,We=!0,Ue=null,function(e){return We&&(We=!We,Ue=new je,function(e){var t=new je,n=new je;try{new MutationObserver(a).observe(e,{subtree:!0,childList:!0})}catch(t){var r=0,o=[],i=function(e){o.push(e),clearTimeout(r),r=setTimeout((function(){a(o.splice(r=0,o.length))}),0)};e.addEventListener("DOMNodeRemoved",(function(e){i({addedNodes:[],removedNodes:[e.target]})}),!0),e.addEventListener("DOMNodeInserted",(function(e){i({addedNodes:[e.target],removedNodes:[]})}),!0)}function a(e){for(var r,o=e.length,i=0;i<o;i++)s((r=e[i]).removedNodes,"disconnected",n,t),s(r.addedNodes,"connected",t,n)}function s(e,t,n,r){for(var o,i=new He(t),a=e.length,s=0;s<a;1===(o=e[s++]).nodeType&&c(o,i,t,n,r));}function c(e,t,n,r,o){Ue.has(e)&&!r.has(e)&&(o.delete(e),r.add(e),e.dispatchEvent(t));for(var i=e.children||[],a=i.length,s=0;s<a;c(i[s++],t,n,r,o));}}(e.ownerDocument)),Ue.add(e),e}),Ge=/^(?:form|list)$/i,Ve=[].slice;function Ze(t){return this.type=t,function(t){var n=ke,r=xe;return function(o){var i,a,s;return n!==o&&(i=t,a=n=o,s=$e.get(a)||ve(i,a),r=s.updates(Z.call(e,s.content,!0))),r.apply(null,arguments)}}(this)}var Ke=!(Ze.prototype={attribute:function(e,t,n){var r,o=Fe in e;if("style"===t)return Ce(e,n,o);if(/^on/.test(t)){var i=t.slice(2);return"connected"===i||"disconnected"===i?qe(e):t.toLowerCase()in e&&(i=i.toLowerCase()),function(t){r!==t&&(r&&e.removeEventListener(i,r,!1),(r=t)&&e.addEventListener(i,t,!1))}}if("data"===t||!o&&t in e&&!Ge.test(t))return function(n){r!==n&&(r=n,e[t]!==n&&null==n?(e[t]="",e.removeAttribute(t)):e[t]=n)};if(t in I.attributes)return function(n){var o=I.attributes[t](e,n);r!==o&&(null==(r=o)?e.removeAttribute(t):e.setAttribute(t,o))};var a=!1,s=n.cloneNode(!0);return function(t){r!==t&&(r=t,s.value!==t&&(null==t?(a&&(a=!1,e.removeAttributeNode(s)),s.value=t):(s.value=t,a||(a=!0,e.setAttributeNode(s)))))}},any:function(e,t){var n,r={node:Ie,before:e},o=Fe in e?"svg":"html",i=!1;return function a(s){switch(typeof s){case"string":case"number":case"boolean":i?n!==s&&(n=s,t[0].textContent=s):(i=!0,n=s,t=f(e.parentNode,t,[(c=e,l=s,c.ownerDocument.createTextNode(l))],r));break;case"function":a(s(e));break;case"object":case"undefined":if(null==s){i=!1,t=f(e.parentNode,t,[],r);break}default:if(i=!1,P(n=s))if(0===s.length)t.length&&(t=f(e.parentNode,t,[],r));else switch(typeof s[0]){case"string":case"number":case"boolean":a({html:s});break;case"object":if(P(s[0])&&(s=s.concat.apply([],s)),Ne(s[0])){Promise.all(s).then(a);break}default:t=f(e.parentNode,t,s,r)}else"ELEMENT_NODE"in s?t=f(e.parentNode,t,11===s.nodeType?Ve.call(s.childNodes):[s],r):Ne(s)?s.then(a):"placeholder"in s?Pe(s,a):"text"in s?a(String(s.text)):"any"in s?a(s.any):"html"in s?t=f(e.parentNode,t,Ve.call(N([].concat(s.html).join(""),o).childNodes),r):a("length"in s?Ve.call(s):I.invoke(s,a))}var c,l}},text:function(e){var t;return function n(r){if(t!==r){var o=typeof(t=r);"object"==o&&r?Ne(r)?r.then(n):"placeholder"in r?Pe(r,n):n("text"in r?String(r.text):"any"in r?r.any:"html"in r?[].concat(r.html).join(""):"length"in r?Ve.call(r).join(""):I.invoke(r,n)):"function"==o?n(r(e)):e.textContent=null==r?"":r}}}}),Ye=function(t){var r,o=(r=(e.defaultView.navigator||{}).userAgent,/(Firefox|Safari)\/(\d+)/.test(r)&&!/(Chrom[eium]+|Android)\/(\d+)/.test(r)),i=!("raw"in t)||t.propertyIsEnumerable("raw")||!Object.isFrozen(t.raw);if(o||i){var a={},s=function(e){for(var t=".",n=0;n<e.length;n++)t+=e[n].length+"."+e[n];return a[t]||(a[t]=e)};if(i)Ye=s;else{var c=new n;Ye=function(e){return c.get(e)||(n=s(t=e),c.set(t,n),n);var t,n}}}else Ke=!0;return Je(t)};function Je(e){return Ke?e:Ye(e)}function Xe(e){for(var t=arguments.length,n=[Je(e)],r=1;r<t;)n.push(arguments[r++]);return n}var Qe=new n,et=function(e){var t,n,r;return function(){var o=Xe.apply(null,arguments);return r!==o[0]?(r=o[0],n=new Ze(e),t=nt(n.apply(n,o))):n.apply(n,o),t}},tt=function(e,t){var n=t.indexOf(":"),r=Qe.get(e),o=t;return-1<n&&(o=t.slice(n+1),t=t.slice(0,n)||"html"),r||Qe.set(e,r={}),r[o]||(r[o]=et(t))},nt=function(e){var t=e.childNodes,n=t.length;return 1===n?t[0]:n?new Ae(t):e},rt=new n;function ot(){var e=rt.get(this),t=Xe.apply(null,arguments);return e&&e.template===t[0]?e.tagger.apply(null,t):function(e){var t=new Ze(Fe in this?"svg":"html");rt.set(this,{tagger:t,template:e}),this.textContent="",this.appendChild(t.apply(null,arguments))}
/*! (c) Andrea Giammarchi (ISC) */.apply(this,t),this}var it,at,st,ct,lt=I.define,ut=Ze.prototype;function dt(e){return arguments.length<2?null==e?et("html"):"string"==typeof e?dt.wire(null,e):"raw"in e?et("html")(e):"nodeType"in e?dt.bind(e):tt(e,"html"):("raw"in e?et("html"):dt.wire).apply(null,arguments)}return dt.Component=$,dt.bind=function(e){return ot.bind(e)},dt.define=lt,dt.diff=f,(dt.hyper=dt).observe=qe,dt.tagger=ut,dt.wire=function(e,t){return null==e?et(t||"html"):tt(e,t||"html")},dt._={WeakMap:n,WeakSet:u},it=et,at=new n,st=Object.create,ct=function(e,t){var n={w:null,p:null};return t.set(e,n),n},Object.defineProperties($,{for:{configurable:!0,value:function(e,t){return function(e,t,r,o){var i,a,s,c=t.get(e)||ct(e,t);switch(typeof o){case"object":case"function":var l=c.w||(c.w=new n);return l.get(o)||(i=l,a=o,s=new e(r),i.set(a,s),s);default:var u=c.p||(c.p=st(null));return u[o]||(u[o]=new e(r))}}(this,at.get(e)||(r=e,o=new w,at.set(r,o),o),e,null==t?"default":t);var r,o}}}),Object.defineProperties($.prototype,{handleEvent:{value:function(e){var t=e.currentTarget;this["getAttribute"in t&&t.getAttribute("data-call")||"on"+e.type](e)}},html:v("html",it),svg:v("svg",it),state:v("state",(function(){return this.defaultState})),defaultState:{get:function(){return{}}},dispatch:{value:function(e,t){var n=this._wire$;if(n){var r=new b(e,{bubbles:!0,cancelable:!0,detail:t});return r.component=this,(n.dispatchEvent?n:n.firstChild).dispatchEvent(r)}return!1}},setState:{value:function(e,t){var n=this.state,r="function"==typeof e?e.call(this,n):e;for(var o in r)n[o]=r[o];return!1!==t&&this.render(),this}}}),dt}(document);
/*! (c) Andrea Giammarchi (ISC) */function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var marked=createCommonjsModule((function(e,t){!function(t){var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:g,table:g,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||k.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=p(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d{1,9}\.)/,n.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,n.item=p(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=p(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=p(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=p(n._paragraph).replace("hr",n.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",n._tag).getRegex(),n.blockquote=p(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=b({},n),n.gfm=b({},n.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=b({},n.normal,{html:p("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:g,paragraph:p(n.normal._paragraph).replace("hr",n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,o,i,a,s,c,l,d,p,h,f,m,g,b,$,v;for(e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e)){var k=this.tokens[this.tokens.length-1];e=e.substring(i[0].length),k&&"paragraph"===k.type?k.text+="\n"+i[0].trimRight():(i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?i:w(i,"\n")}))}else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if((i=this.rules.nptable.exec(e))&&(c={type:"table",header:y(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===c.align.length){for(e=e.substring(i[0].length),f=0;f<c.align.length;f++)/^ *-+: *$/.test(c.align[f])?c.align[f]="right":/^ *:-+: *$/.test(c.align[f])?c.align[f]="center":/^ *:-+ *$/.test(c.align[f])?c.align[f]="left":c.align[f]=null;for(f=0;f<c.cells.length;f++)c.cells[f]=y(c.cells[f],c.header.length);this.tokens.push(c)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),l={type:"list_start",ordered:b=(a=i[2]).length>1,start:b?+a:"",loose:!1},this.tokens.push(l),d=[],r=!1,g=(i=i[0].match(this.rules.item)).length,f=0;f<g;f++)h=(c=i[f]).length,~(c=c.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(h-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+h+"}","gm"),"")),f!==g-1&&(s=n.bullet.exec(i[f+1])[0],(a.length>1?1===s.length:s.length>1||this.options.smartLists&&s!==a)&&(e=i.slice(f+1).join("\n")+e,f=g-1)),o=r||/\n\n(?!\s*$)/.test(c),f!==g-1&&(r="\n"===c.charAt(c.length-1),o||(o=r)),o&&(l.loose=!0),v=void 0,($=/^\[[ xX]\] /.test(c))&&(v=" "!==c[1],c=c.replace(/^\[[ xX]\] +/,"")),p={type:"list_item_start",task:$,checked:v,loose:o},d.push(p),this.tokens.push(p),this.token(c,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(g=d.length,f=0;f<g;f++)d[f].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):u(i[0]):i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),m=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[m]||(this.tokens.links[m]={href:i[2],title:i[3]});else if((i=this.rules.table.exec(e))&&(c={type:"table",header:y(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]}).header.length===c.align.length){for(e=e.substring(i[0].length),f=0;f<c.align.length;f++)/^ *-+: *$/.test(c.align[f])?c.align[f]="right":/^ *:-+: *$/.test(c.align[f])?c.align[f]="center":/^ *:-+ *$/.test(c.align[f])?c.align[f]="left":c.align[f]=null;for(f=0;f<c.cells.length;f++)c.cells[f]=y(c.cells[f].replace(/^ *\| *| *\| *$/g,""),c.header.length);this.tokens.push(c)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2].charAt(0)?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var o={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:g,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:g,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function i(e,t){if(this.options=t||k.defaults,this.links=e,this.rules=o.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}function a(e){this.options=e||k.defaults}function s(){}function c(e){this.tokens=[],this.token=null,this.options=e||k.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new l}function l(){this.seen={}}function u(e,t){if(t){if(u.escapeTest.test(e))return e.replace(u.escapeReplace,(function(e){return u.replacements[e]}))}else if(u.escapeTestNoEncode.test(e))return e.replace(u.escapeReplaceNoEncode,(function(e){return u.replacements[e]}));return e}function d(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function p(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function h(e,t,n){if(e){try{var r=decodeURIComponent(d(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!m.test(n)&&(n=function(e,t){f[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=w(e,"/",!0));return e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}o._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",o.em=p(o.em).replace(/punctuation/g,o._punctuation).getRegex(),o._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,o._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,o._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,o.autolink=p(o.autolink).replace("scheme",o._scheme).replace("email",o._email).getRegex(),o._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,o.tag=p(o.tag).replace("comment",n._comment).replace("attribute",o._attribute).getRegex(),o._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,o._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,o._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,o.link=p(o.link).replace("label",o._label).replace("href",o._href).replace("title",o._title).getRegex(),o.reflink=p(o.reflink).replace("label",o._label).getRegex(),o.normal=b({},o),o.pedantic=b({},o.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:p(/^!?\[(label)\]\((.*?)\)/).replace("label",o._label).getRegex(),reflink:p(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",o._label).getRegex()}),o.gfm=b({},o.normal,{escape:p(o.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),o.gfm.url=p(o.gfm.url,"i").replace("email",o.gfm._extended_email).getRegex(),o.breaks=b({},o.gfm,{br:p(o.br).replace("{2,}","*").getRegex(),text:p(o.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),i.rules=o,i.output=function(e,t,n){return new i(t,n).output(e)},i.prototype.output=function(e){for(var t,n,r,o,a,s,c="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),c+=u(a[1]);else if(a=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.inRawBlock=!1),e=e.substring(a[0].length),c+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):u(a[0]):a[0];else if(a=this.rules.link.exec(e)){var l=$(a[2],"()");if(l>-1){var d=4+a[1].length+l;a[2]=a[2].substring(0,l),a[0]=a[0].substring(0,d).trim(),a[3]=""}e=e.substring(a[0].length),this.inLink=!0,r=a[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=t[1],o=t[3]):o="":o=a[3]?a[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),c+=this.outputLink(a,{href:i.escapes(r),title:i.escapes(o)}),this.inLink=!1}else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){c+=a[0].charAt(0),e=a[0].substring(1)+e;continue}this.inLink=!0,c+=this.outputLink(a,t),this.inLink=!1}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),c+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),c+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),c+=this.renderer.codespan(u(a[2].trim(),!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),c+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),c+=this.renderer.del(this.output(a[1]));else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),r="@"===a[2]?"mailto:"+(n=u(this.mangle(a[1]))):n=u(a[1]),c+=this.renderer.link(r,null,n);else if(this.inLink||!(a=this.rules.url.exec(e))){if(a=this.rules.text.exec(e))e=e.substring(a[0].length),this.inRawBlock?c+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):u(a[0]):a[0]):c+=this.renderer.text(u(this.smartypants(a[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===a[2])r="mailto:"+(n=u(a[0]));else{do{s=a[0],a[0]=this.rules._backpedal.exec(a[0])[0]}while(s!==a[0]);n=u(a[0]),r="www."===a[1]?"http://"+n:n}e=e.substring(a[0].length),c+=this.renderer.link(r,null,n)}return c},i.escapes=function(e){return e?e.replace(i.rules._escapes,"$1"):e},i.prototype.outputLink=function(e,t){var n=t.href,r=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,u(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,o=0;o<r;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},a.prototype.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,r);null!=o&&o!==e&&(n=!0,e=o)}return r?'<pre><code class="'+this.options.langPrefix+u(r,!0)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>"},a.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},a.prototype.html=function(e){return e},a.prototype.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},a.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},a.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},a.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},a.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},a.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},a.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},a.prototype.strong=function(e){return"<strong>"+e+"</strong>"},a.prototype.em=function(e){return"<em>"+e+"</em>"},a.prototype.codespan=function(e){return"<code>"+e+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(e){return"<del>"+e+"</del>"},a.prototype.link=function(e,t,n){if(null===(e=h(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<a href="'+u(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},a.prototype.image=function(e,t,n){if(null===(e=h(this.options.sanitize,this.options.baseUrl,e)))return n;var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},a.prototype.text=function(e){return e},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(e){return e},s.prototype.link=s.prototype.image=function(e,t,n){return""+n},s.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new i(e.links,this.options),this.inlineText=new i(e.links,b({},this.options,{renderer:new s})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop(),this.token},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,d(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o="",i="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});i+=this.renderer.tablerow(n)}return this.renderer.table(o,i);case"blockquote_start":for(i="";"blockquote_end"!==this.next().type;)i+=this.tok();return this.renderer.blockquote(i);case"list_start":i="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)i+=this.tok();return this.renderer.list(i,a,s);case"list_item_start":i="";var c=this.token.loose,l=this.token.checked,u=this.token.task;for(this.token.task&&(i+=this.renderer.checkbox(l));"list_item_end"!==this.next().type;)i+=c||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(i,u,l);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var p='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(p);console.log(p)}},l.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(){}function b(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function y(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,o=t;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function w(e,t,n){if(0===e.length)return"";for(var r=0;r<e.length;){var o=e.charAt(e.length-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,e.length-r)}function $(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&--n<0)return r;return-1}function v(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function k(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),v(t=b({},k.defaults,t||{}));var o,i,a=t.highlight,s=0;try{o=r.lex(e,t)}catch(e){return n(e)}i=o.length;var l=function(e){if(e)return t.highlight=a,n(e);var r;try{r=c.parse(o,t)}catch(t){e=t}return t.highlight=a,e?n(e):n(null,r)};if(!a||a.length<3)return l();if(delete t.highlight,!i)return l();for(;s<o.length;s++)!function(e){"code"!==e.type?--i||l():a(e.text,e.lang,(function(t,n){return t?l(t):null==n||n===e.text?--i||l():(e.text=n,e.escaped=!0,void(--i||l()))}))}(o[s])}else try{return t&&(t=b({},k.defaults,t)),v(t),c.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||k.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}g.exec=g,k.options=k.setOptions=function(e){return b(k.defaults,e),k},k.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new a,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}},k.defaults=k.getDefaults(),k.Parser=c,k.parser=c.parse,k.Renderer=a,k.TextRenderer=s,k.Lexer=r,k.lexer=r.lex,k.InlineLexer=i,k.inlineLexer=i.output,k.Slugger=l,k.parse=k,e.exports=k}()})),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function createCommonjsModule$1(e,t){return e(t={exports:{}},t.exports),t.exports}var pluralize=createCommonjsModule$1((function(e,t){!function(t,n){"function"==typeof commonjsRequire?e.exports=n():t.pluralize=n()}(commonjsGlobal,(function(){var e=[],t=[],n={},r={},o={};function i(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,n){return t[n]||""}))}function c(e,t){return e.replace(t[0],(function(n,r){var o=s(t[1],arguments);return a(""===n?e[r-1]:n,o)}))}function l(e,t,r){if(!e.length||n.hasOwnProperty(e))return t;for(var o=r.length;o--;){var i=r[o];if(i[0].test(t))return c(t,i)}return t}function u(e,t,n){return function(r){var o=r.toLowerCase();return t.hasOwnProperty(o)?a(r,o):e.hasOwnProperty(o)?a(r,e[o]):l(o,r,n)}}function d(e,t,n,r){return function(r){var o=r.toLowerCase();return!!t.hasOwnProperty(o)||!e.hasOwnProperty(o)&&l(o,o,n)===o}}function p(e,t,n){return(n?t+" ":"")+(1===t?p.singular(e):p.plural(e))}return p.plural=u(o,r,e),p.isPlural=d(o,r,e),p.singular=u(r,o,t),p.isSingular=d(r,o,t),p.addPluralRule=function(t,n){e.push([i(t),n])},p.addSingularRule=function(e,n){t.push([i(e),n])},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):n[e.toLowerCase()]=!0},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),o[e]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return p.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return p.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return p.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}))}));const idb=_idb,webidl2=_webidl2,hyperHTML$1=hyperHTML,marked$1=marked,pluralize$1=pluralize,name$3="core/markdown",gtEntity=/&gt;/gm,ampEntity=/&amp;/gm,endsWithSpace=/\s+$/gm,inlineElems=new Set(["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var"]);class Renderer extends marked$1.Renderer{code(e,t,n){return/(^webidl$)/i.test(t)?`<pre class="idl">${e}</pre>`:super.code(e,t,n)}}function normalizePadding(e){if(!e)return"";if("string"!=typeof e)throw TypeError("Invalid input");if("\n"===e)return"\n";function t(e){return null!==e&&e.nodeType===Node.TEXT_NODE}const n=document.createRange().createContextualFragment(e);var r;Array.from(n.children).filter(e=>!inlineElems.has(e.localName)).filter(e=>"pre"!==e.localName).filter(e=>"table"!==e.localName).forEach(e=>{e.innerHTML=normalizePadding(e.innerHTML)}),Array.from(n.childNodes).filter(e=>t(e)&&""===e.textContent.trim()).forEach(e=>e.replaceWith("\n")),null!==(r=n.firstChild)&&r.nodeType===Node.ELEMENT_NODE&&Array.from(n.firstChild.children).filter(e=>"table"!==e.localName).forEach(e=>{e.innerHTML=normalizePadding(e.innerHTML)}),n.normalize();const o=n.textContent.replace(/^ *\n/,"").split("\n").filter(e=>e&&e.startsWith(" "))[0],i=o?o.match(/ +/)[0].length:0;if(i){Array.from(n.childNodes).filter(e=>"PRE"!==e.nodeName).filter(t).filter(e=>{const t=e.previousElementSibling,n=t&&t.localName;return!inlineElems.has(n)||e.textContent.trim().includes("\n")}).reduce((e,t)=>{let n="";const r=t.previousElementSibling,o=r&&r.localName;return/^[\t ]/.test(t.textContent)&&inlineElems.has(o)&&(n=t.textContent.match(/^\s+/)[0]),t.textContent=n+t.textContent.replace(e,""),e},new RegExp(`^ {1,${i}}`,"gm"));const e=new RegExp(`\\ {${i}}$`,"gm");Array.from(n.querySelectorAll("pre")).map(e=>e.previousSibling).filter(t).reduce((t,n)=>(e.test(n.textContent)&&(n.textContent=n.textContent.substr(0,n.textContent.length-t)),t),i)}const a=document.createElement("body");return a.append(n),endsWithSpace.test(a.innerHTML)?`${a.innerHTML.trimRight()}\n`:a.innerHTML}function markdownToHtml(e){const t=normalizePadding(e).replace(gtEntity,">").replace(ampEntity,"&");return marked$1(t,{sanitize:!1,gfm:!0,headerIds:!1,langPrefix:"",renderer:new Renderer})}function processElements(e){return t=>{const n=Array.from(t.querySelectorAll(e));return n.reverse().forEach(e=>{e.innerHTML=markdownToHtml(e.innerHTML)}),n}}class Builder{constructor(e){this.doc=e,this.root=e.createDocumentFragment(),this.stack=[this.root],this.current=this.root}findPosition(e){return parseInt(e.tagName.charAt(1),10)}findParent(e){let t;for(;e>0;)if(e--,t=this.stack[e])return t}findHeader({firstChild:e}){for(;e;){if(/H[1-6]/.test(e.tagName))return e;e=e.nextSibling}return null}addHeader(e){const t=this.doc.createElement("section"),n=this.findPosition(e);t.appendChild(e),this.findParent(n).appendChild(t),this.stack[n]=t,this.stack.length=n+1,this.current=t}addSection(e,t){const n=this.findHeader(e),r=n?this.findPosition(n):1,o=this.findParent(r);n&&e.removeChild(n),e.appendChild(t(e)),n&&e.prepend(n),o.appendChild(e),this.current=o}addElement(e){this.current.appendChild(e)}}function structure(e,t){return function e(n){const r=new Builder(t);for(;n.firstChild;){const t=n.firstChild;if(t.nodeType===Node.ELEMENT_NODE)switch(t.localName){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":r.addHeader(t);break;case"section":r.addSection(t,e);break;default:r.addElement(t)}else n.removeChild(t)}return r.root}(e)}function substituteWithTextNodes(e){Array.from(e).forEach(e=>{e.replaceWith(e.textContent)})}const processMDSections=processElements("[data-format='markdown']:not(body)"),processBlockLevelElements=processElements("[data-format=markdown]:not(body), section, div, address, article, aside, figure, header, main, body");function run$1(e){const t=!!document.querySelector("[data-format=markdown]:not(body)"),n="markdown"===e.format;if(!n&&!t)return;if(!n)return void processMDSections(document.body).map(e=>{return{structuredInternals:structure(e,e.ownerDocument),elem:e}}).forEach(({elem:e,structuredInternals:t})=>{if(e.setAttribute("aria-busy","true"),"section"===t.firstElementChild.localName&&"section"===e.localName){const n=t.firstElementChild;n.remove(),e.append(...n.childNodes)}else e.textContent="";e.appendChild(t),e.setAttribute("aria-busy","false")});const r=document.getElementById("respec-ui");r.remove();const o=document.createElement("html"),i=document.createElement("body");i.innerHTML=document.body.innerHTML,o.appendChild(i),processBlockLevelElements(o);const a=i.innerHTML.replace(/<p>\s*<\/p>/gm,"");i.innerHTML=a,substituteWithTextNodes(i.querySelectorAll(".nolinks a[href]"));const s=structure(i,document);i.appendChild(s),i.prepend(r),document.body.replaceWith(i)}var markdown=Object.freeze({__proto__:null,name:name$3,markdownToHtml:markdownToHtml,run:run$1}),shortcut={all_shortcuts:{},add:function(e,t,n){var r={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(n)for(var o in r)void 0===n[o]&&(n[o]=r[o]);else n=r;var i=n.target;"string"==typeof n.target&&(i=document.getElementById(n.target)),e=e.toLowerCase();var a=function(r){var o,i;if((r=r||window.event,n.disable_in_input)&&(r.target?i=r.target:r.srcElement&&(i=r.srcElement),3==i.nodeType&&(i=i.parentNode),"INPUT"==i.tagName||"TEXTAREA"==i.tagName))return;r.keyCode?o=r.keyCode:r.which&&(o=r.which);var a=String.fromCharCode(o).toLowerCase();188==o&&(a=","),190==o&&(a=".");var s=e.split("+"),c=0,l={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},u={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},d={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};r.ctrlKey&&(d.ctrl.pressed=!0),r.shiftKey&&(d.shift.pressed=!0),r.altKey&&(d.alt.pressed=!0),r.metaKey&&(d.meta.pressed=!0);for(var p,h=0;p=s[h],h<s.length;h++)"ctrl"==p||"control"==p?(c++,d.ctrl.wanted=!0):"shift"==p?(c++,d.shift.wanted=!0):"alt"==p?(c++,d.alt.wanted=!0):"meta"==p?(c++,d.meta.wanted=!0):p.length>1?u[p]==o&&c++:n.keycode?n.keycode==o&&c++:a==p?c++:l[a]&&r.shiftKey&&(a=l[a])==p&&c++;if(c==s.length&&d.ctrl.pressed==d.ctrl.wanted&&d.shift.pressed==d.shift.wanted&&d.alt.pressed==d.alt.wanted&&d.meta.pressed==d.meta.wanted&&(t(r),!n.propagate))return r.cancelBubble=!0,r.returnValue=!1,r.stopPropagation&&(r.stopPropagation(),r.preventDefault()),!1};this.all_shortcuts[e]={callback:a,target:i,event:n.type},i.addEventListener?i.addEventListener(n.type,a,!1):i.attachEvent?i.attachEvent("on"+n.type,a):i["on"+n.type]=a}};const name$4="core/ui";async function loadStyle(){try{return(await Promise.resolve().then((function(){return ui$3}))).default}catch{return fetchAsset("ui.css")}}async function insertStyle(){const e=document.createElement("style");return e.id="respec-ui-styles",e.textContent=await loadStyle(),e.classList.add("removeOnSave"),document.head.appendChild(e),e}function ariaDecorate(e,t){e&&Array.from(t).forEach(([t,n])=>{e.setAttribute(`aria-${t}`,n)})}insertStyle();const respecUI=hyperHTML$1`<div id='respec-ui' class='removeOnSave' hidden></div>`,menu=hyperHTML$1`<ul id=respec-menu role=menu aria-labelledby='respec-pill' hidden></ul>`;let modal,overlay;const errors=[],warnings=[],buttons={};sub("start-all",()=>document.body.prepend(respecUI),{once:!0}),sub("end-all",()=>document.body.prepend(respecUI),{once:!0});const respecPill=hyperHTML$1`<button id='respec-pill' disabled>ReSpec</button>`;respecUI.appendChild(respecPill),respecPill.addEventListener("click",e=>{e.stopPropagation(),menu.hidden?(menu.classList.remove("respec-hidden"),menu.classList.add("respec-visible")):(menu.classList.add("respec-hidden"),menu.classList.remove("respec-visible")),respecPill.setAttribute("aria-expanded",String(menu.hidden)),menu.hidden=!menu.hidden}),document.documentElement.addEventListener("click",()=>{menu.hidden||(menu.classList.remove("respec-visible"),menu.classList.add("respec-hidden"),menu.hidden=!0)}),respecUI.appendChild(menu);const ariaMap=new Map([["controls","respec-menu"],["expanded","false"],["haspopup","true"],["label","ReSpec Menu"]]);function errWarn(e,t,n,r){t.push(e),buttons.hasOwnProperty(n)||(buttons[n]=createWarnButton(n,t,r),respecUI.appendChild(buttons[n])),buttons[n].textContent=t.length}function createWarnButton(e,t,n){const r=hyperHTML$1`<button id='${`respec-pill-${e}`}' class='respec-info-button'>`;r.addEventListener("click",()=>{r.setAttribute("aria-expanded","true");const o=hyperHTML$1`<ol class='${`respec-${e}-list`}'></ol>`;for(const e of t){const t=document.createRange().createContextualFragment(markdownToHtml(e)),n=document.createElement("li");t.firstElementChild===t.lastElementChild?n.append(...t.firstElementChild.childNodes):n.appendChild(t),o.appendChild(n)}ui.freshModal(n,o,r)});const o=new Map([["expanded","false"],["haspopup","true"],["controls",`respec-pill-${e}-modal`],["label",`Document ${n.toLowerCase()}`]]);return ariaDecorate(r,o),r}ariaDecorate(respecPill,ariaMap);const ui={show(){try{respecUI.hidden=!1}catch(e){console.error(e)}},hide(){respecUI.hidden=!0},enable(){respecPill.removeAttribute("disabled")},addCommand(e,t,n,r){r=r||"";const o=`respec-button-${e.toLowerCase().replace(/\s+/,"-")}`,i=hyperHTML$1`<button id="${o}" class="respec-option" title="${n}">
      <span class="respec-cmd-icon">${r}</span> ${e}…
    </button>`,a=hyperHTML$1`<li role=menuitem>${i}</li>`;return a.addEventListener("click",t),menu.appendChild(a),n&&shortcut.add(n,t),i},error(e){errWarn(e,errors,"error","Errors")},warning(e){errWarn(e,warnings,"warning","Warnings")},closeModal(e){overlay&&(overlay.classList.remove("respec-show-overlay"),overlay.classList.add("respec-hide-overlay"),overlay.addEventListener("transitionend",()=>{overlay.remove(),overlay=null})),e&&e.setAttribute("aria-expanded","false"),modal&&(modal.remove(),modal=null)},freshModal(e,t,n){modal&&modal.remove(),overlay&&overlay.remove(),overlay=hyperHTML$1`<div id='respec-overlay' class='removeOnSave'></div>`;const r=`${n.id}-modal`,o=`${r}-heading`;modal=hyperHTML$1`<div id='${r}' class='respec-modal removeOnSave' role='dialog'>
      <h3 id="${o}">${e}</h3>
      <div class='inside'>${t}</div>
    </div>`;const i=new Map([["labelledby",o]]);ariaDecorate(modal,i),document.body.append(overlay,modal),overlay.addEventListener("click",()=>this.closeModal(n)),overlay.classList.toggle("respec-show-overlay"),modal.hidden=!1}};shortcut.add("Esc",()=>ui.closeModal()),shortcut.add("Ctrl+Alt+Shift+E",()=>{buttons.error&&buttons.error.click()}),shortcut.add("Ctrl+Alt+Shift+W",()=>{buttons.warning&&buttons.warning.click()}),window.respecUI=ui,sub("error",e=>ui.error(e)),sub("warn",e=>ui.warning(e));var ui$1=Object.freeze({__proto__:null,name:name$4,ui:ui});const name$5="core/reindent";function reindent(e){if(!e)return e;const t=e.trimRight().split("\n");for(;t.length&&!t[0].trim();)t.shift();const n=t.filter(e=>e.trim()).map(e=>e.search(/[^\s]/)),r=Math.min(...n);return t.map(e=>e.slice(r)).join("\n")}function run$2(){for(const e of document.getElementsByTagName("pre"))e.innerHTML=reindent(e.innerHTML)}var reindent$1=Object.freeze({__proto__:null,name:name$5,run:run$2});const name$6="core/location-hash";function run$3(){pub("start","core/location-hash"),location.hash&&document.respecIsReady.then(()=>{let e=decodeURIComponent(location.hash).substr(1);const t=document.getElementById(e),n=/\W/.test(e);if(!t&&n){const t=e.replace(/[\W]+/gim,"-").replace(/^-+/,"").replace(/-+$/,"");document.getElementById(t)&&(e=t)}location.hash=`#${e}`})}var locationHash=Object.freeze({__proto__:null,name:name$6,run:run$3});const privs=new WeakMap;function canLint(e,t){return!(!1===e.hasOwnProperty("lint")||!1===e.lint||!e.lint[t])}class LinterRule{constructor(e,t){privs.set(this,{name:e,lintingFunction:t})}get name(){return privs.get(this).name}lint(e={lint:{[this.name]:!1}},t=document){if(canLint(e,this.name))return privs.get(this).lintingFunction(e,t)}}const name$7="check-charset",meta={en:{description:"Document must only contain one `<meta>` tag with charset set to 'utf-8'",howToFix:'Add this line in your document `<head>` section - `<meta charset="utf-8">` or set charset to "utf-8" if not set already.'}},lang$1=lang in meta?lang:"en";function linterFunction(e,t){const n=t.querySelectorAll("meta[charset]"),r=[];for(const e of n)r.push(e.getAttribute("charset").trim().toLowerCase());return r.includes("utf-8")&&1===n.length?[]:{name:name$7,occurrences:n.length,...meta[lang$1]}}const rule=new LinterRule(name$7,linterFunction),name$8="check-internal-slots",meta$1={en:{description:"Internal slots should be preceded by a '.'",howToFix:"Add a '.' between the elements mentioned.",help:"See developer console."}},lang$2=lang in meta$1?lang:"en";function linterFunction$1(e,t){const n=[...t.querySelectorAll("var+a")].filter(({previousSibling:{nodeName:e}})=>{return e&&"VAR"===e});if(n.length)return{name:name$8,offendingElements:n,occurrences:n.length,...meta$1[lang$2]}}const rule$1=new LinterRule(name$8,linterFunction$1),name$9="check-punctuation",punctuationMarks=[".",":","!","?"],humanMarks=punctuationMarks.map(e=>`"${e}"`).join(", "),meta$2={en:{description:"`p` elements should end with a punctuation mark.",howToFix:`Please make sure \`p\` elements end with one of: ${humanMarks}.`}},lang$3=lang in meta$2?lang:"en";function lintingFunction(e,t){const n=new RegExp(`[${punctuationMarks.join("")}\\]]$|^ *$`,"m"),r=[...t.querySelectorAll("p:not(#back-to-top)")].filter(e=>!n.test(e.textContent.trim()));if(r.length)return{name:name$9,offendingElements:r,occurrences:r.length,...meta$2[lang$3]}}const rule$2=new LinterRule(name$9,lintingFunction),name$a="core/linter",privates=new WeakMap;class Linter{constructor(){privates.set(this,{rules:new Set})}get rules(){return privates.get(this).rules}register(...e){e.forEach(e=>this.rules.add(e))}async lint(e,t=window.document){const n=[...privates.get(this).rules].map(n=>toLinterWarning(n.lint(e,t)));await n}}const linter=new Linter,baseResult={name:"unknown",description:"",occurrences:0,howToFix:"",offendingElements:[],help:""};async function toLinterWarning(e){const t=await e;if(!t)return;const n={...baseResult,...t},{description:r,help:o,howToFix:i,name:a,occurrences:s,offendingElements:c}=n,l=`Linter (${a}): ${r} ${i} ${o}`;c.length?showInlineWarning(c,`${l} Occured`):pub("warn",`${l} (Count: ${s})`)}function run$4(e){!1!==e.lint&&(async()=>{await document.respecIsReady;try{await linter.lint(e,document)}catch(e){console.error("Error ocurred while running the linter",e)}})()}var linter$1=Object.freeze({__proto__:null,name:name$a,default:linter,run:run$4});const name$b="local-refs-exist",meta$3={en:{description:"Broken local reference found in document.",howToFix:"Please fix the links mentioned.",help:"See developer console."}},lang$4=lang in meta$3?lang:"en";function linterFunction$2(e,t){const n=[...t.querySelectorAll("a[href^='#']")].filter(isBrokenHyperlink);if(n.length)return{name:name$b,offendingElements:n,occurrences:n.length,...meta$3[lang$4]}}const rule$3=new LinterRule(name$b,linterFunction$2);function isBrokenHyperlink(e){const t=e.getAttribute("href").substring(1);return!e.ownerDocument.getElementById(t)}const name$c="no-headingless-sections",meta$4={en:{description:"All sections must start with a `h2-6` element.",howToFix:"Add a `h2-6` to the offending section or use a `<div>`.",help:"See developer console."},nl:{description:"Alle secties moeten beginnen met een `h2-6` element.",howToFix:"Voeg een `h2-6` toe aan de conflicterende sectie of gebruik een `<div>`.",help:"Zie de developer console."}},lang$5=lang in meta$4?lang:"en",hasNoHeading=({firstElementChild:e})=>null===e||!1===/^h[1-6]$/.test(e.localName);function linterFunction$3(e,t){const n=[...t.querySelectorAll("section")].filter(hasNoHeading);if(n.length)return{name:name$c,offendingElements:n,occurrences:n.length,...meta$4[lang$5]}}const rule$4=new LinterRule(name$c,linterFunction$3),name$d="no-http-props",meta$5={en:{description:"Insecure URLs are not allowed in `respecConfig`.",howToFix:"Please change the following properties to 'https://': "}},lang$6=lang in meta$5?lang:"en";function lintingFunction$1(e,t){if(!t.location.href.startsWith("http"))return;const n=Object.getOwnPropertyNames(e).filter(e=>e.endsWith("URI")||"prevED"===e).filter(n=>new URL(e[n],t.location.href).href.startsWith("http://"));if(!n.length)return;const r={name:name$d,occurrences:n.length,...meta$5[lang$6]};return r.howToFix+=`${n.map(e=>`\`${e}\``).join(", ")}.`,r}const rule$5=new LinterRule(name$d,lintingFunction$1),name$e="privsec-section",meta$6={en:{description:"Document must a 'Privacy and/or Security' Considerations section.",howToFix:"Add a privacy and/or security considerations section.",help:"See the [Self-Review Questionnaire](https://w3ctag.github.io/security-questionnaire/)."}},lang$7=lang in meta$6?lang:"en";function hasPriSecConsiderations(e){return Array.from(e.querySelectorAll("h2, h3, h4, h5, h6")).some(({textContent:e})=>{const t=/(privacy|security)/im.test(e),n=/(considerations)/im.test(e);return t&&n||t})}function lintingFunction$2(e,t){if(e.isRecTrack&&!hasPriSecConsiderations(t))return{name:name$e,occurrences:1,...meta$6[lang$7]}}const rule$6=new LinterRule(name$e,lintingFunction$2);linter.register(rule$5,rule$4,rule$2,rule$3,rule$1,rule,rule$6);const coreDefaults={lint:{"no-headingless-sections":!0,"no-http-props":!0,"check-punctuation":!1,"local-refs-exist":!0,"check-internal-slots":!1,"check-charset":!1,"privsec-section":!1},pluralize:!1,specStatus:"base",highlightVars:!0,addSectionLinks:!0},definitionMap=Object.create(null);function registerDefinition(e,t){for(const n of t.map(e=>e.toLowerCase()))n in definitionMap==!1?definitionMap[n]=[e]:definitionMap[n].includes(e)||definitionMap[n].push(e)}const name$f="wpt-tests-exist",meta$7={en:{description:"Non-existent Web Platform Tests",howToFix:"Please fix the tests mentioned.",help:"See developer console."}},lang$8=lang in meta$7?lang:"en";async function linterFunction$4(e,t){const n=await getFilesInWPT(e.testSuiteURI,e.githubAPI);if(!n)return;const r=[],o=new Set,i=[...t.querySelectorAll("[data-tests]")].filter(e=>e.dataset.tests);for(const e of i){const t=e.dataset.tests.split(/,/gm).map(e=>e.trim().split("#")[0]).filter(e=>e).filter(e=>!n.has(e));t.length&&(r.push(e),t.forEach(e=>o.add(e)))}if(!r.length)return;const a=[...o].map(e=>`\`${e}\``);return{name:name$f,offendingElements:r,occurrences:r.length,...meta$7[lang$8],description:`${meta$7[lang$8].description}: ${a.join(", ")}.`}}const rule$7=new LinterRule(name$f,linterFunction$4);async function getFilesInWPT(e,t){let n;try{const t=new URL(e);if(t.pathname.startsWith("/web-platform-tests/wpt/")){const e=/web-platform-tests\/wpt\/(.+)/;n=t.pathname.match(e)[1].replace(/\//g,"")}else n=t.pathname.replace(/\//g,"")}catch(e){return pub("warn","Failed to parse WPT directory from testSuiteURI"),console.error(e),null}const r=new URL("web-platform-tests/wpt/files",`${t}/`);r.searchParams.set("path",n);const o=await fetch(r);if(!o.ok){return pub("warn","Failed to fetch files from WPT repository. "+`Request failed with error: ${await o.text()} (${o.status})`),null}const{entries:i}=await o.json(),a=i.filter(e=>!e.endsWith("/"));return new Set(a)}const name$g="w3c/defaults";linter.register(rule$6,rule$7);const w3cDefaults={lint:{"privsec-section":!0,"wpt-tests-exist":!1},pluralize:!0,doJsonLd:!1,license:"w3c-software-doc",logos:[{src:"https://www.w3.org/StyleSheets/TR/2016/logos/W3C",alt:"W3C",height:48,width:72,url:"https://www.w3.org/"}],xref:!0};function run$5(e){if("unofficial"===e.specStatus)return;const t=!1!==e.lint&&{...coreDefaults.lint,...w3cDefaults.lint,...e.lint};Object.assign(e,{...coreDefaults,...w3cDefaults,...e,lint:t}),Object.assign(e,{definitionMap:definitionMap})}var defaults=Object.freeze({__proto__:null,name:name$g,run:run$5});const name$h="core/style",styleElement=insertStyle$1();async function loadStyle$1(){try{return(await Promise.resolve().then((function(){return respec2$1}))).default}catch{return fetchAsset("respec2.css")}}async function insertStyle$1(){const e=document.createElement("style");return e.id="respec-mainstyle",e.textContent=await loadStyle$1(),document.head.appendChild(e),e}async function run$6(e){e.noReSpecCSS&&(await styleElement).remove()}var style=Object.freeze({__proto__:null,name:name$h,run:run$6});const name$i="w3c/style";function attachFixupScript(e,t){const n=e.createElement("script");location.hash&&n.addEventListener("load",()=>{window.location.href=location.hash},{once:!0}),n.src=`https://www.w3.org/scripts/TR/${t}/fixup.js`,e.body.appendChild(n)}function createMetaViewport(){const e=document.createElement("meta");e.name="viewport";return e.content=toKeyValuePairs({width:"device-width","initial-scale":"1","shrink-to-fit":"no"}).replace(/"/g,""),e}function createBaseStyle(){const e=document.createElement("link");return e.rel="stylesheet",e.href="https://www.w3.org/StyleSheets/TR/2016/base.css",e.classList.add("removeOnSave"),e}function selectStyleVersion(e){let t="";switch(e){case null:case!0:t="2016";break;default:e&&!isNaN(e)&&(t=e.toString().trim())}return t}function createResourceHints(){return[{hint:"preconnect",href:"https://www.w3.org"},{hint:"preload",href:"https://www.w3.org/scripts/TR/2016/fixup.js",as:"script"},{hint:"preload",href:"https://www.w3.org/StyleSheets/TR/2016/base.css",as:"style"},{hint:"preload",href:"https://www.w3.org/StyleSheets/TR/2016/logos/W3C",as:"image"}].map(createResourceHint).reduce((e,t)=>(e.appendChild(t),e),document.createDocumentFragment())}const elements=createResourceHints();function styleMover(e){return t=>{const n=t.querySelector(`head link[href="${e}"]`);t.querySelector("head").append(n)}}function run$7(e){if(!e.specStatus){const t="`respecConfig.specStatus` missing. Defaulting to 'base'.";e.specStatus="base",pub("warn",t)}let t="W3C-";switch(e.specStatus.toUpperCase()){case"CG-DRAFT":case"CG-FINAL":case"BG-DRAFT":case"BG-FINAL":t=e.specStatus.toLowerCase();break;case"FPWD":case"LC":case"WD-NOTE":case"LC-NOTE":t+="WD";break;case"WG-NOTE":case"FPWD-NOTE":t+="WG-NOTE.css";break;case"UNOFFICIAL":t+="UD";break;case"FINDING":case"FINDING-DRAFT":case"BASE":t="base.css";break;default:t+=e.specStatus}const n=selectStyleVersion(e.useExperimentalStyles||"2016");n&&!e.noToc&&sub("end-all",()=>{attachFixupScript(document,n)},{once:!0});const r=`https://www.w3.org/StyleSheets/TR/${n?`${n}/`:""}${t}`;linkCSS(document,r),sub("beforesave",styleMover(r))}elements.appendChild(createBaseStyle()),document.head.querySelector("meta[name=viewport]")||elements.prepend(createMetaViewport()),document.head.prepend(elements);var style$1=Object.freeze({__proto__:null,name:name$i,run:run$7});const name$j="w3c/l10n",additions={en:{status_at_publication:"This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current W3C publications and the latest revision of this technical report can be found in the <a href='https://www.w3.org/TR/'>W3C technical reports index</a> at https://www.w3.org/TR/."},ko:{status_at_publication:"This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current W3C publications and the latest revision of this technical report can be found in the <a href='https://www.w3.org/TR/'>W3C technical reports index</a> at https://www.w3.org/TR/."},zh:{status_at_publication:"本章节描述了本文档的发布状态。其它更新版本可能会覆盖本文档。W3C的文档列 表和最新版本可通过<a href='https://www.w3.org/TR/'>W3C技术报告</a>索引访问。"},ja:{status_at_publication:"この節には、公開時点でのこの文書の位置づけが記されている。他の文書によって置き換えられる可能性がある。現時点でのW3Cの発行文書とこのテクニカルレポートの最新版は、下記から参照できる。 <a href='https://www.w3.org/TR/'>W3C technical reports index</a> (https://www.w3.org/TR/)"},nl:{status_at_publication:"This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current W3C publications and the latest revision of this technical report can be found in the <a href='https://www.w3.org/TR/'>W3C technical reports index</a> at https://www.w3.org/TR/."},es:{status_at_publication:"Esta sección describe el estado del presente documento al momento de su publicación. El presente documento puede ser remplazado por otros. Una lista de las publicaciones actuales del W3C y la última revisión del presente informe técnico puede hallarse en http://www.w3.org/TR/ <a href='https://www.w3.org/TR/'>el índice de informes técnicos</a> del W3C."}};Object.keys(additions).forEach(e=>{Object.assign(l10n[e],additions[e])});var l10n$2=Object.freeze({__proto__:null,name:name$j});const name$k="core/github";let resolveGithubPromise,rejectGithubPromise;const github=new Promise((e,t)=>{resolveGithubPromise=e,rejectGithubPromise=e=>{pub("error",e),t(new Error(e))}}),localizationStrings={en:{file_a_bug:"File a bug",participate:"Participate",commit_history:"Commit history"},nl:{commit_history:"Revisiehistorie",file_a_bug:"Dien een melding in",participate:"Doe mee"},es:{commit_history:"Historia de cambios",file_a_bug:"Nota un bug",participate:"Participe"}},lang$9=lang in localizationStrings?lang:"en",l10n$3=localizationStrings[lang$9];async function run$8(e){if(!e.hasOwnProperty("github")||!e.github)return void resolveGithubPromise(null);if("object"==typeof e.github&&!e.github.hasOwnProperty("repoURL")){return void rejectGithubPromise("Config option `[github](https://github.com/w3c/respec/wiki/github)` is missing property `repoURL`.")}let t,n=e.github.repoURL||e.github;n.endsWith("/")||(n+="/");try{t=new URL(n,"https://github.com")}catch{return void rejectGithubPromise(`\`respecConf.github\` is not a valid URL? (${t})`)}if("https://github.com"!==t.origin){return void rejectGithubPromise(`\`respecConf.github\` must be HTTPS and pointing to GitHub. (${t})`)}const[r,o]=t.pathname.split("/").filter(e=>e);if(!r||!o){return void rejectGithubPromise("`respecConf.github` URL needs a path with, for example, w3c/my-spec")}const i=e.github.branch||"gh-pages",a=new URL("./issues/",t).href,s={edDraftURI:`https://${r.toLowerCase()}.github.io/${o}/`,githubToken:void 0,githubUser:void 0,issueBase:a,atRiskBase:a,otherLinks:[],pullBase:new URL("./pulls/",t).href,shortName:o},c={key:l10n$3.participate,data:[{value:`GitHub ${r}/${o}`,href:t},{value:l10n$3.file_a_bug,href:s.issueBase},{value:l10n$3.commit_history,href:new URL(`./commits/${i}`,t.href).href},{value:"Pull requests",href:s.pullBase}]};let l="https://respec.org/github";if(e.githubAPI)if(new URL(e.githubAPI).hostname===window.parent.location.hostname)l=e.githubAPI;else{pub("warn","`respecConfig.githubAPI` should not be added manually.")}const u={branch:i,repoURL:t.href,apiBase:l,fullName:`${r}/${o}`};resolveGithubPromise(u);const d={...s,...e,github:u,githubAPI:l};Object.assign(e,d),e.otherLinks.unshift(c)}var github$1=Object.freeze({__proto__:null,name:name$k,github:github,run:run$8});const name$l="core/data-include";function processResponse(e,t,n){const r=document.querySelector(`[data-include-id=${t}]`),o=r.ownerDocument,i=runTransforms(e,r.dataset.oninclude,n),a="string"==typeof r.dataset.includeReplace;let s;switch(r.dataset.includeFormat){case"text":a?(s=o.createTextNode(i),r.replaceWith(s)):r.textContent=i;break;default:if(r.innerHTML=i,a){for(s=o.createDocumentFragment();r.hasChildNodes();)s.append(r.removeChild(r.firstChild));r.replaceWith(s)}}o.contains(r)&&cleanUp(r)}function cleanUp(e){["data-include","data-include-format","data-include-replace","data-include-id","oninclude"].forEach(t=>e.removeAttribute(t))}async function run$9(){const e=document.querySelectorAll("[data-include]"),t=Array.from(e).map(async e=>{const t=e.dataset.include;if(!t)return;const n=`include-${String(Math.random()).substr(2)}`;e.dataset.includeId=n;try{const e=await fetch(t);processResponse(await e.text(),n,t)}catch(n){const r=`\`data-include\` failed: \`${t}\` (${n.message}). See console for details.`;console.error("data-include failed for element: ",e,n),pub("error",r)}});await Promise.all(t)}var dataInclude=Object.freeze({__proto__:null,name:name$l,run:run$9});const html$1=hyperHTML$1;var showLink=e=>{if(!e.key){const t="Found a link without `key` attribute in the configuration. See dev console.";return pub("warn",t),void console.warn("warn",t,e)}return html$1`
    <dt class="${e.class?e.class:null}">${e.key}:</dt>
    ${e.data?e.data.map(showLinkData):showLinkData(e)}
  `};function showLinkData(e){return html$1`
    <dd class="${e.class?e.class:null}">
      ${e.href?html$1`
            <a href="${e.href}">${e.value||e.href}</a>
          `:""}
    </dd>
  `}var showLogo=e=>{const t=hyperHTML$1`
    <a href="${e.url||""}" class="logo"></a>
  `;e.alt||showInlineWarning(t,"Found spec logo without an `alt` attribute");const n=hyperHTML$1`
    <img
      id="${e.id}"
      alt="${e.alt}"
      width="${e.width}"
      height="${e.height}"
    />
  `;return n.src=e.src,t.append(n),t};const localizationStrings$1={en:{until:"Until"},es:{until:"Hasta"}},lang$a=lang in localizationStrings$1?lang:"en";var showPeople=(e=[])=>{const t=localizationStrings$1[lang$a];return e.map((function(e){const r=[e.name],o=[e.company],i=e.w3cid?parseInt(e.w3cid,10):null,a=hyperHTML$1`
      <dd class="p-author h-card vcard" data-editor-id="${i}"></dd>
    `,s=document.createDocumentFragment(),c=[];e.mailto?c.push(hyperHTML$1`
        <a class="ed_mailto u-email email p-name" href="${`mailto:${e.mailto}`}"
          >${r}</a
        >
      `):e.url?c.push(hyperHTML$1`
        <a class="u-url url p-name fn" href="${e.url}">${r}</a>
      `):c.push(hyperHTML$1`
          <span class="p-name fn">${r}</span>
        `);e.orcid&&c.push(hyperHTML$1`
          <a class="p-name orcid" href="${e.orcid}"
            ><svg
              width="16"
              height="16"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 256 256"
            >
              <style>
                .st1 {
                  fill: #fff;
                }
              </style>
              <path
                d="M256 128c0 70.7-57.3 128-128 128S0 198.7 0 128 57.3 0 128 0s128 57.3 128 128z"
                fill="#a6ce39"
              />
              <path
                class="st1"
                d="M86.3 186.2H70.9V79.1h15.4v107.1zM108.9 79.1h41.6c39.6 0 57 28.3 57 53.6 0 27.5-21.5 53.6-56.8 53.6h-41.8V79.1zm15.4 93.3h24.5c34.9 0 42.9-26.5 42.9-39.7C191.7 111.2 178 93 148 93h-23.7v79.4zM88.7 56.8c0 5.5-4.5 10.1-10.1 10.1s-10.1-4.6-10.1-10.1c0-5.6 4.5-10.1 10.1-10.1s10.1 4.6 10.1 10.1z"
              />
            </svg>
          </a>
        `);e.company&&(e.companyURL?c.push(hyperHTML$1`
            (<a class="p-org org h-org h-card" href="${e.companyURL}"
              >${o}</a
            >)
          `):c.push(hyperHTML$1`
            (${o})
          `));e.note&&c.push(document.createTextNode(` (${e.note})`));if(e.extras){const t=e.extras.filter(e=>e.name&&e.name.trim()).map(n);for(const e of t)c.push(document.createTextNode(", "),e)}if(e.retiredDate){const n=new Date(e.retiredDate),r="Invalid Date"!==n.toString(),o=document.createElement("time");o.textContent=r?humanDate(n):"Invalid Date",r||showInlineError(o,"The date is invalid. The expected format is YYYY-MM-DD.","Invalid date"),o.dateTime=toShortIsoDate(n),c.push(hyperHTML$1`
          - ${t.until.concat(" ")}${o}
        `)}return hyperHTML$1.bind(s)`${c}`,a.appendChild(s),a}));function n(e){const t=hyperHTML$1`
      <span class="${e.class||null}"></span>
    `;let n=t;return e.href&&(n=hyperHTML$1`
        <a href="${e.href}"></a>
      `,t.appendChild(n)),n.textContent=e.name,t}},cgbgHeadersTmpl=e=>hyperHTML$1`
    <div class="head">
      ${e.logos.map(showLogo)}
      <h1 class="title p-name" id="title">${e.title}</h1>
      ${e.subtitle?hyperHTML$1`
            <h2 id="subtitle">${e.subtitle}</h2>
          `:""}
      <h2>
        ${e.longStatus}
        <time class="dt-published" datetime="${e.dashDate}"
          >${e.publishHumanDate}</time
        >
      </h2>
      <dl>
        ${e.thisVersion?hyperHTML$1`
              <dt>${e.l10n.this_version}</dt>
              <dd>
                <a class="u-url" href="${e.thisVersion}"
                  >${e.thisVersion}</a
                >
              </dd>
            `:""}
        ${e.latestVersion?hyperHTML$1`
              <dt>${e.l10n.latest_published_version}</dt>
              <dd>
                <a href="${e.latestVersion}">${e.latestVersion}</a>
              </dd>
            `:""}
        ${e.edDraftURI?hyperHTML$1`
              <dt>${e.l10n.latest_editors_draft}</dt>
              <dd><a href="${e.edDraftURI}">${e.edDraftURI}</a></dd>
            `:""}
        ${e.testSuiteURI?hyperHTML$1`
              <dt>Test suite:</dt>
              <dd><a href="${e.testSuiteURI}">${e.testSuiteURI}</a></dd>
            `:""}
        ${e.implementationReportURI?hyperHTML$1`
              <dt>Implementation report:</dt>
              <dd>
                <a href="${e.implementationReportURI}"
                  >${e.implementationReportURI}</a
                >
              </dd>
            `:""}
        ${e.bugTrackerHTML?hyperHTML$1`
              <dt>${e.l10n.bug_tracker}</dt>
              <dd>${[e.bugTrackerHTML]}</dd>
            `:""}
        ${e.prevVersion?hyperHTML$1`
              <dt>Previous version:</dt>
              <dd><a href="${e.prevVersion}">${e.prevVersion}</a></dd>
            `:""}
        ${e.isCGFinal?"":hyperHTML$1`
              ${e.prevED?hyperHTML$1`
                    <dt>Previous editor's draft:</dt>
                    <dd><a href="${e.prevED}">${e.prevED}</a></dd>
                  `:""}
            `}
        <dt>${e.multipleEditors?e.l10n.editors:e.l10n.editor}</dt>
        ${showPeople(e.editors)}
        ${Array.isArray(e.formerEditors)&&e.formerEditors.length>0?hyperHTML$1`
              <dt>
                ${e.multipleFormerEditors?e.l10n.former_editors:e.l10n.former_editor}
              </dt>
              ${showPeople(e.formerEditors)}
            `:""}
        ${e.authors?hyperHTML$1`
              <dt>
                ${e.multipleAuthors?e.l10n.authors:e.l10n.author}
              </dt>
              ${showPeople(e.authors)}
            `:""}
        ${e.otherLinks?e.otherLinks.map(showLink):""}
      </dl>
      ${e.alternateFormats?hyperHTML$1`
            <p>
              ${e.multipleAlternates?"This document is also available in these non-normative formats:":"This document is also available in this non-normative format:"}
              ${[e.alternatesHTML]}
            </p>
          `:""}
      <p class="copyright">
        <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
          >Copyright</a
        >
        &copy;
        ${e.copyrightStart?`${e.copyrightStart}-`:""}${e.publishYear}
        ${e.additionalCopyrightHolders?hyperHTML$1`
              ${[e.additionalCopyrightHolders]} &amp;
            `:""}
        the Contributors to the ${e.title} Specification, published by the
        <a href="${e.wgURI}">${e.wg}</a> under the
        ${e.isCGFinal?hyperHTML$1`
              <a href="https://www.w3.org/community/about/agreements/fsa/"
                >W3C Community Final Specification Agreement (FSA)</a
              >. A human-readable
              <a href="https://www.w3.org/community/about/agreements/fsa-deed/"
                >summary</a
              >
              is available.
            `:hyperHTML$1`
              <a href="https://www.w3.org/community/about/agreements/cla/"
                >W3C Community Contributor License Agreement (CLA)</a
              >. A human-readable
              <a href="https://www.w3.org/community/about/agreements/cla-deed/"
                >summary</a
              >
              is available.
            `}
      </p>
      <hr title="Separator for header" />
    </div>
  `,cgbgSotdTmpl=(e,t)=>hyperHTML$1`
    <h2>${e.l10n.sotd}</h2>
    ${e.isPreview?hyperHTML$1`
          <details class="annoying-warning" open="">
            <summary
              >This is a
              preview${e.prUrl&&e.prNumber?hyperHTML$1`
                    of pull request
                    <a href="${e.prUrl}">#${e.prNumber}</a>
                  `:""}</summary
            >
            <p>
              Do not attempt to implement this version of the specification. Do
              not reference this version as authoritative in any way.
              ${e.edDraftURI?hyperHTML$1`
                    Instead, see
                    <a href="${e.edDraftURI}">${e.edDraftURI}</a> for the
                    Editor's draft.
                  `:""}
            </p>
          </details>
        `:""}
    <p>
      This specification was published by the
      <a href="${e.wgURI}">${e.wg}</a>. It is not a W3C Standard nor is it
      on the W3C Standards Track.
      ${e.isCGFinal?hyperHTML$1`
            Please note that under the
            <a href="https://www.w3.org/community/about/agreements/final/"
              >W3C Community Final Specification Agreement (FSA)</a
            >
            other conditions apply.
          `:hyperHTML$1`
            Please note that under the
            <a href="https://www.w3.org/community/about/agreements/cla/"
              >W3C Community Contributor License Agreement (CLA)</a
            >
            there is a limited opt-out and other conditions apply.
          `}
      Learn more about
      <a href="https://www.w3.org/community/"
        >W3C Community and Business Groups</a
      >.
    </p>
    ${e.sotdAfterWGinfo?"":t.additionalContent}
    ${e.wgPublicList?hyperHTML$1`
          <p>
            If you wish to make comments regarding this document, please send
            them to
            <a href="${t.mailToWGPublicListWithSubject}"
              >${e.wgPublicList}@w3.org</a
            >
            (<a href="${t.mailToWGPublicListSubscription}">subscribe</a>,
            <a
              href="${`https://lists.w3.org/Archives/Public/${e.wgPublicList}/`}"
              >archives</a
            >)${e.subjectPrefix?hyperHTML$1`
                  with <code>${e.subjectPrefix}</code> at the start of your
                  email's subject
                `:""}.
          </p>
        `:""}
    ${e.sotdAfterWGinfo?t.additionalContent:""}
    ${t.additionalSections}
  `;const ccLicense="https://creativecommons.org/licenses/by/4.0/",w3cLicense="https://www.w3.org/Consortium/Legal/copyright-documents",legalDisclaimer="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer",w3cTrademark="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks";function getSpecTitleElem(e){const t=document.querySelector("h1#title")||document.createElement("h1");if(t.parentElement?t.remove():(t.textContent=e.title,t.id="title"),e.isPreview&&e.prNumber){const{childNodes:n}=hyperHTML$1`
      Preview of PR <a href="${e.prUrl}">#${e.prNumber}</a>:
    `;t.prepend(...n)}return e.title=norm(t.textContent),t.classList.add("title","p-name"),null===document.querySelector("title")?document.title=e.title:document.title!==e.title&&pub("warn","The document's title and the `<title>` element differ."),t}function getSpecSubTitleElem(e){let t=document.querySelector("h2#subtitle");return t&&t.parentElement?(t.remove(),e.subtitle=t.textContent.trim()):e.subtitle&&((t=document.createElement("h2")).textContent=e.subtitle,t.id="subtitle"),t&&t.classList.add("subtitle"),t}var headersTmpl=e=>hyperHTML$1`
    <div class="head">
      ${e.logos.map(showLogo)} ${getSpecTitleElem(e)}
      ${getSpecSubTitleElem(e)}
      <h2>
        ${e.prependW3C?"W3C ":""}${e.textStatus}
        <time class="dt-published" datetime="${e.dashDate}"
          >${e.publishHumanDate}</time
        >
      </h2>
      <dl>
        ${e.isNoTrack?"":hyperHTML$1`
              <dt>${e.l10n.this_version}</dt>
              <dd>
                <a class="u-url" href="${e.thisVersion}"
                  >${e.thisVersion}</a
                >
              </dd>
              <dt>${e.l10n.latest_published_version}</dt>
              <dd>
                ${e.latestVersion?hyperHTML$1`
                      <a href="${e.latestVersion}">${e.latestVersion}</a>
                    `:"none"}
              </dd>
            `}
        ${e.edDraftURI?hyperHTML$1`
              <dt>${e.l10n.latest_editors_draft}</dt>
              <dd><a href="${e.edDraftURI}">${e.edDraftURI}</a></dd>
            `:""}
        ${e.testSuiteURI?hyperHTML$1`
              <dt>Test suite:</dt>
              <dd><a href="${e.testSuiteURI}">${e.testSuiteURI}</a></dd>
            `:""}
        ${e.implementationReportURI?hyperHTML$1`
              <dt>Implementation report:</dt>
              <dd>
                <a href="${e.implementationReportURI}"
                  >${e.implementationReportURI}</a
                >
              </dd>
            `:""}
        ${e.bugTrackerHTML?hyperHTML$1`
              <dt>${e.l10n.bug_tracker}</dt>
              <dd>${[e.bugTrackerHTML]}</dd>
            `:""}
        ${e.isED&&e.prevED?hyperHTML$1`
              <dt>Previous editor's draft:</dt>
              <dd><a href="${e.prevED}">${e.prevED}</a></dd>
            `:""}
        ${e.showPreviousVersion?hyperHTML$1`
              <dt>Previous version:</dt>
              <dd><a href="${e.prevVersion}">${e.prevVersion}</a></dd>
            `:""}
        ${e.prevRecURI?e.isRec?hyperHTML$1`
              <dt>Previous Recommendation:</dt>
              <dd><a href="${e.prevRecURI}">${e.prevRecURI}</a></dd>
            `:hyperHTML$1`
              <dt>Latest Recommendation:</dt>
              <dd><a href="${e.prevRecURI}">${e.prevRecURI}</a></dd>
            `:""}
        <dt>${e.multipleEditors?e.l10n.editors:e.l10n.editor}</dt>
        ${showPeople(e.editors)}
        ${Array.isArray(e.formerEditors)&&e.formerEditors.length>0?hyperHTML$1`
              <dt>
                ${e.multipleFormerEditors?e.l10n.former_editors:e.l10n.former_editor}
              </dt>
              ${showPeople(e.formerEditors)}
            `:""}
        ${e.authors?hyperHTML$1`
              <dt>
                ${e.multipleAuthors?e.l10n.authors:e.l10n.author}
              </dt>
              ${showPeople(e.authors)}
            `:""}
        ${e.otherLinks?e.otherLinks.map(showLink):""}
      </dl>
      ${e.errata?hyperHTML$1`
            <p>
              Please check the
              <a href="${e.errata}"><strong>errata</strong></a> for any
              errors or issues reported since publication.
            </p>
          `:""}
      ${e.isRec?hyperHTML$1`
            <p>
              See also
              <a
                href="${`http://www.w3.org/2003/03/Translations/byTechnology?technology=${e.shortName}`}"
              >
                <strong>translations</strong></a
              >.
            </p>
          `:""}
      ${e.alternateFormats?hyperHTML$1`
            <p>
              ${e.multipleAlternates?"This document is also available in these non-normative formats:":"This document is also available in this non-normative format:"}
              ${[e.alternatesHTML]}
            </p>
          `:""}
      ${renderCopyright(e)}
      <hr title="Separator for header" />
    </div>
  `;function linkLicense(e,t,n){return hyperHTML$1`
    <a rel="license" href="${t}" class="${n}">${e}</a>
  `}function renderCopyright(e){return e.isUnofficial?e.additionalCopyrightHolders?hyperHTML$1`
          <p class="copyright">${[e.additionalCopyrightHolders]}</p>
        `:e.overrideCopyright?[e.overrideCopyright]:hyperHTML$1`
          <p class="copyright">
            This document is licensed under a
            ${linkLicense("Creative Commons Attribution 4.0 License",ccLicense,"subfoot")}.
          </p>
        `:e.overrideCopyright?[e.overrideCopyright]:renderOfficialCopyright(e)}function renderOfficialCopyright(e){return hyperHTML$1`
    <p class="copyright">
      <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
        >Copyright</a
      >
      &copy;
      ${e.copyrightStart?`${e.copyrightStart}-`:""}${e.publishYear}
      ${e.additionalCopyrightHolders?hyperHTML$1`
            ${[e.additionalCopyrightHolders]} &amp;
          `:""}
      <a href="https://www.w3.org/"
        ><abbr title="World Wide Web Consortium">W3C</abbr></a
      ><sup>&reg;</sup> (<a href="https://www.csail.mit.edu/"
        ><abbr title="Massachusetts Institute of Technology">MIT</abbr></a
      >,
      <a href="https://www.ercim.eu/"
        ><abbr
          title="European Research Consortium for Informatics and Mathematics"
          >ERCIM</abbr
        ></a
      >, <a href="https://www.keio.ac.jp/">Keio</a>,
      <a href="https://ev.buaa.edu.cn/">Beihang</a>). ${noteIfDualLicense(e)}
      W3C <a href="${legalDisclaimer}">liability</a>,
      <a href="${w3cTrademark}">trademark</a> and ${linkDocumentUse(e)} rules
      apply.
    </p>
  `}function noteIfDualLicense(e){if(e.isCCBY)return hyperHTML$1`
    Some Rights Reserved: this document is dual-licensed,
    ${linkLicense("CC-BY",ccLicense)} and
    ${linkLicense("W3C Document License",w3cLicense)}.
  `}function linkDocumentUse(e){return e.isCCBY?linkLicense("document use","https://www.w3.org/Consortium/Legal/2013/copyright-documents-dual.html"):e.isW3CSoftAndDocLicense?linkLicense("permissive document license","https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document"):linkLicense("document use",w3cLicense)}var sotdTmpl=(e,t)=>hyperHTML$1`
    <h2>${e.l10n.sotd}</h2>
    ${e.isPreview?renderPreview(e):""}
    ${e.isUnofficial?renderIsUnofficial(t):e.isTagFinding?t.additionalContent:e.isNoTrack?renderIsNoTrack(e,t):hyperHTML$1`
          <p><em>${[e.l10n.status_at_publication]}</em></p>
          ${e.isSubmission?noteForSubmission(e,t):hyperHTML$1`
                ${e.sotdAfterWGinfo?"":t.additionalContent}
                ${e.overrideStatus?"":hyperHTML$1`
                      ${linkToWorkingGroup(e)} ${linkToCommunity(e,t)}
                      ${e.isCR||e.isPER||e.isPR?hyperHTML$1`
                            <p>
                              ${e.isCR?`\n                  W3C publishes a Candidate Recommendation to indicate that the document is believed to be\n                  stable and to encourage implementation by the developer community. This Candidate\n                  Recommendation is expected to advance to Proposed Recommendation no earlier than\n                  ${e.humanCREnd}.\n                `:""}
                              ${e.isPER?hyperHTML$1`
                                    W3C Advisory Committee Members are invited
                                    to send formal review comments on this
                                    Proposed Edited Recommendation to the W3C
                                    Team until ${e.humanPEREnd}. Members of
                                    the Advisory Committee will find the
                                    appropriate review form for this document by
                                    consulting their list of current
                                    <a
                                      href="https://www.w3.org/2002/09/wbs/myQuestionnaires"
                                      >WBS questionnaires</a
                                    >.
                                  `:""}
                              ${e.isPR?hyperHTML$1`
                                    The W3C Membership and other interested
                                    parties are invited to review the document
                                    and send comments to
                                    <a
                                      rel="discussion"
                                      href="${t.mailToWGPublicList}"
                                      >${e.wgPublicList}@w3.org</a
                                    >
                                    (<a
                                      href="${t.mailToWGPublicListSubscription}"
                                      >subscribe</a
                                    >,
                                    <a
                                      href="${`https://lists.w3.org/Archives/Public/${e.wgPublicList}/`}"
                                      >archives</a
                                    >) through ${e.humanPREnd}. Advisory
                                    Committee Representatives should consult
                                    their
                                    <a
                                      href="https://www.w3.org/2002/09/wbs/myQuestionnaires"
                                      >WBS questionnaires</a
                                    >. Note that substantive technical comments
                                    were expected during the Candidate
                                    Recommendation review period that ended
                                    ${e.humanCREnd}.
                                  `:""}
                            </p>
                          `:""}
                    `}
                ${e.implementationReportURI?renderImplementationReportURI(e):""}
                ${e.sotdAfterWGinfo?t.additionalContent:""}
                ${e.notRec?renderNotRec(e):""}
                ${e.isRec?renderIsRec():""} ${renderDeliverer(e)}
                <p>
                  This document is governed by the
                  <a
                    id="w3c_process_revision"
                    href="https://www.w3.org/2019/Process-20190301/"
                    >1 March 2019 W3C Process Document</a
                  >.
                </p>
                ${e.addPatentNote?hyperHTML$1`
                      <p>${[e.addPatentNote]}</p>
                    `:""}
              `}
        `}
    ${t.additionalSections}
  `;function renderPreview(e){const{prUrl:t,prNumber:n,edDraftURI:r}=e;return hyperHTML$1`
    <details class="annoying-warning" open="">
      <summary
        >This is a
        preview${t&&n?hyperHTML$1`
              of pull request
              <a href="${t}">#${n}</a>
            `:""}</summary
      >
      <p>
        Do not attempt to implement this version of the specification. Do not
        reference this version as authoritative in any way.
        ${r?hyperHTML$1`
              Instead, see
              <a href="${r}">${r}</a> for the Editor's draft.
            `:""}
      </p>
    </details>
  `}function renderIsUnofficial(e){const{additionalContent:t}=e;return hyperHTML$1`
    <p>
      This document is draft of a potential specification. It has no official
      standing of any kind and does not represent the support or consensus of
      any standards organization.
    </p>
    ${t}
  `}function renderIsNoTrack(e,t){const{isMO:n}=e,{additionalContent:r}=t;return hyperHTML$1`
    <p>
      This document is merely a W3C-internal
      ${n?"member-confidential":""} document. It has no official standing
      of any kind and does not represent consensus of the W3C Membership.
    </p>
    ${r}
  `}function renderImplementationReportURI(e){const{implementationReportURI:t}=e;return hyperHTML$1`
    <p>
      Please see the Working Group's
      <a href="${t}">implementation report</a>.
    </p>
  `}function renderNotRec(e){const{anOrA:t,textStatus:n}=e;return hyperHTML$1`
    <p>
      Publication as ${t} ${n} does not imply endorsement by the
      W3C Membership. This is a draft document and may be updated, replaced or
      obsoleted by other documents at any time. It is inappropriate to cite this
      document as other than work in progress.
    </p>
  `}function renderIsRec(){hyperHTML$1`
    <p>
      This document has been reviewed by W3C Members, by software developers,
      and by other W3C groups and interested parties, and is endorsed by the
      Director as a W3C Recommendation. It is a stable document and may be used
      as reference material or cited from another document. W3C's role in making
      the Recommendation is to draw attention to the specification and to
      promote its widespread deployment. This enhances the functionality and
      interoperability of the Web.
    </p>
  `}function renderDeliverer(e){const{isNote:t,wgId:n,isIGNote:r,multipleWGs:o,recNotExpected:i,wgPatentHTML:a,wgPatentURI:s,charterDisclosureURI:c}=e,l=r?"":hyperHTML$1`
        This document was produced by ${o?"groups":"a group"}
        operating under the
        <a href="https://www.w3.org/Consortium/Patent-Policy/"
          >W3C Patent Policy</a
        >.
      `;return hyperHTML$1`
    <p data-deliverer="${t?n:null}">
      ${l} ${i?"The group does not expect this document to become a W3C Recommendation.":""}
      ${t||r?"":hyperHTML$1`
            ${o?hyperHTML$1`
                  W3C maintains ${[a]}
                `:hyperHTML$1`
                  W3C maintains a
                  <a href="${[s]}" rel="disclosure"
                    >public list of any patent disclosures</a
                  >
                `}
            made in connection with the deliverables of
            ${o?"each group; these pages also include":"the group; that page also includes"}
            instructions for disclosing a patent. An individual who has actual
            knowledge of a patent which the individual believes contains
            <a href="https://www.w3.org/Consortium/Patent-Policy/#def-essential"
              >Essential Claim(s)</a
            >
            must disclose the information in accordance with
            <a
              href="https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure"
              >section 6 of the W3C Patent Policy</a
            >.
          `}
      ${r?hyperHTML$1`
            The disclosure obligations of the Participants of this group are
            described in the
            <a href="${c}">charter</a>.
          `:""}
    </p>
  `}function noteForSubmission(e,t){return hyperHTML$1`
    ${t.additionalContent}
    ${e.isMemberSubmission?noteForMemberSubmission(e):e.isTeamSubmission?noteForTeamSubmission(e,t):""}
  `}function noteForMemberSubmission(e){const t=`https://www.w3.org/Submission/${e.publishDate.getUTCFullYear()}/${e.submissionCommentNumber}/Comment/`;return hyperHTML$1`
    <p>
      By publishing this document, W3C acknowledges that the
      <a href="${e.thisVersion}">Submitting Members</a> have made a formal
      Submission request to W3C for discussion. Publication of this document by
      W3C indicates no endorsement of its content by W3C, nor that W3C has, is,
      or will be allocating any resources to the issues addressed by it. This
      document is not the product of a chartered W3C group, but is published as
      potential input to the
      <a href="https://www.w3.org/Consortium/Process">W3C Process</a>. A
      <a href="${t}">W3C Team Comment</a> has been published in
      conjunction with this Member Submission. Publication of acknowledged
      Member Submissions at the W3C site is one of the benefits of
      <a href="https://www.w3.org/Consortium/Prospectus/Joining">
        W3C Membership</a
      >. Please consult the requirements associated with Member Submissions of
      <a href="https://www.w3.org/Consortium/Patent-Policy/#sec-submissions"
        >section 3.3 of the W3C Patent Policy</a
      >. Please consult the complete
      <a href="https://www.w3.org/Submission"
        >list of acknowledged W3C Member Submissions</a
      >.
    </p>
  `}function noteForTeamSubmission(e,t){return hyperHTML$1`
    <p>
      If you wish to make comments regarding this document, please send them to
      <a href="${t.mailToWGPublicListWithSubject}"
        >${e.wgPublicList}@w3.org</a
      >
      (<a href="${t.mailToWGPublicListSubscription}">subscribe</a>,
      <a href="${`https://lists.w3.org/Archives/Public/${e.wgPublicList}/`}"
        >archives</a
      >)${e.subjectPrefix?hyperHTML$1`
            with <code>${e.subjectPrefix}</code> at the start of your email's
            subject
          `:""}.
    </p>
    <p>
      Please consult the complete
      <a href="https://www.w3.org/TeamSubmission/">list of Team Submissions</a>.
    </p>
  `}function linkToWorkingGroup(e){if(e.wg)return hyperHTML$1`
    <p>
      This document was published by ${[e.wgHTML]} as ${e.anOrA}
      ${e.longStatus}.
      ${e.notYetRec?"This document is intended to become a W3C Recommendation.":""}
    </p>
  `}function linkToCommunity(e,t){if(e.github||e.wgPublicList)return hyperHTML$1`
    <p>
      ${e.github?hyperHTML$1`
            <a href="${e.issueBase}">GitHub Issues</a> are preferred for
            discussion of this specification.
          `:""}
      ${e.wgPublicList?hyperHTML$1`
            ${e.github&&e.wgPublicList?"Alternatively, you can send comments to our mailing list.":"Comments regarding this document are welcome."}
            Please send them to
            <a href="${t.mailToWGPublicListWithSubject}"
              >${e.wgPublicList}@w3.org</a
            >
            (<a
              href="${`https://lists.w3.org/Archives/Public/${e.wgPublicList}/`}"
              >archives</a
            >)${e.subjectPrefix?hyperHTML$1`
                  with <code>${e.subjectPrefix}</code> at the start of your
                  email's subject
                `:""}.
          `:""}
    </p>
  `}const name$m="w3c/headers",W3CDate=new Intl.DateTimeFormat(["en-AU"],{timeZone:"UTC",year:"numeric",month:"long",day:"2-digit"}),status2maturity={LS:"WD",LD:"WD",FPWD:"WD",LC:"WD",FPLC:"WD","FPWD-NOTE":"NOTE","WD-NOTE":"WD","LC-NOTE":"LC","IG-NOTE":"NOTE","WG-NOTE":"NOTE"},status2rdf={NOTE:"w3p:NOTE",WD:"w3p:WD",LC:"w3p:LastCall",CR:"w3p:CR",PR:"w3p:PR",REC:"w3p:REC",PER:"w3p:PER",RSCND:"w3p:RSCND"},status2text={NOTE:"Working Group Note","WG-NOTE":"Working Group Note","CG-NOTE":"Co-ordination Group Note","IG-NOTE":"Interest Group Note","Member-SUBM":"Member Submission","Team-SUBM":"Team Submission",MO:"Member-Only Document",ED:"Editor's Draft",LS:"Living Standard",LD:"Living Document",FPWD:"First Public Working Draft",WD:"Working Draft","FPWD-NOTE":"Working Group Note","WD-NOTE":"Working Draft","LC-NOTE":"Working Draft",FPLC:"First Public and Last Call Working Draft",LC:"Last Call Working Draft",CR:"Candidate Recommendation",PR:"Proposed Recommendation",PER:"Proposed Edited Recommendation",REC:"Recommendation",RSCND:"Rescinded Recommendation",unofficial:"Unofficial Draft",base:"Document",finding:"TAG Finding","draft-finding":"Draft TAG Finding","CG-DRAFT":"Draft Community Group Report","CG-FINAL":"Final Community Group Report","BG-DRAFT":"Draft Business Group Report","BG-FINAL":"Final Business Group Report"},status2long={...status2text,"FPWD-NOTE":"First Public Working Group Note","LC-NOTE":"Last Call Working Draft"},maybeRecTrack=["FPWD","WD"],recTrackStatus=["FPLC","LC","CR","PR","PER","REC"],noTrackStatus=["base","BG-DRAFT","BG-FINAL","CG-DRAFT","CG-FINAL","draft-finding","finding","MO","unofficial"],cgbg=["CG-DRAFT","CG-FINAL","BG-DRAFT","BG-FINAL"],precededByAn=["ED","IG-NOTE"],licenses={cc0:{name:"Creative Commons 0 Public Domain Dedication",short:"CC0",url:"https://creativecommons.org/publicdomain/zero/1.0/"},"w3c-software":{name:"W3C Software Notice and License",short:"W3C Software",url:"https://www.w3.org/Consortium/Legal/2002/copyright-software-20021231"},"w3c-software-doc":{name:"W3C Software and Document Notice and License",short:"W3C Software and Document",url:"https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document"},"cc-by":{name:"Creative Commons Attribution 4.0 International Public License",short:"CC-BY",url:"https://creativecommons.org/licenses/by/4.0/legalcode"}},baseLogo=Object.freeze({id:"",alt:"",href:"",src:"",height:"48",width:"72"});function validateDateAndRecover(e,t,n=new Date){const r=e[t]?new Date(e[t]):new Date(n);if(Number.isFinite(r.valueOf())){const e=ISODate.format(r);return new Date(e)}return pub("error",`[\`${t}\`](https://github.com/w3c/respec/wiki/${t}) `+`is not a valid date: "${e[t]}". Expected format 'YYYY-MM-DD'.`),new Date(ISODate.format(new Date))}function run$a(e){if(e.isUnofficial="unofficial"===e.specStatus,e.isUnofficial&&!Array.isArray(e.logos)&&(e.logos=[]),e.isCCBY="cc-by"===e.license,e.isW3CSoftAndDocLicense="w3c-software-doc"===e.license,["cc-by"].includes(e.license)){let t=`You cannot use license "\`${e.license}\`" with W3C Specs. `;pub("error",t+='Please set `respecConfig.license: "w3c-software-doc"` instead.')}if(e.licenseInfo=licenses[e.license],e.isCGBG=cgbg.includes(e.specStatus),e.isCGFinal=e.isCGBG&&e.specStatus.endsWith("G-FINAL"),e.isBasic="base"===e.specStatus,e.isRegular=!e.isCGBG&&!e.isBasic,e.specStatus||pub("error","Missing required configuration: `specStatus`"),e.isRegular&&!e.shortName&&pub("error","Missing required configuration: `shortName`"),e.testSuiteURI){const t=new URL(e.testSuiteURI,location.href),{host:n,pathname:r}=t;if("github.com"===n&&r.startsWith("/w3c/web-platform-tests/")){pub("warn","Web Platform Tests have moved to a new Github Organization at https://github.com/web-platform-tests. Please update your [`testSuiteURI`](https://github.com/w3c/respec/wiki/testSuiteURI) to point to the "+`new tests repository (e.g., https://github.com/web-platform-tests/wpt/${e.shortName} ).`)}}if(e.title=document.title||"No Title",document.title&&e.isPreview&&e.prNumber&&(document.title=`Preview of PR #${e.prNumber}: ${document.title}`),e.subtitle||(e.subtitle=""),e.publishDate=validateDateAndRecover(e,"publishDate",document.lastModified),e.publishYear=e.publishDate.getUTCFullYear(),e.publishHumanDate=W3CDate.format(e.publishDate),e.isNoTrack=noTrackStatus.includes(e.specStatus),e.isRecTrack=!e.noRecTrack&&recTrackStatus.concat(maybeRecTrack).includes(e.specStatus),e.isMemberSubmission="Member-SUBM"===e.specStatus,e.isMemberSubmission){const t={alt:"W3C Member Submission",href:"https://www.w3.org/Submission/",src:"https://www.w3.org/Icons/member_subm-v.svg",width:"211"};e.logos.push({...baseLogo,...t})}if(e.isTeamSubmission="Team-SUBM"===e.specStatus,e.isTeamSubmission){const t={alt:"W3C Team Submission",href:"https://www.w3.org/TeamSubmission/",src:"https://www.w3.org/Icons/team_subm-v.svg",width:"211"};e.logos.push({...baseLogo,...t})}e.isSubmission=e.isMemberSubmission||e.isTeamSubmission,e.anOrA=precededByAn.includes(e.specStatus)?"an":"a",e.isTagFinding="finding"===e.specStatus||"draft-finding"===e.specStatus,e.edDraftURI||(e.edDraftURI="","ED"===e.specStatus&&pub("warn","Editor's Drafts should set edDraftURI.")),e.maturity=status2maturity[e.specStatus]?status2maturity[e.specStatus]:e.specStatus;let t="TR";if("Member-SUBM"===e.specStatus?t="Submission":"Team-SUBM"===e.specStatus&&(t="TeamSubmission"),e.isRegular&&(e.thisVersion=`https://www.w3.org/${t}/${e.publishDate.getUTCFullYear()}/${e.maturity}-${e.shortName}-${concatDate(e.publishDate)}/`),"ED"===e.specStatus&&(e.thisVersion=e.edDraftURI),e.isRegular&&(e.latestVersion=`https://www.w3.org/${t}/${e.shortName}/`),e.isTagFinding&&(e.latestVersion=`https://www.w3.org/2001/tag/doc/${e.shortName}`,e.thisVersion=`${e.latestVersion}-${ISODate.format(e.publishDate)}`),e.previousPublishDate){e.previousMaturity||e.isTagFinding||pub("error","`previousPublishDate` is set, but not `previousMaturity`."),e.previousPublishDate=validateDateAndRecover(e,"previousPublishDate");const t=status2maturity[e.previousMaturity]?status2maturity[e.previousMaturity]:e.previousMaturity;e.isTagFinding?e.prevVersion=`${e.latestVersion}-${ISODate.format(e.previousPublishDate)}`:e.isCGBG?e.prevVersion=e.prevVersion||"":e.isBasic?e.prevVersion="":e.prevVersion=`https://www.w3.org/TR/${e.previousPublishDate.getUTCFullYear()}/${t}-${e.shortName}-${concatDate(e.previousPublishDate)}/`}else e.specStatus.endsWith("NOTE")||"FPWD"===e.specStatus||"FPLC"===e.specStatus||"ED"===e.specStatus||e.noRecTrack||e.isNoTrack||e.isSubmission||pub("error","Document on track but no previous version: Add `previousMaturity`, and `previousPublishDate` to ReSpec's config."),e.prevVersion||(e.prevVersion="");e.prevRecShortname&&!e.prevRecURI&&(e.prevRecURI=`https://www.w3.org/TR/${e.prevRecShortname}`);const n=function(e){if(e.name||pub("error","All authors and editors must have a name."),e.orcid)try{e.orcid=normalizeOrcid(e.orcid)}catch(t){pub("error",`"${e.orcid}" is not an ORCID. ${t.message}`),delete e.orcid}};if(e.formerEditors||(e.formerEditors=[]),e.editors){e.editors.forEach(n);for(let t=0;t<e.editors.length;t++){const n=e.editors[t];"retiredDate"in n&&(e.formerEditors.push(n),e.editors.splice(t--,1))}}e.editors&&0!==e.editors.length||pub("error","At least one editor is required"),e.formerEditors.length&&e.formerEditors.forEach(n),e.authors&&e.authors.forEach(n),e.multipleEditors=e.editors&&e.editors.length>1,e.multipleFormerEditors=e.formerEditors.length>1,e.multipleAuthors=e.authors&&e.authors.length>1,(e.alternateFormats||[]).forEach(e=>{e.uri&&e.label||pub("error","All alternate formats must have a uri and a label.")}),e.multipleAlternates=e.alternateFormats&&e.alternateFormats.length>1,e.alternatesHTML=e.alternateFormats&&joinAnd(e.alternateFormats,e=>{let t=e.hasOwnProperty("lang")&&e.lang?` hreflang='${e.lang}'`:"";return t+=e.hasOwnProperty("type")&&e.type?` type='${e.type}'`:"",`<a rel='alternate' href='${e.uri}'${t}>${e.label}</a>`}),e.bugTracker&&(e.bugTracker.new&&e.bugTracker.open?e.bugTrackerHTML=`<a href='${e.bugTracker.new}'>${e.l10n.file_a_bug}</a> ${e.l10n.open_parens}<a href='${e.bugTracker.open}'>${e.l10n.open_bugs}</a>${e.l10n.close_parens}`:e.bugTracker.open?e.bugTrackerHTML=`<a href='${e.bugTracker.open}'>open bugs</a>`:e.bugTracker.new&&(e.bugTrackerHTML=`<a href='${e.bugTracker.new}'>file a bug</a>`)),e.copyrightStart&&e.copyrightStart==e.publishYear&&(e.copyrightStart=""),e.longStatus=status2long[e.specStatus],e.textStatus=status2text[e.specStatus],status2rdf[e.specStatus]&&(e.rdfStatus=status2rdf[e.specStatus]),e.showThisVersion=!e.isNoTrack||e.isTagFinding,e.showPreviousVersion="FPWD"!==e.specStatus&&"FPLC"!==e.specStatus&&"ED"!==e.specStatus&&!e.isNoTrack&&!e.isSubmission,e.specStatus.endsWith("NOTE")&&!e.prevVersion&&(e.showPreviousVersion=!1),e.isTagFinding&&(e.showPreviousVersion=!!e.previousPublishDate),e.notYetRec=e.isRecTrack&&"REC"!==e.specStatus,e.isRec=e.isRecTrack&&"REC"===e.specStatus,e.isRec&&!e.errata&&pub("error","Recommendations must have an errata link."),e.notRec="REC"!==e.specStatus,e.prependW3C=!e.isUnofficial,e.isED="ED"===e.specStatus,e.isCR="CR"===e.specStatus,e.isPR="PR"===e.specStatus,e.isPER="PER"===e.specStatus,e.isMO="MO"===e.specStatus,e.isNote=["FPWD-NOTE","WG-NOTE"].includes(e.specStatus),e.isIGNote="IG-NOTE"===e.specStatus,e.dashDate=ISODate.format(e.publishDate),e.publishISODate=e.publishDate.toISOString(),e.shortISODate=ISODate.format(e.publishDate),e.hasOwnProperty("wgPatentURI")&&!Array.isArray(e.wgPatentURI)?Object.defineProperty(e,"wgId",{get(){const e=this.wgPatentURI.split("/"),t=e.findIndex(e=>"pp-impl"===e)+1;return e[t]||""}}):e.wgId=e.wgId?e.wgId:"";const r=(e.isCGBG?cgbgHeadersTmpl:headersTmpl)(e);document.body.prepend(r),document.body.classList.add("h-entry");const o=document.getElementById("sotd")||document.createElement("section");!e.isCGBG&&e.isNoTrack&&!e.isTagFinding||o.id||pub("error","A custom SotD paragraph is required for your type of document."),o.id=o.id||"sotd",o.classList.add("introductory");const i=[e.wg,e.wgURI,e.wgPatentURI];if(i.some(e=>Array.isArray(e))&&!i.every(e=>Array.isArray(e))&&pub("error","If one of '`wg`', '`wgURI`', or '`wgPatentURI`' is an array, they all have to be."),e.isCGBG&&!e.wg&&pub("error","[`wg`](https://github.com/w3c/respec/wiki/wg) configuration option is required for this kind of document."),Array.isArray(e.wg)){e.multipleWGs=e.wg.length>1,e.wgHTML=joinAnd(e.wg,(t,n)=>`the <a href='${e.wgURI[n]}'>${t}</a>`);const t=[];for(let n=0,r=e.wg.length;n<r;n++)t.push(`a <a href='${e.wgPatentURI[n]}' rel='disclosure'>`+`public list of any patent disclosures  (${e.wg[n]})</a>`);e.wgPatentHTML=joinAnd(t)}else e.multipleWGs=!1,e.wg&&(e.wgHTML=`the <a href='${e.wgURI}'>${e.wg}</a>`);"PR"!==e.specStatus||e.crEnd||pub("error",'`specStatus` is "PR" but no `crEnd` is specified (needed to indicate end of previous CR).'),"CR"!==e.specStatus||e.crEnd||pub("error",'`specStatus` is "CR", but no `crEnd` is specified in Respec config.'),e.crEnd=validateDateAndRecover(e,"crEnd"),e.humanCREnd=W3CDate.format(e.crEnd),"PR"!==e.specStatus||e.prEnd||pub("error",'`specStatus` is "PR" but no `prEnd` is specified.'),e.prEnd=validateDateAndRecover(e,"prEnd"),e.humanPREnd=W3CDate.format(e.prEnd),"PER"!==e.specStatus||e.perEnd||pub("error","Status is PER but no perEnd is specified"),e.perEnd=validateDateAndRecover(e,"perEnd"),e.humanPEREnd=W3CDate.format(e.perEnd),e.recNotExpected=!(!e.noRecTrack&&!e.recNotExpected)||!e.isRecTrack&&"WD"==e.maturity&&"FPWD-NOTE"!==e.specStatus,e.noRecTrack&&recTrackStatus.includes(e.specStatus)&&pub("error",`Document configured as [\`noRecTrack\`](https://github.com/w3c/respec/wiki/noRecTrack), but its status ("${e.specStatus}") puts it on the W3C Rec Track. Status cannot be any of: ${recTrackStatus.join(", ")}. [More info](https://github.com/w3c/respec/wiki/noRecTrack).`),e.isIGNote&&!e.charterDisclosureURI&&pub("error","IG-NOTEs must link to charter's disclosure section using `charterDisclosureURI`."),hyperHTML$1.bind(o)`${populateSoTD(e,o)}`,!e.implementationReportURI&&e.isCR&&pub("error","CR documents must have an [`implementationReportURI`](https://github.com/w3c/respec/wiki/implementationReportURI) that describes [implementation experience](https://www.w3.org/2019/Process-20190301/#implementation-experience)."),!e.implementationReportURI&&e.isPR&&pub("warn","PR documents should include an  [`implementationReportURI`](https://github.com/w3c/respec/wiki/implementationReportURI) that describes [implementation experience](https://www.w3.org/2019/Process-20190301/#implementation-experience)."),pub("amend-user-config",{publishISODate:e.publishISODate,generatedSubtitle:`${e.longStatus} ${e.publishHumanDate}`})}function populateSoTD(e,t){const n={...collectSotdContent(t,e),get mailToWGPublicList(){return`mailto:${e.wgPublicList}@w3.org`},get mailToWGPublicListWithSubject(){const t=e.subjectPrefix?`?subject=${encodeURIComponent(e.subjectPrefix)}`:"";return this.mailToWGPublicList+t},get mailToWGPublicListSubscription(){return`mailto:${e.wgPublicList}-request@w3.org?subject=subscribe`}};return(e.isCGBG?cgbgSotdTmpl:sotdTmpl)(e,n)}function collectSotdContent(e,{isTagFinding:t=!1}){const n=e.cloneNode(!0),r=document.createDocumentFragment();for(;n.hasChildNodes()&&(!isElement(n.firstChild)||"section"!==n.firstChild.localName);)r.appendChild(n.firstChild);return t&&!r.hasChildNodes()&&pub("warn","ReSpec does not support automated SotD generation for TAG findings, please add the prerequisite content in the 'sotd' section"),{additionalContent:r,additionalSections:n.childNodes}}function normalizeOrcid(e){const t=new URL(e,"https://orcid.org/");if("https://orcid.org"!==t.origin)throw new Error(`The origin should be "https://orcid.org", not "${t.origin}".`);const n=t.pathname.slice(1).replace(/\/$/,"");if(!/^\d{4}-\d{4}-\d{4}-\d{3}(\d|X)$/.test(n))throw new Error(`ORCIDs have the format "1234-1234-1234-1234", not "${n}"`);const r=n[n.length-1],o=(12-n.split("").slice(0,-1).filter(e=>/\d/.test(e)).map(Number).reduce((e,t)=>2*(e+t),0)%11)%11;if(r!==(10===o?"X":String(o)))throw new Error(`"${n}" has an invalid checksum.`);return t.href}function isElement(e){return e.nodeType===Node.ELEMENT_NODE}var headers=Object.freeze({__proto__:null,name:name$m,run:run$a});const name$n="w3c/abstract";async function run$b(){const e=document.getElementById("abstract");if(!e)return void pub("error",'Document must have one element with `id="abstract"');e.classList.add("introductory");let t=document.querySelector("#abstract>h2");t||((t=document.createElement("h2")).textContent=l10n[lang].abstract,e.prepend(t))}var abstract=Object.freeze({__proto__:null,name:name$n,run:run$b});const name$o="core/data-transform";function run$c(){document.querySelectorAll("[data-transform]").forEach(e=>{e.innerHTML=runTransforms(e.innerHTML,e.dataset.transform),e.removeAttribute("data-transform")})}var dataTransform=Object.freeze({__proto__:null,name:name$o,run:run$c});const name$p="core/dfn-abbr";function run$d(){const e=document.querySelectorAll("[data-abbr]");for(const t of e){const{localName:e}=t;switch(e){case"dfn":processDfnElement(t);break;default:showInlineWarning(t,"[`data-abbr`](https://github.com/w3c/respec/wiki/data-abbr)"+` attribute not supported on \`${e}\` elements.`,"Error: unsupported.")}}}function processDfnElement(e){const t=generateAbbreviation(e),n=e.textContent.replace(/\s\s+/g," ").trim();e.insertAdjacentHTML("afterend",` (<abbr title="${n}">${t}</abbr>)`);const r=e.dataset.lt||"";e.dataset.lt=r.split("|").filter(e=>e.trim()).concat(t).join("|")}function generateAbbreviation(e){return e.dataset.abbr?e.dataset.abbr:e.textContent.match(/\b([a-z])/gi).join("").toUpperCase()}var dataAbbr=Object.freeze({__proto__:null,name:name$p,run:run$d});const idlPrimitiveRegex=/^[a-z]+(\s+[a-z]+)+$/,exceptionRegex=/\B"([^"]*)"\B/,methodRegex=/(\w+)\((.*)\)$/,slotRegex=/^\[\[(\w+)\]\]$/,attributeRegex=/^((?:\[\[)?(?:\w+)(?:\]\])?)$/,enumRegex=/^(\w+)\["([\w- ]*)"\]$/,methodSplitRegex=/\.?(\w+\(.*\)$)/;function parseInlineIDL(e){const[t,n]=e.split(methodSplitRegex),r=t.split(/[./]/).concat(n).filter(e=>e&&e.trim()).map(e=>e.trim()),o=!e.includes("/"),i=[];for(;r.length;){const t=r.pop();if(methodRegex.test(t)){const[,e,n]=t.match(methodRegex),r=n.split(/,\s*/).filter(e=>e);i.push({type:"method",identifier:e,args:r,renderParent:o})}else if(enumRegex.test(t)){const[,e,n]=t.match(enumRegex);i.push({type:"enum",identifier:e,enumValue:n,renderParent:o})}else if(exceptionRegex.test(t)){const[,e]=t.match(exceptionRegex);o?i.push({type:"exception",identifier:e}):i.push({type:"enum",enumValue:e,renderParent:o})}else if(slotRegex.test(t)){const[,e]=t.match(slotRegex);i.push({type:"internal-slot",identifier:e,renderParent:o})}else if(attributeRegex.test(t)&&r.length){const[,e]=t.match(attributeRegex);i.push({type:"attribute",identifier:e,renderParent:o})}else if(idlPrimitiveRegex.test(t))i.push({type:"idl-primitive",identifier:t,renderParent:o});else{if(!attributeRegex.test(t)||0!==r.length)throw new SyntaxError(`IDL micro-syntax parsing error in \`{{ ${e} }}\``);i.push({type:"base",identifier:t,renderParent:o})}}return i.forEach((e,t,n)=>{e.parent=n[t+1]||null}),i.reverse()}function renderBase(e){const{identifier:t,renderParent:n}=e;if(n)return hyperHTML$1`<a data-xref-type="_IDL_"><code>${t}</code></a>`}function renderInternalSlot(e){const{identifier:t,parent:n,renderParent:r}=e,{identifier:o}=n||{};return hyperHTML$1`${n&&r?".":""}<a
    data-xref-type="attribute"
    data-link-for=${o}
    data-xref-for=${o}
    data-lt="${`[[${t}]]`}"><code>[[${t}]]</code></a>`}function renderAttribute(e){const{parent:t,identifier:n,renderParent:r}=e,{identifier:o}=t||{};return hyperHTML$1`${r?".":""}<a
      data-xref-type="attribute|dict-member"
      data-link-for="${o}"
      data-xref-for="${o}"
    ><code>${n}</code></a>`}function renderMethod(e){const{args:t,identifier:n,type:r,parent:o,renderParent:i}=e,{identifier:a}=o||{},s=t.map(e=>`<var>${e}</var>`).join(", "),c=`${n}(${t.join(", ")})`;return hyperHTML$1`${o&&i?".":""}<a
    data-xref-type="${r}"
    data-link-for="${a}"
    data-xref-for="${a}"
    data-lt="${c}"
    ><code>${n}</code></a><code>(${[s]})</code>`}function renderEnum(e){const{identifier:t,enumValue:n,parent:r}=e,o=r?r.identifier:t;return hyperHTML$1`"<a
    data-xref-type="enum-value"
    data-link-for="${o}"
    data-xref-for="${o}"
    data-lt="${n?null:"the-empty-string"}"
    ><code>${n}</code></a>"`}function renderException(e){const{identifier:t}=e;return hyperHTML$1`"<a
    data-cite="WebIDL"
    data-xref-type="exception"
    ><code>${t}</code></a>"`}function renderIdlPrimitiveType(e){const{identifier:t}=e;return hyperHTML$1`<a
    data-cite="WebIDL"
    data-xref-type="interface"
    ><code>${t}</code></a>`}function idlStringToHtml(e){let t;try{t=parseInlineIDL(e)}catch(t){const n=hyperHTML$1`<span>{{ ${e} }}</span>`;return showInlineError(n,t.message,"Error: Invalid inline IDL string"),n}const n=hyperHTML$1(document.createDocumentFragment()),r=[];for(const e of t)switch(e.type){case"base":{const t=renderBase(e);t&&r.push(t);break}case"attribute":r.push(renderAttribute(e));break;case"internal-slot":r.push(renderInternalSlot(e));break;case"method":r.push(renderMethod(e));break;case"enum":r.push(renderEnum(e));break;case"exception":r.push(renderException(e));break;case"idl-primitive":r.push(renderIdlPrimitiveType(e));break;default:throw new Error("Unknown type.")}return n`${r}`}const ALLOWED_TYPES=new Set(["alias","reference"]),readyPromise=openIdb();async function openIdb(){return await idb.openDB("respec-biblio2",12,{upgrade(e){Array.from(e.objectStoreNames).map(t=>e.deleteObjectStore(t)),e.createObjectStore("alias",{keyPath:"id"}).createIndex("aliasOf","aliasOf",{unique:!1}),e.createObjectStore("reference",{keyPath:"id"})}})}const biblioDB={get ready(){return readyPromise},async find(e){return await this.isAlias(e)&&(e=await this.resolveAlias(e)),await this.get("reference",e)},async has(e,t){if(!ALLOWED_TYPES.has(e))throw new TypeError(`Invalid type: ${e}`);if(!t)throw new TypeError("id is required");const n=(await this.ready).transaction(e,"readonly").store,r=IDBKeyRange.only(t);return!!await n.openCursor(r)},async isAlias(e){return await this.has("alias",e)},async resolveAlias(e){if(!e)throw new TypeError("id is required");const t=(await this.ready).transaction("alias","readonly").store,n=IDBKeyRange.only(e),r=await t.openCursor(n);return r?r.value.aliasOf:r},async get(e,t){if(!ALLOWED_TYPES.has(e))throw new TypeError(`Invalid type: ${e}`);if(!t)throw new TypeError("id is required");const n=(await this.ready).transaction(e,"readonly").store,r=IDBKeyRange.only(t),o=await n.openCursor(r);return o?o.value:o},async addAll(e){if(!e)return;const t={alias:new Set,reference:new Set};Object.keys(e).filter(t=>{if("string"==typeof e[t]){let e=`Legacy SpecRef entries are not supported: \`[[${t}]]\`. `;return pub("error",e+="Please update it to the new format at [specref repo](https://github.com/tobie/specref/)"),!1}return!0}).map(t=>Object.assign({id:t},e[t])).forEach(e=>{e.aliasOf?t.alias.add(e):t.reference.add(e)});const n=[...ALLOWED_TYPES].map(e=>Array.from(t[e]).map(t=>this.add(e,t))).reduce(flatten,[]);await Promise.all(n)},async add(e,t){if(!ALLOWED_TYPES.has(e))throw new TypeError(`Invalid type: ${e}`);if("object"!=typeof t)throw new TypeError("details should be an object");if("alias"===e&&!t.hasOwnProperty("aliasOf"))throw new TypeError("Invalid alias object.");const n=await this.ready,r=await this.has(e,t.id),o=n.transaction(e,"readwrite").store;return r?await o.put(t):await o.add(t)},async close(){(await this.ready).close()},async clear(){const e=await this.ready,t=[...ALLOWED_TYPES],n=e.transaction(t,"readwrite"),r=t.map(e=>n.objectStore(e).clear());await Promise.all(r)}},biblio={},name$q="core/biblio",bibrefsURL=new URL("https://specref.herokuapp.com/bibrefs?refs=");function normalizeReferences(e){const t=new Set([...e.normativeReferences].map(e=>e.toLowerCase()));Array.from(e.informativeReferences).filter(e=>t.has(e.toLowerCase())).forEach(t=>e.informativeReferences.delete(t))}function getRefKeys(e){return{informativeReferences:Array.from(e.informativeReferences),normativeReferences:Array.from(e.normativeReferences)}}const link=createResourceHint({hint:"dns-prefetch",href:bibrefsURL.origin});let doneResolver$2;document.head.appendChild(link);const done$2=new Promise(e=>{doneResolver$2=e});async function updateFromNetwork(e,t={forceUpdate:!1}){const n=[...new Set(e)].filter(e=>e.trim());if(!n.length||!1===navigator.onLine)return null;let r;try{r=await fetch(bibrefsURL.href+n.join(","))}catch(e){return console.error(e),null}if(!t.forceUpdate&&!r.ok||200!==r.status)return null;const o=await r.json();try{await biblioDB.addAll(o)}catch(e){console.error(e)}return o}async function resolveRef(e){const t=await done$2;if(!t.hasOwnProperty(e))return null;const n=t[e];return n.aliasOf?await resolveRef(n.aliasOf):n}async function run$e(e){if(e.localBiblio||(e.localBiblio={}),e.biblio){let e="Overriding `.biblio` in config. Please use ";pub("warn",e+="`.localBiblio` for custom biblio entries.")}e.biblio=biblio;const t=Array.from(Object.keys(e.localBiblio)).filter(t=>e.localBiblio[t].hasOwnProperty("aliasOf")).map(t=>e.localBiblio[t].aliasOf).filter(t=>!e.localBiblio.hasOwnProperty(t));normalizeReferences(e);const n=getRefKeys(e),r=n.normativeReferences.concat(n.informativeReferences).filter(t=>!e.localBiblio.hasOwnProperty(t)).concat(t).reduce((e,t)=>(-1===e.indexOf(t)&&e.push(t),e),[]).sort(),o=[];try{await biblioDB.ready;const e=r.map(async e=>({id:e,data:await biblioDB.find(e)}));o.push(...await Promise.all(e))}catch(e){o.push(...r.map(e=>({id:e,data:null}))),console.warn(e)}const i={hasData:[],noData:[]};o.forEach(e=>{(e.data?i.hasData:i.noData).push(e)}),i.hasData.forEach(e=>{biblio[e.id]=e.data});const a=i.noData.map(e=>e.id);if(a.length){const e=await updateFromNetwork(a,{forceUpdate:!0});Object.assign(biblio,e)}Object.assign(biblio,e.localBiblio),doneResolver$2(e.biblio)}var biblio$1=Object.freeze({__proto__:null,biblio:biblio,name:name$q,updateFromNetwork:updateFromNetwork,resolveRef:resolveRef,run:run$e,wireReference:wireReference,stringifyReference:stringifyReference});const name$r="core/render-biblio",localizationStrings$2={en:{info_references:"Informative references",norm_references:"Normative references",references:"References"},nl:{info_references:"Informatieve referenties",norm_references:"Normatieve referenties",references:"Referenties"},es:{info_references:"Referencias informativas",norm_references:"Referencias normativas",references:"Referencias"}},lang$b=lang in localizationStrings$2?lang:"en",l10n$4=localizationStrings$2[lang$b],REF_STATUSES=new Map([["CR","W3C Candidate Recommendation"],["ED","W3C Editor's Draft"],["FPWD","W3C First Public Working Draft"],["LCWD","W3C Last Call Working Draft"],["NOTE","W3C Note"],["PER","W3C Proposed Edited Recommendation"],["PR","W3C Proposed Recommendation"],["REC","W3C Recommendation"],["WD","W3C Working Draft"],["WG-NOTE","W3C Working Group Note"]]),defaultsReference=Object.freeze({authors:[],date:"",href:"",publisher:"",status:"",title:"",etAl:!1}),endWithDot=endNormalizer(".");function run$f(e){const t=Array.from(e.informativeReferences),n=Array.from(e.normativeReferences);if(!t.length&&!n.length&&!e.refNote)return;const r=hyperHTML$1`
    <section id='references' class='appendix'>
      <h2>${l10n$4.references}</h2>
      ${e.refNote?hyperHTML$1`<p>${e.refNote}</p>`:""}
    </section>`;for(const e of["Normative","Informative"]){const o="Normative"===e?n:t;if(!o.length)continue;const i=hyperHTML$1`
      <section>
        <h3>${"Normative"===e?l10n$4.norm_references:l10n$4.info_references}</h3>
      </section>`;addId(i);const{goodRefs:a,badRefs:s}=o.map(toRefContent).reduce((e,t)=>{return e[t.refcontent?"goodRefs":"badRefs"].push(t),e},{goodRefs:[],badRefs:[]}),c=[...a.reduce((e,t)=>(e.has(t.refcontent.id)||e.set(t.refcontent.id,t),e),new Map).values()],l=c.concat(s).sort((e,t)=>e.ref.toLocaleLowerCase().localeCompare(t.ref.toLocaleLowerCase()));i.appendChild(hyperHTML$1`
      <dl class='bibliography'>
        ${l.map(showRef)}
      </dl>`),r.appendChild(i),decorateInlineReference(c,getAliases(a)),warnBadRefs(s)}document.body.appendChild(r)}function toRefContent(e){let t=biblio[e],n=e;const r=new Set([n]);for(;t&&t.aliasOf;)if(r.has(t.aliasOf)){t=null,pub("error",`Circular reference in biblio DB between [\`${e}\`] and [\`${n}\`].`)}else n=t.aliasOf,t=biblio[n],r.add(n);return t&&!t.id&&(t.id=e.toLowerCase()),{ref:e,refcontent:t}}function renderInlineCitation(e){const t=e.replace(/^(!|\?)/,""),n=`#bib-${t.toLowerCase()}`;return hyperHTML$1`[<cite><a class="bibref" href="${n}">${t}</a></cite>]`}function showRef({ref:e,refcontent:t}){const n=`bib-${e.toLowerCase()}`;return t?hyperHTML$1`
      <dt id="${n}">[${e}]</dt>
      <dd>${{html:stringifyReference(t)}}</dd>
    `:hyperHTML$1`
      <dt id="${n}">[${e}]</dt>
      <dd><em class="respec-offending-element">Reference not found.</em></dd>
    `}function endNormalizer(e){return t=>{const n=t.trim();return!n||n.endsWith(e)?n:n+e}}function wireReference(e,t="_blank"){if("object"!=typeof e)throw new TypeError("Only modern object references are allowed");const n=Object.assign({},defaultsReference,e),r=n.authors.join("; ")+(n.etAl?" et al":""),o=REF_STATUSES.get(n.status)||n.status;return hyperHTML$1.wire(n)`
    <cite>
      <a
        href="${n.href}"
        target="${t}"
        rel="noopener noreferrer">
        ${n.title.trim()}</a>.
    </cite>
    <span class="authors">
      ${endWithDot(r)}
    </span>
    <span class="publisher">
      ${endWithDot(n.publisher)}
    </span>
    <span class="pubDate">
      ${endWithDot(n.date)}
    </span>
    <span class="pubStatus">
      ${endWithDot(o)}
    </span>
  `}function stringifyReference(e){if("string"==typeof e)return e;let t=`<cite>${e.title}</cite>`;return t=e.href?`<a href="${e.href}">${t}</a>. `:`${t}. `,e.authors&&e.authors.length&&(t+=e.authors.join("; "),e.etAl&&(t+=" et al"),t+=". "),e.publisher&&(t=`${t} ${endWithDot(e.publisher)} `),e.date&&(t+=`${e.date}. `),e.status&&(t+=`${REF_STATUSES.get(e.status)||e.status}. `),e.href&&(t+=`URL: <a href="${e.href}">${e.href}</a>`),t}function getAliases(e){return e.reduce((e,t)=>{const n=t.refcontent.id;return(e.has(n)?e.get(n):e.set(n,[]).get(n)).push(t.ref),e},new Map)}function decorateInlineReference(e,t){e.map(({ref:e,refcontent:n})=>{const r=`#bib-${e.toLowerCase()}`,o=t.get(n.id).map(e=>`a.bibref[href="#bib-${e.toLowerCase()}"]`).join(",");return{refUrl:r,elems:document.querySelectorAll(o),refcontent:n}}).forEach(({refUrl:e,elems:t,refcontent:n})=>{t.forEach(t=>{t.setAttribute("href",e),t.setAttribute("title",n.title),t.dataset.linkType="biblio"})})}function warnBadRefs(e){e.forEach(({ref:e})=>{const t=[...document.querySelectorAll(`a.bibref[href="#bib-${e.toLowerCase()}"]`)].filter(({textContent:t})=>t.toLowerCase()===e.toLowerCase());pub("error",`Bad reference: [\`${e}\`] (appears ${t.length} times)`),console.warn("Bad references: ",t)})}var renderBiblio=Object.freeze({__proto__:null,name:name$r,run:run$f,renderInlineCitation:renderInlineCitation,wireReference:wireReference,stringifyReference:stringifyReference});const name$s="core/inlines",rfc2119Usage={},inlineCodeRegExp=/(?:`[^`]+`)(?!`)/,inlineIdlReference=/(?:{{[^}]+}})/,inlineVariable=/\B\|\w[\w\s]*(?:\s*:[\w\s&;<>]+)?\|\B/,inlineCitation=/(?:\[\[(?:!|\\|\?)?[A-Za-z0-9.-]+\]\])/,inlineExpansion=/(?:\[\[\[(?:!|\\|\?)?#?[\w-.]+\]\]\])/,inlineAnchor=/(?:\[=[^=]+=\])/,inlineElement=/(?:\[\^[A-Za-z]+(?:-[A-Za-z]+)?\^\])/;function inlineElementMatches(e){const t=e.slice(2,-2).trim();return hyperHTML$1`<code><a data-xref-type="element">${t}</a></code>`}function inlineRFC2119Matches(e){const t=norm(e),n=hyperHTML$1`<em class="rfc2119" title="${t}">${t}</em>`;return rfc2119Usage[t]=!0,n}function inlineRefMatches(e){const t=e.slice(3,-3).trim();if(!t.startsWith("#"))return hyperHTML$1`<a data-cite="${t}"></a>`;if(document.querySelector(t))return hyperHTML$1`<a href="${t}"></a>`;const n=hyperHTML$1`<span>${e}</span>`;return showInlineError(n,`Wasn't able to expand ${e} as it didn't match any id in the document.`,`Please make sure there is element with id ${t} in the document.`),n}function inlineXrefMatches(e){const t=e.slice(2,-2).trim();return t.startsWith("\\")?e.replace("\\",""):idlStringToHtml(norm(t))}function inlineBibrefMatches(e,t,n){const r=e.slice(2,-2);if(r.startsWith("\\"))return[`[[${r.slice(1)}]]`];const{type:o,illegal:i}=refTypeFromContext(r,t.parentNode),a=renderInlineCitation(r),s=r.replace(/^(!|\?)/,"");return i&&!n.normativeReferences.has(s)&&showInlineWarning(a.childNodes[1],"Normative references in informative sections are not allowed. "+`Remove '!' from the start of the reference \`[[${r}]]\``),"informative"!==o||i?n.normativeReferences.add(s):n.informativeReferences.add(s),a.childNodes}function inlineAbbrMatches(e,t,n){return"ABBR"===t.parentElement.tagName?e:hyperHTML$1`<abbr title="${n.get(e)}">${e}</abbr>`}function inlineVariableMatches(e){const t=e.slice(1,-1).split(":",2),[n,r]=t.map(e=>e.trim());return hyperHTML$1`<var data-type="${r}">${n}</var>`}function inlineAnchorMatches(e){const t=(e=e.slice(2,-2)).split("/",2).map(e=>e.trim()),[n,r]=2===t.length?t:[null,t[0]],[o,i]=r.includes("|")?r.split("|",2).map(e=>e.trim()):[null,r],a=processInlineContent(i),s=n?norm(n):null;return hyperHTML$1`<a data-link-for="${s}" data-xref-for="${s}" data-lt="${o}">${a}</a>`}function inlineCodeMatches(e){const t=e.slice(1,-1);return hyperHTML$1`<code>${t}</code>`}function processInlineContent(e){return inlineCodeRegExp.test(e)?e.split(/(`[^`]+`)(?!`)/).map(e=>e.startsWith("`")?inlineCodeMatches(e):processInlineContent(e)):document.createTextNode(e)}function run$g(e){const t=new Map;document.normalize(),document.querySelector("section#conformance")||document.body.classList.add("informative"),e.normativeReferences=new InsensitiveStringSet,e.informativeReferences=new InsensitiveStringSet,e.respecRFC2119||(e.respecRFC2119=rfc2119Usage);const n=document.querySelectorAll("abbr[title]");for(const e of n)t.set(e.textContent,e.title);const r=[...t.keys()],o=r.length?`(?:\\b${r.join("\\b)|(?:\\b")}\\b)`:null,i=getTextNodes(document.body,["#respec-ui",".head","pre"],{wsNodes:!1}),a=new RegExp(["\\bMUST(?:\\s+NOT)?\\b","\\bSHOULD(?:\\s+NOT)?\\b","\\bSHALL(?:\\s+NOT)?\\b","\\bMAY\\b","\\b(?:NOT\\s+)?REQUIRED\\b","\\b(?:NOT\\s+)?RECOMMENDED\\b","\\bOPTIONAL\\b"].join("|")),s=new RegExp(`(${[a.source,inlineIdlReference.source,inlineVariable.source,inlineCitation.source,inlineExpansion.source,inlineAnchor.source,inlineCodeRegExp.source,inlineElement.source,...o?[o]:[]].join("|")})`);for(const n of i){const r=n.data.split(s);if(1===r.length)continue;const o=document.createDocumentFragment();let i=!0;for(const s of r)if(i=!i)if(s.startsWith("{{")){const e=inlineXrefMatches(s);o.append(e)}else if(s.startsWith("[[[")){const e=inlineRefMatches(s);o.append(e)}else if(s.startsWith("[[")){const t=inlineBibrefMatches(s,n,e);o.append(...t)}else if(s.startsWith("|")){const e=inlineVariableMatches(s);o.append(e)}else if(s.startsWith("[=")){const e=inlineAnchorMatches(s);o.append(e)}else if(s.startsWith("`")){const e=inlineCodeMatches(s);o.append(e)}else if(s.startsWith("[^")){const e=inlineElementMatches(s);o.append(e)}else if(t.has(s)){const e=inlineAbbrMatches(s,n,t);o.append(e)}else{if(!a.test(s))throw new Error(`Found token '${s}' but it does not correspond to anything`);{const e=inlineRFC2119Matches(s);o.append(e)}}else o.append(s);n.replaceWith(o)}}var inlines=Object.freeze({__proto__:null,name:name$s,rfc2119Usage:rfc2119Usage,run:run$g});const name$t="w3c/conformance";function processConformance(e,t){const n=[...Object.keys(rfc2119Usage)];n.length&&(t.normativeReferences.add("RFC2119"),t.normativeReferences.add("RFC8174"));const r=joinAnd(n.sort(),e=>`<em class="rfc2119">${e}</em>`),o=n.length>1,i=hyperHTML$1`
    <h2>Conformance</h2>
    <p>
      As well as sections marked as non-normative, all authoring guidelines,
      diagrams, examples, and notes in this specification are non-normative.
      Everything else in this specification is normative.
    </p>
    ${n.length?hyperHTML$1`
          <p>
            The key word${o?"s":""} ${[r]} in this document
            ${o?"are":"is"} to be interpreted as described in
            <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>
            ${renderInlineCitation("RFC2119")}
            ${renderInlineCitation("RFC8174")} when, and only when, they appear
            in all capitals, as shown here.
          </p>
        `:null}
  `;e.prepend(...i.childNodes)}function run$h(e){const t=document.querySelector("section#conformance");t&&processConformance(t,e),pub("end",name$t)}var conformance=Object.freeze({__proto__:null,name:name$t,run:run$h});const name$u="core/dfn";function run$i(){document.querySelectorAll("dfn").forEach(e=>{const t=getDfnTitles(e);registerDefinition(e,t),e.dataset.dfnType||(e.dataset.dfnType="dfn"),1===t.length&&t[0]===norm(e.textContent)||(e.dataset.lt=t.join("|"))})}var dfn=Object.freeze({__proto__:null,name:name$u,run:run$i});const name$v="core/pluralize";function run$j(e){if(!e.pluralize)return;const t=getPluralizer();document.querySelectorAll("dfn:not([data-lt-no-plural]):not([data-lt-noDefault])").forEach(e=>{const n=[e.textContent];e.dataset.lt&&n.push(...e.dataset.lt.split("|")),e.dataset.localLt&&n.push(...e.dataset.localLt.split("|"));const r=new Set(n.map(t).filter(e=>e));if(r.size){const t=e.dataset.plurals?e.dataset.plurals.split("|"):[],n=[...new Set([...t,...r])];e.dataset.plurals=n.join("|"),registerDefinition(e,n)}})}function getPluralizer(){const e=new Set;document.querySelectorAll("a:not([href])").forEach(t=>{const n=norm(t.textContent).toLowerCase();e.add(n),t.dataset.lt&&e.add(t.dataset.lt)});const t=new Set;return document.querySelectorAll("dfn:not([data-lt-noDefault])").forEach(e=>{const n=norm(e.textContent).toLowerCase();t.add(n),e.dataset.lt&&e.dataset.lt.split("|").forEach(e=>t.add(e)),e.dataset.localLt&&e.dataset.localLt.split("|").forEach(e=>t.add(e))}),function(n){const r=norm(n).toLowerCase(),o=pluralize$1.isSingular(r)?pluralize$1.plural(r):pluralize$1.singular(r);return e.has(o)&&!t.has(o)?o:""}}var pluralize$2=Object.freeze({__proto__:null,name:name$v,run:run$j});const name$w="core/examples",localizationStrings$3={en:{example:"Example"},nl:{example:"Voorbeeld"},es:{example:"Ejemplo"}},lang$c=lang in localizationStrings$3?lang:"en",l10n$5=localizationStrings$3[lang$c],cssPromise=loadStyle$2();async function loadStyle$2(){try{return(await Promise.resolve().then((function(){return examples$2}))).default}catch{return fetchAsset("examples.css")}}function makeTitle(e,t,n){n.title=e.title,n.title&&e.removeAttribute("title");const r=t>0?` ${t}`:"",o=n.title?hyperHTML$1`
        <span class="example-title">: ${n.title}</span>
      `:"";return hyperHTML$1`
    <div class="marker">
      <a class="self-link">${l10n$5.example}<bdi>${r}</bdi></a
      >${o}
    </div>
  `}async function run$k(){const e=document.querySelectorAll("pre.example, pre.illegal-example, aside.example");if(!e.length)return;const t=await cssPromise;document.head.insertBefore(hyperHTML$1`
      <style>
        ${t}
      </style>
    `,document.querySelector("link"));let n=0;e.forEach(e=>{const t=e.classList.contains("illegal-example"),r={number:n,illegal:t},{title:o}=e;if("aside"===e.localName){const t=makeTitle(e,++n,r);e.prepend(t),o?addId(e,`example-${n}`,o):addId(e,"example",String(n));const{id:i}=e;t.querySelector("a.self-link").href=`#${i}`,pub("example",r)}else{const t=!!e.closest("aside");t||++n,r.content=e.innerHTML,e.classList.remove("example","illegal-example");const i=e.id?e.id:null;i&&e.removeAttribute("id");const a=makeTitle(e,t?0:n,r),s=hyperHTML$1`
        <div class="example" id="${i}">
          ${a} ${e.cloneNode(!0)}
        </div>
      `;o&&addId(s,`example-${n}`,o),addId(s,"example",String(n)),s.querySelector("a.self-link").href=`#${s.id}`,e.replaceWith(s),t||pub("example",r)}})}var examples=Object.freeze({__proto__:null,name:name$w,run:run$k});const name$x="core/issues-notes",localizationStrings$4={en:{issue_summary:"Issue Summary",no_issues_in_spec:"There are no issues listed in this specification."},nl:{issue_summary:"Lijst met issues",no_issues_in_spec:"Er zijn geen problemen vermeld in deze specificatie."},es:{issue_summary:"Resumen de la cuestión",no_issues_in_spec:"No hay problemas enumerados en esta especificación."}},cssPromise$1=loadStyle$3();async function loadStyle$3(){try{return(await Promise.resolve().then((function(){return issuesNotes$2}))).default}catch{return fetchAsset("issues-notes.css")}}const lang$d=lang in localizationStrings$4?lang:"en",l10n$6=localizationStrings$4[lang$d];function handleIssues(e,t,n){const r=!!document.querySelector(".issue[data-number]");let o=0;const i=document.createElement("ul");e.forEach(e=>{const{type:a,displayType:s,isFeatureAtRisk:c}=getIssueType(e,n),l="issue"===a,u="span"===e.localName,{number:d}=e.dataset,p={type:a,inline:u,title:e.title};if(!l||u||r?d&&(p.number=Number(d)):(o++,p.number=o),!u){const u=hyperHTML$1`<div class="${c?`${a} atrisk`:a}" role="${"note"===a?"note":null}"></div>`,h=document.createElement("span"),f=hyperHTML$1`
        <div role='heading' class='${`${a}-title marker`}'>${h}</div>`;addId(f,"h",a);let m,g=s;if(e.id?(u.id=e.id,e.removeAttribute("id")):addId(u,"issue-container",p.number?`number-${p.number}`:""),l){if(r){if(d){g+=` ${d}`;const e=linkToIssueTracker(d,n,{isFeatureAtRisk:c});e&&(h.before(e),e.append(h)),h.classList.add("issue-number"),(m=t.get(d))||pub("warning",`Failed to fetch issue number ${d}`),m&&!p.title&&(p.title=m.title)}}else g+=` ${o}`;void 0!==p.number&&i.append(createIssueSummaryEntry(n.l10n.issue,p,u.id))}if(h.textContent=g,p.title){e.removeAttribute("title");const{repoURL:t=""}=n.github||{},r=m?m.labels:[];m&&"CLOSED"===m.state&&u.classList.add("closed"),f.append(createLabelsGroup(r,p.title,t))}let b=e;e.replaceWith(u),b.classList.remove(a),b.removeAttribute("data-number"),m&&!b.innerHTML.trim()&&(b=document.createRange().createContextualFragment(m.bodyHTML)),u.append(f,b);const y=parents(f,"section").length+2;f.setAttribute("aria-level",y)}pub(p.type,p)}),makeIssueSectionSummary(i)}function getIssueType(e,t){const n=e.classList.contains("issue"),r=e.classList.contains("warning"),o=e.classList.contains("ednote"),i=e.classList.contains("atrisk");return{type:n?"issue":r?"warning":o?"ednote":"note",displayType:n?i?t.l10n.feature_at_risk:t.l10n.issue:r?t.l10n.warning:o?t.l10n.editors_note:t.l10n.note,isFeatureAtRisk:i}}function linkToIssueTracker(e,t,{isFeatureAtRisk:n=!1}={}){return!n&&t.issueBase?hyperHTML$1`<a href='${t.issueBase+e}'/>`:n&&t.atRiskBase?hyperHTML$1`<a href='${t.atRiskBase+e}'/>`:void 0}function createIssueSummaryEntry(e,t,n){const r=`${e} ${t.number}`,o=t.title?hyperHTML$1`<span style="text-transform: none">: ${t.title}</span>`:"";return hyperHTML$1`
    <li><a href="${`#${n}`}">${r}</a>${o}</li>
  `}function makeIssueSectionSummary(e){const t=document.getElementById("issue-summary");if(!t)return;const n=t.querySelector("h2, h3, h4, h5, h6");e.hasChildNodes()?t.append(e):t.append(hyperHTML$1`<p>${l10n$6.no_issues_in_spec}</p>`),(!n||n&&n!==t.firstElementChild)&&t.insertAdjacentHTML("afterbegin",`<h2>${l10n$6.issue_summary}</h2>`)}function isLight(e){return.2126*(e>>16&255)+.7152*(e>>8&255)+.0722*(e>>0&255)>140}function createLabelsGroup(e,t,n){const r=e.map(e=>createLabel(e,n)),o=e.map(e=>e.name),i=joinAnd(o);if(r.length&&r.unshift(document.createTextNode(" ")),o.length){return hyperHTML$1`<span
      class="issue-label"
      aria-label="${`This issue is labelled as ${i}.`}">: ${t}${r}</span>`}return hyperHTML$1`<span class="issue-label">: ${t}${r}</span>`}function createLabel(e,t){const{color:n,name:r}=e,o=new URL("./issues/",t);o.searchParams.set("q",`is:issue is:open label:"${e.name}"`);const i=parseInt(n,16),a=isNaN(i)||isLight(i)?"light":"dark";return hyperHTML$1`<a
    class="${`respec-gh-label respec-label-${a}`}"
    style="${`background-color: #${n}`}"
    href="${o.href}">${r}</a>`}async function fetchAndStoreGithubIssues(e){if(!e||!e.apiBase)return new Map;const t=[...document.querySelectorAll(".issue[data-number]")].map(e=>Number.parseInt(e.dataset.number,10)).filter(e=>e);if(!t.length)return new Map;const n=new URL("issues",`${e.apiBase}/${e.fullName}/`);n.searchParams.set("issues",t.join(","));const r=await fetch(n.href);if(!r.ok){return pub("error",`Error fetching issues from GitHub. (HTTP Status ${r.status}).`),new Map}const o=await r.json();return new Map(Object.entries(o))}async function run$l(e){const t=document.querySelectorAll(".issue, .note, .warning, .ednote");if(!t.length)return;const n=await fetchAndStoreGithubIssues(e.github),r=await cssPromise$1,{head:o}=document;o.insertBefore(hyperHTML$1`<style>${[r]}</style>`,o.querySelector("link")),handleIssues(t,n,e),document.querySelectorAll(".ednote").forEach(e=>{e.classList.remove("ednote"),e.classList.add("note")})}var issuesNotes=Object.freeze({__proto__:null,name:name$x,run:run$l});const name$y="core/requirements";function run$m(){document.querySelectorAll(".req").forEach((e,t)=>{const n=`#${e.getAttribute("id")}`,r=hyperHTML$1`<a href="${n}">Req. ${t+1}</a>`;e.prepend(r,": ")}),document.querySelectorAll("a.reqRef[href]").forEach(e=>{const t=e.getAttribute("href").substring(1),n=document.getElementById(t);let r;if(n)r=n.querySelector("a:first-child").textContent;else{r=`Req. not found '${t}'`;const n=`Requirement not found in element \`a.reqRef\`: ${t}`;pub("error",n),console.warn(n,e)}e.textContent=r})}var requirements=Object.freeze({__proto__:null,name:name$y,run:run$m});const name$z="core/best-practices",localizationStrings$5={en:{best_practice:"Best Practice "}},lang$e=lang in localizationStrings$5?lang:"en";function run$n(){const e=document.querySelectorAll(".practicelab"),t=localizationStrings$5[lang$e],n=document.getElementById("bp-summary"),r=n?document.createElement("ul"):null;[...e].forEach((e,n)=>{const o=addId(e,"bp"),i=hyperHTML$1`
      <a class="marker self-link" href="${`#${o}`}"><bdi lang="${lang$e}">${t.best_practice}${n+1}</bdi></a>`;if(r){const t=hyperHTML$1`
        <li>
          ${i}: ${makeSafeCopy(e)}
        </li>
      `;r.appendChild(t)}const a=e.closest("div");if(!a)return void e.classList.add("advisement");a.classList.add("advisement");const s=hyperHTML$1`${i.cloneNode(!0)}: ${e}`;a.prepend(...s.childNodes)}),e.length?n&&(n.appendChild(hyperHTML$1`<h2>Best Practices Summary</h2>`),n.appendChild(r)):n&&(pub("warn","Using best practices summary (#bp-summary) but no best practices found."),n.remove())}var bestPractices=Object.freeze({__proto__:null,name:name$z,run:run$n});const name$A="core/figures",localizationStrings$6={en:{list_of_figures:"List of Figures",fig:"Figure "},ja:{fig:"図",list_of_figures:"図のリスト"},ko:{fig:"그림 ",list_of_figures:"그림 목록"},nl:{fig:"Figuur ",list_of_figures:"Lijst met figuren"},es:{fig:"Figura ",list_of_figures:"Lista de Figuras"},zh:{fig:"圖 ",list_of_figures:"List of Figures"}},lang$f=lang in localizationStrings$6?lang:"en",l10n$7=localizationStrings$6[lang$f];function run$o(){normalizeImages(document);const e=collectFigures(),t=document.getElementById("tof");e.length&&t&&(decorateTableOfFigures(t),t.append(hyperHTML$1`<h2>${l10n$7.list_of_figures}</h2>`,hyperHTML$1`<ul class='tof'>${e}</ul>`))}function collectFigures(){const e=[];return document.querySelectorAll("figure").forEach((t,n)=>{const r=t.querySelector("figcaption");r?(decorateFigure(t,r,n),e.push(getTableOfFiguresListItem(t.id,r))):showInlineWarning(t,"Found a `<figure>` without a `<figcaption>`")}),e}function decorateFigure(e,t,n){addId(e,"fig",t.textContent),wrapInner(t,hyperHTML$1`<span class='fig-title'>`),t.prepend(l10n$7.fig,hyperHTML$1`<bdi class='figno'>${n+1}</bdi>`," ")}function getTableOfFiguresListItem(e,t){const n=t.cloneNode(!0);return n.querySelectorAll("a").forEach(e=>{renameElement(e,"span").removeAttribute("href")}),hyperHTML$1`<li class='tofline'>
    <a class='tocxref' href='${`#${e}`}'>${n.childNodes}</a>
  </li>`}function normalizeImages(e){e.querySelectorAll(":not(picture)>img:not([width]):not([height]):not([srcset])").forEach(e=>{0!==e.naturalHeight&&0!==e.naturalWidth&&(e.height=e.naturalHeight,e.width=e.naturalWidth)})}function decorateTableOfFigures(e){if(e.classList.contains("appendix")||e.classList.contains("introductory")||e.closest("section"))return;const t=getPreviousSections(e);t.every(e=>e.classList.contains("introductory"))?e.classList.add("introductory"):t.some(e=>e.classList.contains("appendix"))&&e.classList.add("appendix")}function getPreviousSections(e){const t=[];for(const n of iteratePreviousElements(e))"section"===n.localName&&t.push(n);return t}function*iteratePreviousElements(e){let t=e;for(;t.previousElementSibling;)t=t.previousElementSibling,yield t}var figures=Object.freeze({__proto__:null,name:name$A,run:run$o});const topLevelEntities=new Set(["callback interface","callback","dictionary","enum","interface mixin","interface","typedef"]);function findDfn(e,t,{parent:n=""}={}){switch(e.type){case"constructor":case"operation":return findOperationDfn(e,n,t);default:return findNormalDfn(e,n,t)}}function getAlternativeNames(e,t,n){const r=`${t}.${n}`;switch(e){case"constructor":case"operation":return[`${r}()`,r,`${n}()`,n];case"attribute":return[r,n]}}function findOperationDfn(e,t,n){if(n.includes("!overload"))return findNormalDfn(e,t,n);return findNormalDfn(e,t,`${n}()`,n)}function addAlternativeNames(e,t){const n=e.dataset.lt?e.dataset.lt.split("|"):[];n.push(...t),e.dataset.lt=[...new Set(n)].join("|"),registerDefinition(e,t)}function findNormalDfn(e,t,...n){for(const r of n){let n="enum-value"===e.type&&""===r?"the-empty-string":r.toLowerCase(),o=definitionMap[n],i=getDfns(o,t,r,e.type);if(0===i.length&&""!==t?void 0!==(o=definitionMap[(n=`${t}.${n}`).toLowerCase()])&&1===o.length&&(i=o,delete definitionMap[n],registerDefinition(i[0],[n])):n=r,i.length>1){showInlineError(i,`WebIDL identifier \`${r}\` ${t?`for \`${t}\``:""} is defined multiple times`,"Duplicate definition.")}if(i.length)return r!==n&&(i[0].dataset.lt=n),i[0]}}function decorateDfn(e,t,n,r){if(!e.id){const t=n.toLowerCase(),o=t?`${t}-`:"";let i=r.toLowerCase().replace(/[()]/g,"").replace(/\s/g,"-");""===i&&(i="the-empty-string"),e.id=`dom-${o}${i}`}switch(e.dataset.idl=t.type,e.dataset.title=e.textContent,e.dataset.dfnFor=n,t.type){case"operation":case"attribute":case"field":e.dataset.type=getDataType(t)}switch(e.querySelector("code")||e.closest("code")||!e.children||wrapInner(e,e.ownerDocument.createElement("code")),t.type){case"attribute":case"constructor":case"operation":addAlternativeNames(e,getAlternativeNames(t.type,n,r))}return e}function getDfns(e,t,n,r){if(!e)return[];const o=e.filter(e=>{const n=e.closest("[data-dfn-for]");return n&&n.dataset.dfnFor===t});if(0===o.length&&""===t&&1===e.length)return e[0].textContent===n?e:[];if(topLevelEntities.has(r)&&e.length){const t=e.find(e=>e.textContent.trim()===n);if(t)return[t]}return o}function getDataType(e){const{idlType:t,generic:n,union:r}=e;return"string"==typeof t?t:n||(r?t.map(getDataType).join("|"):getDataType(t))}const name$B="core/webidl",operationNames={},idlPartials={},templates$1={wrap:e=>e.reduce(flatten,[]).filter(e=>""!==e).map(e=>"string"==typeof e?new Text(e):e),trivia:e=>e.trim()?hyperHTML$1`<span class='idlSectionComment'>${e}</span>`:e,generic:e=>/^[A-Z]/.test(e)?hyperHTML$1`<a data-xref-type="interface" data-cite="WebIDL">${e}</a>`:hyperHTML$1`<a data-xref-type="dfn" data-cite="WebIDL">${e}</a>`,reference(e,t,n){if("extended-attribute"===n.type&&"Exposed"!==n.name)return e;let r,o="_IDL_",i=null;switch(t){case"Window":o="interface",i="HTML";break;case"object":o="interface",i="WebIDL";break;default:t.includes("Worker")&&"extended-attribute"===n.type&&(r=`${t}GlobalScope`,o="interface",i=["Worker","DedicatedWorker","SharedWorker"].includes(t)?"HTML":null)}return hyperHTML$1`<a
      data-xref-type="${o}" data-cite="${i}" data-lt="${r}">${e}</a>`},name(e,{data:t,parent:n}){if(t.idlType&&"argument-type"===t.idlType.type)return hyperHTML$1`<span class="idlParamName">${e}</span>`;const r=defineIdlName(e,t,n);if("enum-value"!==t.type){const e=n?"idlName":"idlID";r.classList.add(e)}return r},nameless(e,{data:t,parent:n}){switch(t.type){case"constructor":return defineIdlName(e,t,n);default:return e}},type:e=>hyperHTML$1`<span class="idlType">${e}</span>`,inheritance:e=>hyperHTML$1`<span class="idlSuperclass">${e}</span>`,definition(e,{data:t,parent:n}){const r=getIdlDefinitionClassName(t);switch(t.type){case"includes":case"enum-value":return hyperHTML$1`<span class='${r}'>${e}</span>`}const o=n?n.name:"",{name:i,idlId:a}=getNameAndId(t,o);return hyperHTML$1`<span class='${r}' id='${a}' data-idl data-title='${i}'>${e}</span>`},extendedAttribute:e=>hyperHTML$1`<span class="extAttr">${e}</span>`,extendedAttributeReference:e=>hyperHTML$1`<a data-xref-type="extended-attribute">${e}</a>`};function defineIdlName(e,t,n){const r=n?n.name:"",{name:o}=getNameAndId(t,r),i=findDfn(t,o,{parent:r}),a=getDfnType(t.type);if(i){t.partial||(i.dataset.export="",i.dataset.dfnType=a),decorateDfn(i,t,r,o);const n=`#${i.id}`;return hyperHTML$1`<a
      data-link-for="${r}"
      data-link-type="${a}"
      href="${n}"
      class="internalDFN"
      ><code>${e}</code></a>`}if("operation"===t.type&&"toJSON"===t.name&&t.extAttrs.some(({name:e})=>"Default"===e))return hyperHTML$1`<a
     data-link-type="dfn"
     data-lt="default toJSON operation">${e}</a>`;if(!t.partial){const n=hyperHTML$1`<dfn data-export data-dfn-type="${a}">${e}</dfn>`;return registerDefinition(n,[o]),decorateDfn(n,t,r,o),n}const s=hyperHTML$1`<a
    data-idl="${t.partial?"partial":null}"
    data-link-type="${a}"
    data-title="${t.name}"
    data-xref-type="${a}"
    >${e}</a>`;if(o&&"typedef"!==t.type&&!(t.partial&&!i)){showInlineWarning(s,`Missing \`<dfn>\` for${r?` \`${r}\`'s`:""} \`${"operation"===t.type?`${o}()`:o}\` ${t.type}. [More info](https://github.com/w3c/respec/wiki/WebIDL-thing-is-not-defined).`,"")}return s}function getDfnType(e){switch(e){case"operation":return"method";case"field":return"dict-member";case"callback interface":case"interface mixin":return"interface";default:return e}}function getIdlDefinitionClassName(e){switch(e.type){case"callback interface":return"idlInterface";case"operation":return"idlMethod";case"field":return"idlMember";case"enum-value":return"idlEnumItem";case"callback function":return"idlCallback"}return`idl${e.type[0].toUpperCase()}${e.type.slice(1)}`}const nameResolverMap=new WeakMap;function getNameAndId(e,t=""){if(nameResolverMap.has(e))return nameResolverMap.get(e);const n=resolveNameAndId(e,t);return nameResolverMap.set(e,n),n}function resolveNameAndId(e,t){let n=getDefnName(e),r=getIdlId(n,t);switch(e.type){case"callback interface":case"dictionary":case"interface":case"interface mixin":r+=resolvePartial(e);break;case"constructor":case"operation":{const o=resolveOverload(n,t);o?(n+=o,r+=o):e.arguments.length&&(r+=e.arguments.map(e=>`-${e.name.toLowerCase()}`).join(""));break}}return{name:n,idlId:r}}function resolvePartial(e){return e.partial?(idlPartials[e.name]||(idlPartials[e.name]=0),idlPartials[e.name]+=1,`-partial-${idlPartials[e.name]}`):""}function resolveOverload(e,t){const n=`${t}.${e}`,r=`${n}()`;let o;return operationNames[r]||(operationNames[r]=0),operationNames[n]?o=`!overload-${operationNames[n]}`:operationNames[n]=0,operationNames[r]+=1,operationNames[n]+=1,o||""}function getIdlId(e,t){return t?`idl-def-${t.toLowerCase()}-${e.toLowerCase()}`:`idl-def-${e.toLowerCase()}`}function getDefnName(e){switch(e.type){case"enum-value":return e.value;case"operation":return e.name;default:return e.name||e.type}}function renderWebIDL(e,t){let n;try{n=webidl2.parse(e.textContent,{sourceName:String(t)})}catch(t){return showInlineError(e,`Failed to parse WebIDL: ${t.bareMessage}.`,t.bareMessage,{details:`<pre>${t.context}</pre>`}),[]}e.classList.add("def","idl");const r=webidl2.write(n,{templates:templates$1});hyperHTML$1.bind(e)`${r}`,e.querySelectorAll("[data-idl]").forEach(e=>{if(e.dataset.dfnFor)return;const t=e.dataset.title,n=e.parentElement.closest("[data-idl][data-title]");n&&(e.dataset.dfnFor=n.dataset.title),registerDefinition(e,[t])});const o=e.closest("[data-cite], body"),{dataset:i}=o;if(i.cite||(i.cite="WebIDL"),!/\bwebidl\b/i.test(i.cite)){const e=i.cite.trim().split(/\s+/);i.cite=["WebIDL",...e].join(" ")}return n}const cssPromise$2=loadStyle$4();async function loadStyle$4(){try{return(await Promise.resolve().then((function(){return webidl$2}))).default}catch{return fetchAsset("webidl.css")}}async function run$p(){const e=document.querySelectorAll("pre.idl");if(!e.length)return;if(!document.querySelector(".idl:not(pre)")){const e=document.querySelector("head link");if(e){const t=document.createElement("style");t.textContent=await cssPromise$2,e.before(t)}}const t=[...e].map(renderWebIDL),n=webidl2.validate(t);for(const r of n){let n=`<pre>${r.context}</pre>`;if(r.autofix){r.autofix(),n+=`Try fixing as:\n      <pre>${xmlEscape(webidl2.write(t[r.sourceName]))}</pre>`}showInlineError(e[r.sourceName],`WebIDL validation error: ${r.bareMessage}`,r.bareMessage,{details:n})}document.normalize()}var webidl=Object.freeze({__proto__:null,name:name$B,run:run$p});const name$C="core/data-cite";function requestLookup(e){const t=citeDetailsConverter(e);return async n=>{const r=n.dataset.cite,{key:o,frag:i,path:a}=t(n);let s="",c="";if(o.toLowerCase()===e.shortName.toLowerCase())console.log(n,`The reference "${o}" is resolved into the current document per \`conf.shortName\`.`),s=document.location.href;else{const e=await resolveRef(o);if(cleanElement(n),!e)return void showInlineWarning(n,`Couldn't find a match for "${r}"`);s=e.href,c=e.title}if(a){const e=a.startsWith("/")?`.${a}`:a;s=new URL(e,s).href}switch(i&&(s=new URL(i,s).href),n.localName){case"a":if(""===n.textContent&&"the-empty-string"!==n.dataset.lt&&(n.textContent=c),n.href=s,!a&&!i){const e=document.createElement("cite");n.replaceWith(e),e.append(n)}break;case"dfn":{const e=document.createElement("a");if(e.href=s,n.textContent?wrapInner(n,e):(e.textContent=c,n.append(e)),!a&&!i){const t=document.createElement("cite");t.append(e),n.append(t)}"export"in n.dataset&&(showInlineError(n,"Exporting an linked external definition is not allowed. Please remove the `data-export` attribute","Please remove the `data-export` attribute."),delete n.dataset.export),n.dataset.noExport="";break}}}}function cleanElement(e){["data-cite","data-cite-frag"].filter(t=>e.hasAttribute(t)).forEach(t=>e.removeAttribute(t))}function makeComponentFinder(e){return t=>{const n=t.search(e);return-1!==n?t.substring(n):""}}function citeDetailsConverter(e){const t=makeComponentFinder("#"),n=makeComponentFinder("/");return function r(o){const{dataset:i}=o,{cite:a,citeFrag:s,citePath:c}=i;if(a.startsWith("#")&&!s){const t=o.parentElement.closest('[data-cite]:not([data-cite^="#"])'),{key:n,isNormative:s}=t?r(t):{key:e.shortName||"",isNormative:!1};return i.cite=s?n:`?${n}`,i.citeFrag=a.replace("#",""),r(o)}const l=s?`#${s}`:t(a),u=c||n(a).split("#")[0],{type:d}=refTypeFromContext(a,o),p="normative"===d,h=/^[?|!]/.test(a);return{key:a.split(/[/|#]/)[0].substring(Number(h)),isNormative:p,frag:l,path:u}}}async function run$q(e){const t=citeDetailsConverter(e),n=document.querySelectorAll("dfn[data-cite], a[data-cite]");Array.from(n).filter(e=>e.dataset.cite).map(t).filter(({key:t})=>t.toLowerCase()!==(e.shortName||"").toLowerCase()).forEach(({isNormative:t,key:n})=>{t||e.normativeReferences.has(n)?(e.normativeReferences.add(n),e.informativeReferences.delete(n)):e.informativeReferences.add(n)})}async function linkInlineCitations(e,t=respecConfig){const n=requestLookup(t),r=[...e.querySelectorAll("dfn[data-cite]:not([data-cite='']), a[data-cite]:not([data-cite=''])")],o=citeDetailsConverter(t),i=r.map(o).map(async e=>{return{entry:e,result:await resolveRef(e.key)}}),a=(await Promise.all(i)).filter(({result:e})=>null===e).map(({entry:{key:e}})=>e),s=await updateFromNetwork(a);s&&Object.assign(biblio,s);const c=[...new Set(r)].map(n);return await Promise.all(c)}var dataCite=Object.freeze({__proto__:null,name:name$C,run:run$q,linkInlineCitations:linkInlineCitations});const name$D="core/webidl-index";function run$r(){const e=document.querySelector("section#idl-index");if(!e)return;const t=[2,3,4,5,6].map(e=>`h${e}:first-child`).join(",");if(!e.querySelector(t)){const t=document.createElement("h2");e.title?(t.textContent=e.title,e.removeAttribute("title")):t.textContent="IDL Index",e.prepend(t)}const n=Array.from(document.querySelectorAll("pre.def.idl:not(.exclude)")).filter(e=>!e.closest(nonNormativeSelector));if(0===n.length){const t="This specification doesn't declare any Web IDL.";return void e.append(t)}const r=document.createElement("pre");r.classList.add("idl","def"),r.id="actual-idl-index",n.map(e=>{const t=document.createDocumentFragment();for(const n of e.children)t.appendChild(n.cloneNode(!0));return t}).forEach(e=>{r.lastChild&&r.append("\n\n"),r.appendChild(e)}),r.querySelectorAll("*[id]").forEach(e=>e.removeAttribute("id")),e.appendChild(r)}var webidlIndex=Object.freeze({__proto__:null,name:name$D,run:run$r});const VERSION_CHECK_WAIT=18e6;async function getIdbCache(){const e=await idb.openDB("xref",1,{upgrade(e){e.createObjectStore("xrefs")}});return new IDBKeyVal(e,"xrefs")}async function resolveXrefCache(e){try{const t=await getIdbCache();return await resolveFromCache(e,t)}catch(e){return console.error(e),new Map}}async function resolveFromCache(e,t){return await shouldBustCache(t)?(await t.clear(),new Map):await t.getMany(e.map(e=>e.id))}async function shouldBustCache(e){const t=await e.get("__LAST_VERSION_CHECK__"),n=Date.now();if(!t)return await e.set("__LAST_VERSION_CHECK__",n),!1;if(n-t<VERSION_CHECK_WAIT)return!1;const r=new URL("meta/version",API_URL).href,o=await fetch(r);if(!o.ok)return!1;const i=await o.text();return await e.set("__LAST_VERSION_CHECK__",n),parseInt(i,10)>t}async function cacheXrefData(e){try{const t=await getIdbCache();await t.addMany(e)}catch(e){console.error(e)}}const profiles={"web-platform":["HTML","INFRA","URL","WEBIDL","DOM","FETCH"]},API_URL="https://respec.org/xref/";if(!document.querySelector("link[rel='preconnect'][href='https://respec.org']")){const e=createResourceHint({hint:"preconnect",href:"https://respec.org"});document.head.appendChild(e)}async function run$s(e,t){const n=normalizeConfig(e.xref);if(n.specs){const e=document.body.dataset.cite?document.body.dataset.cite.split(/\s+/):[];document.body.dataset.cite=e.concat(n.specs).join(" ")}if(!t.length)return;const r=[];for(const e of t){const t=getRequestEntry(e),n=await objectHash(t);r.push({...t,id:n})}addDataCiteToTerms(t,r,await getData(r,n.url),e)}function normalizeConfig(e){const t={url:API_URL,specs:null},n=Object.assign({},t);switch(Array.isArray(e)?"array":typeof e){case"boolean":break;case"string":e.toLowerCase()in profiles?Object.assign(n,{specs:profiles[e.toLowerCase()]}):r(e);break;case"array":Object.assign(n,{specs:e});break;case"object":if(Object.assign(n,e),e.profile){const t=e.profile.toLowerCase();if(t in profiles){const r=(e.specs||[]).concat(profiles[t]);Object.assign(n,{specs:r})}else r(e.profile)}break;default:pub("error",`Invalid value for \`xref\` configuration option. Received: "${e}".`)}return n;function r(e){pub("error",`Invalid profile "${e}" in \`respecConfig.xref\`. `+`Please use one of the supported profiles: ${Object.keys(profiles).map(e=>`"${e}"`).join(", ")}.`)}}function getRequestEntry(e){const t="xrefType"in e.dataset;let n=getTermFromElement(e);t||(n=n.toLowerCase());const r=[];let o=e.closest("[data-cite]");for(;o;){const t=o.dataset.cite.toLowerCase().replace(/[!?]/g,"").split(/\s+/).filter(e=>e);if(t.length&&r.push(t.sort()),o===e)break;o=o.parentElement.closest("[data-cite]")}if(e.closest("[data-cite]")!==e){const t=e.closest("section"),n=[...t?t.querySelectorAll("a.bibref"):[]].map(e=>e.textContent.toLowerCase()),o=[...new Set(n)].sort();o.length&&r.unshift(o)}const i=[];t?e.dataset.xrefType?i.push(...e.dataset.xrefType.split("|")):i.push("_IDL_"):i.push("_CONCEPT_");let{xrefFor:a}=e.dataset;if(!a&&t){const t=e.closest("[data-xref-for]");t&&(a=norm(t.dataset.xrefFor))}else a&&"string"==typeof a&&(a=norm(a));return{term:n,types:i,...r.length&&{specs:r},..."string"==typeof a&&{for:a}}}function getTermFromElement(e){const{lt:t}=e.dataset;let n=t?t.split("|",1)[0]:e.textContent;return"the-empty-string"===(n=norm(n))?"":n}async function getData(e,t){const n=new Set,r=e.filter(e=>!n.has(e.id)&&(n.add(e.id)&&!0)),o=await resolveXrefCache(r),i=r.filter(e=>!o.get(e.id)),a=await fetchFromNetwork(i,t);return a.size&&await cacheXrefData(a),new Map([...o,...a])}async function fetchFromNetwork(e,t){if(!e.length)return new Map;const n={keys:e},r={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},o=await fetch(t,r),i=await o.json();return new Map(i.result)}function isNormative(e){const t=e.closest(".normative"),n=e.closest(nonNormativeSelector);return!n||e===t||t&&n&&n.contains(t)}function addDataCiteToTerms(e,t,n,r){const o={ambiguous:new Map,notFound:new Map};for(let i=0,a=e.length;i<a;i++){if(e[i].closest("[data-no-xref]"))continue;const a=e[i],s=t[i],{id:c}=s,l=n.get(c);if(1===l.length)addDataCite(a,s,l[0],r);else{const e=o[0===l.length?"notFound":"ambiguous"];e.has(c)||e.set(c,{elems:[],results:l,query:s}),e.get(c).elems.push(a)}}showErrors(o)}function addDataCite(e,t,n,r){const{term:o}=t,{uri:i,shortname:a,normative:s,type:c}=n,l=i.includes("/")?i.split("/",1)[1]:i,[u,d]=l.split("#"),p={cite:a,citePath:u,citeFrag:d,type:c};Object.assign(e.dataset,p),document.querySelectorAll(`[data-dfn-type="xref"][data-xref="${o.toLowerCase()}"]`).forEach(e=>{e.removeAttribute("data-xref"),Object.assign(e.dataset,p)}),addToReferences(e,a,s,o,r)}function addToReferences(e,t,n,r,o){if(!isNormative(e))return void(o.normativeReferences.has(t)||o.informativeReferences.add(t));if(n){const e=o.informativeReferences.has(t)?o.informativeReferences.getCanonicalKey(t):t;return o.normativeReferences.add(e),void o.informativeReferences.delete(e)}showInlineWarning(e,`Adding an informative reference to "${r}" from "${t}" `+"in a normative section","Error: Informative reference in normative section")}function showErrors({ambiguous:e,notFound:t}){const n=(e,t,n=[])=>{const r=new URL(API_URL);return r.searchParams.set("term",e),t.for&&r.searchParams.set("for",t.for),r.searchParams.set("types",t.types.join(",")),n.length&&r.searchParams.set("cite",n.join(",")),r};for(const{query:e,elems:r}of t.values()){const t=[...new Set(flatten([],e.specs))].sort(),o=getTermFromElement(r[0]),i=n(o,e,t);showInlineError(r,`Couldn't match "**${o}**" to anything in the document or in any other document cited in this specification: ${t.map(e=>`\`${e}\``).join(", ")}. `+`See [how to cite to resolve the error](${i})`,"Error: No matching dfn found.")}for(const{query:t,elems:r,results:o}of e.values()){const e=[...new Set(o.map(e=>e.shortname))].sort(),i=e.map(e=>`**${e}**`).join(", "),a=getTermFromElement(r[0]);showInlineError(r,`The term "**${a}**" is defined in ${i} in multiple ways, so it's ambiguous. `+`See [how to cite to resolve the error](${n(a,t,e)})`,"Error: Linking an ambiguous dfn.")}}function objectHash(e){const t=JSON.stringify(e,Object.keys(e).sort()),n=(new TextEncoder).encode(t);return crypto.subtle.digest("SHA-1",n).then(bufferToHexString)}function bufferToHexString(e){return[...new Uint8Array(e)].map(e=>e.toString(16).padStart(2,"0")).join("")}const name$E="core/link-to-dfn",l10n$8={en:{duplicateMsg:e=>`Duplicate definition(s) of '${e}'`,duplicateTitle:"This is defined more than once in the document."}},lang$g=lang in l10n$8?lang:"en";class CaseInsensitiveMap extends Map{constructor(e=[]){return super(),e.forEach(([e,t])=>{this.set(e,t)}),this}set(e,t){return super.set(e.toLowerCase(),t),this}get(e){return super.get(e.toLowerCase())}has(e){return super.has(e.toLowerCase())}delete(e){return super.delete(e.toLowerCase())}}async function run$t(e){const t=mapTitleToDfns(),n=[],r=[];if(document.querySelectorAll("a[data-cite=''], a:not([href]):not([data-cite]):not(.logo):not(.externalDFN)").forEach(e=>{const o=getLinkTargets(e);o.some(r=>findLinkTarget(r,e,t,n))||0===o.length||(""===e.dataset.cite?r.push(e):n.push(e))}),showLinkingError(r),e.xref){n.push(...findExplicitExternalLinks());try{await run$s(e,n)}catch(e){console.error(e),showLinkingError(n)}}else showLinkingError(n);await linkInlineCitations(document,e),pub("end","core/link-to-dfn")}function mapTitleToDfns(){const e=new CaseInsensitiveMap;return Object.keys(definitionMap).forEach(t=>{const{result:n,duplicates:r}=collectDfns(t);e.set(t,n),r.length>0&&showInlineError(r,l10n$8[lang$g].duplicateMsg(t),l10n$8[lang$g].duplicateTitle)}),e}function collectDfns(e){const t=new Map,n=[];return definitionMap[e].forEach(r=>{const{dfnFor:o=""}=r.dataset;if(t.has(o)){const e="dfn"===t.get(o).localName,i="dfn"===r.localName;if(e){if(!i)return;n.push(r)}}t.set(o,r),addId(r,"dfn",e)}),{result:t,duplicates:n}}function findLinkTarget(e,t,n,r){const{linkFor:o}=t.dataset;if(!n.has(e.title)||!n.get(e.title).get(e.for))return!1;const i=n.get(e.title).get(e.for);if(i.dataset.cite)t.dataset.cite=i.dataset.cite;else if(o&&!n.get(o))r.push(t);else if(i.classList.contains("externalDFN")){const e=i.dataset.lt?i.dataset.lt.split("|"):[];t.dataset.lt=e[0]||i.textContent,r.push(t)}else"partial"===t.dataset.idl?r.push(t):(t.href=`#${i.id}`,t.classList.add("internalDFN"));return t.hasAttribute("data-link-type")||(t.dataset.linkType="idl"in i.dataset?"idl":"dfn"),isCode(i)&&wrapAsCode(t,i),!0}function isCode(e){if(e.closest("code,pre"))return!0;if(1!==e.childNodes.length)return!1;const[t]=e.childNodes;return"code"===t.localName}function wrapAsCode(e,t){const n=e.textContent.trim(),r=t.dataset.hasOwnProperty("idl"),o=shouldWrapByCode(e)||shouldWrapByCode(t,n);r&&!o||wrapInner(e,document.createElement("code"))}function shouldWrapByCode(e,t=""){switch(e.localName){case"a":if(e.querySelector("code"))return!0;break;default:{const{dataset:n}=e;if(e.textContent.trim()===t)return!0;if(n.title===t)return!0;if(n.lt)return n.lt.split("|").includes(t)}}return!1}function findExplicitExternalLinks(){const e=document.querySelectorAll("a[data-cite]:not([data-cite='']):not([data-cite*='#']), dfn[data-cite]:not([data-cite='']):not([data-cite*='#'])"),t=document.querySelectorAll("dfn.externalDFN");return[...e].filter(e=>{if(""===e.textContent.trim())return!1;const t=e.closest("[data-cite]");return!t||""!==t.dataset.cite}).concat(...t)}function showLinkingError(e){e.forEach(e=>{showInlineWarning(e,`Found linkless \`<a>\` element with text "${e.textContent}" but no matching \`<dfn>\``,"Linking error: not matching `<dfn>`")})}var linkToDfn=Object.freeze({__proto__:null,name:name$E,run:run$t});const name$F="core/contrib";async function run$u(e){if(!document.getElementById("gh-contributors"))return;if(!e.github){return void pub("error","Requested list of contributors from GitHub, but [`github`](https://github.com/w3c/respec/wiki/github) configuration option is not set.")}const t=e.editors.map(e=>e.name),n=`${e.github.apiBase}/${e.github.fullName}/`;await showContributors(t,n)}async function showContributors(e,t){const n=document.getElementById("gh-contributors");if(!n)return;n.textContent="Fetching list of contributors...";const r=await async function(){const{href:n}=new URL("contributors",t);try{const t=await fetchAndCache(n);if(!t.ok)throw new Error(`Request to ${n} failed with status code ${t.status}`);return(await t.json()).filter(t=>!e.includes(t.name||t.login))}catch(e){return pub("error","Error loading contributors from GitHub."),console.error(e),null}}();null!==r?toHTML(r,n):n.textContent="Failed to fetch contributors."}function toHTML(e,t){const n=e.sort((e,t)=>{const n=e.name||e.login,r=t.name||t.login;return n.toLowerCase().localeCompare(r.toLowerCase())});if("UL"===t.tagName)return void hyperHTML$1(t)`${n.map(({name:e,login:t})=>`<li><a href="https://github.com/${t}">${e||t}</a></li>`)}`;const r=n.map(e=>e.name||e.login);t.textContent=joinAnd(r)}var contrib=Object.freeze({__proto__:null,name:name$F,run:run$u});const name$G="core/fix-headers";function run$v(){[...document.querySelectorAll("section:not(.introductory)")].map(e=>e.querySelector("h1, h2, h3, h4, h5, h6")).filter(e=>e).forEach(e=>{renameElement(e,`h${Math.min(getParents(e,"section").length+1,6)}`)})}function getParents(e,t){const n=[];for(;e!=e.ownerDocument.body;)e.matches(t)&&n.push(e),e=e.parentElement;return n}var fixHeaders=Object.freeze({__proto__:null,name:name$G,run:run$v});const lowerHeaderTags=["h2","h3","h4","h5","h6"],headerTags=["h1",...lowerHeaderTags],alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ",name$H="core/structure",localizationStrings$7={en:{toc:"Table of Contents"},nl:{toc:"Inhoudsopgave"},es:{toc:"Tabla de Contenidos"}},lang$h=lang in localizationStrings$7?lang:"en",l10n$9=localizationStrings$7[lang$h];function scanSections(e,t,{prefix:n=""}={}){let r=!1,o=0,i=1;if(n.length&&!n.endsWith(".")&&(n+="."),0===e.length)return null;const a=hyperHTML$1`<ol class='toc'>`;for(const s of e){!s.isAppendix||n||r||(o=i,r=!0);let e=s.isIntro?"":r?alphabet.charAt(i-o):n+i;const c=Math.ceil(e.length/2);if(1===c&&(e+=".",s.header.before(document.createComment("OddPage"))),s.isIntro||(i+=1,s.header.prepend(hyperHTML$1`<bdi class='secno'>${e} </bdi>`)),c<=t){const n=createTocListItem(s.header,s.element.id),r=scanSections(s.subsections,t,{prefix:e});r&&n.append(r),a.append(n)}}return a}function getSectionTree(e,{tocIntroductory:t=!1}={}){const n=children(e,t?"section":"section:not(.introductory)"),r=[];for(const e of n){const n=e.classList.contains("notoc");if(!e.children.length||n)continue;const o=e.children[0];if(!lowerHeaderTags.includes(o.localName))continue;const i=o.textContent;addId(e,null,i),r.push({element:e,header:o,title:i,isIntro:e.classList.contains("introductory"),isAppendix:e.classList.contains("appendix"),subsections:getSectionTree(e,{tocIntroductory:t})})}return r}function createTocListItem(e,t){const n=hyperHTML$1`<a href="${`#${t}`}" class="tocxref"/>`;return n.append(...e.cloneNode(!0).childNodes),filterHeader(n),hyperHTML$1`<li class='tocline'>${n}</li>`}function filterHeader(e){e.querySelectorAll("a").forEach(e=>{const t=renameElement(e,"span");t.className="formerLink",t.removeAttribute("href")}),e.querySelectorAll("dfn").forEach(e=>{renameElement(e,"span").removeAttribute("id")})}function run$w(e){if("tocIntroductory"in e==!1&&(e.tocIntroductory=!1),"maxTocLevel"in e==!1&&(e.maxTocLevel=1/0),renameSectionHeaders(),!e.noTOC){const t=scanSections(getSectionTree(document.body,{tocIntroductory:e.tocIntroductory}),e.maxTocLevel);t&&createTableOfContents(t)}}function renameSectionHeaders(){const e=getNonintroductorySectionHeaders();e.length&&e.forEach(e=>{const t=`h${Math.min(parents(e,"section").length+1,6)}`;e.localName!==t&&renameElement(e,t)})}function getNonintroductorySectionHeaders(){const e=headerTags.map(e=>`section:not(.introductory) ${e}:first-child`).join(",");return[...document.querySelectorAll(e)].filter(e=>!e.closest("section.introductory"))}function createTableOfContents(e){if(!e)return;const t=hyperHTML$1`<nav id="toc">`,n=hyperHTML$1`<h2 class="introductory">${l10n$9.toc}</h2>`;addId(n),t.append(n,e);const r=document.getElementById("toc")||document.getElementById("sotd")||document.getElementById("abstract");r&&("toc"===r.id?r.replaceWith(t):r.after(t));const o=hyperHTML$1`<p role='navigation' id='back-to-top'><a href='#title'><abbr title='Back to Top'>&uarr;</abbr></a></p>`;document.body.append(o)}var structure$1=Object.freeze({__proto__:null,name:name$H,run:run$w});const name$I="core/informative",localizationStrings$8={en:{informative:"This section is non-normative."},nl:{informative:"Dit onderdeel is niet normatief."}},lang$i=lang in localizationStrings$8?lang:"en",l10n$a=localizationStrings$8[lang$i];function run$x(){Array.from(document.querySelectorAll("section.informative")).map(e=>e.querySelector("h2, h3, h4, h5, h6")).filter(e=>e).forEach(e=>{e.after(hyperHTML$1`<p><em>${l10n$a.informative}</em></p>`)})}var informative=Object.freeze({__proto__:null,name:name$I,run:run$x});const name$J="core/id-headers";function run$y(e){const t=document.querySelectorAll("section:not(.head):not(.introductory) h2, h3, h4, h5, h6");for(const n of t){if(addId(n),!e.addSectionLinks)continue;const t=n.parentElement.id||n.id;n.appendChild(hyperHTML$1`
      <a href="${`#${t}`}" class="self-link" aria-label="§"></a>
    `)}}var idHeaders=Object.freeze({__proto__:null,name:name$J,run:run$y});const name$K="core/caniuse",API_URL$1="https://respec.org/caniuse/",BROWSERS=new Map([["and_chr","Chrome (Android)"],["and_ff","Firefox (Android)"],["and_uc","UC Browser (Android)"],["android","Android"],["bb","Blackberry"],["chrome","Chrome"],["edge","Edge"],["firefox","Firefox"],["ie","IE"],["ios_saf","Safari (iOS)"],["op_mini","Opera Mini"],["op_mob","Opera Mobile"],["opera","Opera"],["safari","Safari"],["samsung","Samsung Internet"]]),supportTitles=new Map([["y","Supported."],["a","Almost supported (aka Partial support)."],["n","No support, or disabled by default."],["p","No support, but has Polyfill."],["u","Support unknown."],["x","Requires prefix to work."],["d","Disabled by default (needs to enabled)."]]);if(!document.querySelector("link[rel='preconnect'][href='https://respec.org']")){const e=createResourceHint({hint:"preconnect",href:"https://respec.org"});document.head.appendChild(e)}const caniuseCssPromise=loadStyle$5();async function loadStyle$5(){try{return(await Promise.resolve().then((function(){return caniuse$2}))).default}catch{return fetchAsset("caniuse.css")}}async function run$z(e){if(!e.caniuse)return;const t=getNormalizedConf(e);if(e.caniuse=t,!t.feature)return;const n=new URL(t.feature,"https://caniuse.com/").href,r=await caniuseCssPromise;document.head.appendChild(hyperHTML$1`
    <style class="removeOnSave">${r}</style>`);const o=document.querySelector(".head dl"),i=(async()=>{try{const e=t.apiURL||API_URL$1,r=await fetchStats(e,t);return createTableHTML(n,r)}catch(e){return console.error(e),pub("error",`Couldn't find feature "${t.feature}" on caniuse.com? `+"Please check the feature key on [caniuse.com](https://caniuse.com)"),hyperHTML$1`<a href="${n}">caniuse.com</a>`}})(),a=hyperHTML$1`
    <dt class="caniuse-title">Browser support:</dt>
    <dd class="caniuse-stats">${{any:i,placeholder:"Fetching data from caniuse.com..."}}</dd>`;o.append(...a.childNodes),await i,pub("amend-user-config",{caniuse:t.feature}),sub("beforesave",e=>{hyperHTML$1.bind(e.querySelector(".caniuse-stats"))`
      <a href="${n}">caniuse.com</a>`})}function getNormalizedConf(e){const t={versions:4};if("string"==typeof e.caniuse)return{feature:e.caniuse,...t};const n={...t,...e.caniuse},{browsers:r}=n;if(Array.isArray(r)){const e=r.filter(e=>!BROWSERS.has(e));if(e.length){pub("warn",`Ignoring invalid browser(s): ${e.map(e=>`"\`${e}\`"`).join(", ")} in `+"[`respecConfig.caniuse.browsers`](https://github.com/w3c/respec/wiki/caniuse)")}}return n}async function fetchStats(e,t){const{feature:n,versions:r,browsers:o}=t,i=new URLSearchParams;i.set("feature",n),i.set("versions",r),Array.isArray(o)&&i.set("browsers",o.join(","));const a=`${e}?${i.toString()}`,s=await fetch(a);return await s.json()}function createTableHTML(e,t){return hyperHTML$1`
    ${Object.entries(t).map(addBrowser)}
    <a href="${e}"
      title="Get details at caniuse.com">More info
    </a>`}function addBrowser([e,t]){const n=e=>{const t=e.filter(e=>supportTitles.has(e)).map(e=>supportTitles.get(e));return{className:`caniuse-cell ${e.join(" ")}`,title:t.join(" ")}},[r,...o]=t;return hyperHTML$1`
    <div class="caniuse-browser">
      ${(([t,r])=>{const{className:o,title:i}=n(r),a=`${BROWSERS.get(e)||e} ${t}`;return hyperHTML$1`
      <button class="${o}" title="${i}">${a}</button>`})(r)}
      <ul>
        ${o.map(([e,t])=>{const{className:r,title:o}=n(t);return hyperHTML$1`<li class="${r}" title="${o}">${e}</li>`})}
      </ul>
    </div>`}var caniuse=Object.freeze({__proto__:null,name:name$K,run:run$z});const name$L="core/mdn-annoatation",SPEC_MAP_URL="https://raw.githubusercontent.com/w3c/mdn-spec-links/master/SPECMAP.json",BASE_JSON_PATH="https://w3c.github.io/mdn-spec-links/",MDN_URL_BASE="https://developer.mozilla.org/en-US/docs/Web/",MDN_BROWSERS={chrome:"Chrome",chrome_android:"Chrome Android",edge:"Edge",edge_mobile:"Edge Mobile",firefox:"Firefox",firefox_android:"Firefox Android",ie:"Internet Explorer",opera:"Opera",opera_android:"Opera Android",safari:"Safari",safari_ios:"Safari iOS",samsunginternet_android:"Samsung Internet",webview_android:"WebView Android"},mdnCssPromise=loadStyle$6();async function loadStyle$6(){try{return(await Promise.resolve().then((function(){return mdnAnnotation$2}))).default}catch{return fetchAsset("mdn-annotation.css")}}function fetchAndCacheJson(e,t){return e?fetchAndCache(e,t).then(e=>e.json()):{}}function insertMDNBox(e){const t=e.closest("section"),{previousElementSibling:n,parentNode:r}=t;if(n&&n.classList.contains("mdn"))return n;const o=hyperHTML$1`<aside class="mdn before wrapped"></aside>`;return r.insertBefore(o,t),o}function attachMDNDetail(e,t){const{slug:n,summary:r}=t;e.innerHTML+='<button onclick="toggleMDNStatus(this.parentNode)" aria-label="Expand MDN details"><b>MDN</b></button>';const o=n.slice(n.indexOf("/")+1),i=hyperHTML$1`
    <div>
      <a title="${r}" href="${`${MDN_URL_BASE}${n}`}">${o}</a>
    </div>
  `;attachMDNBrowserSupport(i,t),e.appendChild(i)}function attachMDNBrowserSupport(e,t){if(!t.support)return void(e.innerHTML+='<p class="nosupportdata">No support data.</p>');const n=hyperHTML$1`<p class="mdnsupport">
    ${[buildBrowserSupportTable(t.support)]}
  </p>`;e.appendChild(n)}function buildBrowserSupportTable(e){let t="";function n(e,n,r){const o="Unknown"===n?"?":n,i=`\n      <span class="${`${e} ${n.toLowerCase()}`}">\n        <span class="browser-name">${MDN_BROWSERS[e]}</span>\n        <span class="version">${r||o}</span>\n      </span>`;t+=i}function r(e,t){if(t.version_removed)return void n(e,"No","");const r=t.version_added;r?"boolean"==typeof r?n(e,r?"Yes":"No",""):n(e,"Yes",`${r}+`):n(e,"Unknown","")}return Object.keys(MDN_BROWSERS).forEach(t=>{e[t]?Array.isArray(e[t])?e[t].forEach(e=>{r(t,e)}):r(t,e[t]):n(t,"Unknown","")}),t}async function run$A(e){const{shortName:t,mdn:n}=e;if(!t||!n)return;const r=n.maxAge||864e5,o=n.specMapUrl||SPEC_MAP_URL,i=n.baseJsonPath||BASE_JSON_PATH,a=await fetchAndCacheJson(o,r);if(!Object.values(a).some(e=>e===`${t}.json`))return;const s=await fetchAndCacheJson(`${i}/${t}.json`,r),c=await mdnCssPromise;document.head.appendChild(hyperHTML$1`<style>${[c]}</style>`),document.head.appendChild(hyperHTML$1`<script>
     function toggleMDNStatus(div) {
       div.parentNode.classList.toggle('wrapped');
     }
  </script>`),[...document.querySelectorAll("[id]")].filter(e=>{return-1===["STYLE","SCRIPT","BODY"].indexOf(e.tagName)&&s[e.id]&&Array.isArray(s[e.id])}).forEach(e=>{const t=s[e.id],n=insertMDNBox(e);t.map(e=>{const t=document.createElement("div");return attachMDNDetail(t,e),t}).forEach(e=>n.appendChild(e))})}var mdnAnnotation=Object.freeze({__proto__:null,name:name$L,run:run$A});const mimeTypes=new Map([["text/html","html"],["application/xml","xml"]]);function rsDocToDataURL(e,t=document){const n=mimeTypes.get(e);if(!n){const t=[...mimeTypes.values()].join(", ");throw new TypeError(`Invalid format: ${e}. Expected one of: ${t}.`)}const r=serialize(n,t);return`data:${e};charset=utf-8,${encodeURIComponent(r)}`}function serialize(e,t){const n=t.cloneNode(!0);cleanup(n);let r="";switch(e){case"xml":r=(new XMLSerializer).serializeToString(n);break;default:n.doctype&&(r+=(new XMLSerializer).serializeToString(n.doctype)),r+=n.documentElement.outerHTML}return r}function cleanup(e){const{head:t,body:n,documentElement:r}=e;removeCommentNodes(e),e.querySelectorAll(".removeOnSave, #toc-nav").forEach(e=>e.remove()),n.classList.remove("toc-sidebar"),removeReSpec(r);const o=e.createDocumentFragment(),i=e.querySelector("meta[name='viewport']");i&&t.firstChild!==i&&o.appendChild(i);let a=e.querySelector("meta[charset], meta[content*='charset=']");a||(a=hyperHTML$1`<meta charset="utf-8">`),o.appendChild(a);const s=`ReSpec ${window.respecVersion||"Developer Channel"}`,c=hyperHTML$1`
    <meta name="generator" content="${s}">
  `;o.appendChild(c),t.prepend(o),pub("beforesave",r)}expose("core/exporter",{rsDocToDataURL:rsDocToDataURL});const name$M="ui/save-html",epubURL=new URL("https://labs.w3.org/epub-generator/cgi-bin/epub-generator.py");epubURL.searchParams.append("type","respec"),epubURL.searchParams.append("url",document.location.href);const downloadLinks=[{id:"respec-save-as-html",fileName:"index.html",title:"HTML",type:"text/html",get href(){return rsDocToDataURL(this.type)}},{id:"respec-save-as-xml",fileName:"index.xhtml",title:"XML",type:"application/xml",get href(){return rsDocToDataURL(this.type)}},{id:"respec-save-as-epub",fileName:"spec.epub",title:"EPUB 3",type:"application/epub+zip",href:epubURL.href}];function toDownloadLink(e){const{id:t,href:n,fileName:r,title:o,type:i}=e;return hyperHTML$1`
    <a
      href="${n}"
      id="${t}"
      download="${r}"
      type="${i}"
      class="respec-save-button"
      onclick=${()=>ui.closeModal()}
    >${o}</a>`}const saveDialog={async show(e){await document.respecIsReady;const t=hyperHTML$1`
      <div class="respec-save-buttons">
        ${downloadLinks.map(toDownloadLink)}
      </div>`;ui.freshModal(l10n[lang].save_snapshot,t,e)}},supportsDownload="download"in HTMLAnchorElement.prototype;let button;function show(){supportsDownload&&saveDialog.show(button)}function exportDocument(e,t){const n="Exporting via ui/save-html module's `exportDocument()` is deprecated and will be removed. Use core/exporter `rsDocToDataURL()` instead.";return pub("warn",n),console.warn(n),rsDocToDataURL(t)}supportsDownload&&(button=ui.addCommand(l10n[lang].save_snapshot,show,"Ctrl+Shift+Alt+S","💾"));var saveHtml=Object.freeze({__proto__:null,name:name$M,exportDocument:exportDocument});const button$1=ui.addCommand(l10n[lang].search_specref,show$1,"Ctrl+Shift+Alt+space","🔎"),specrefURL="https://specref.herokuapp.com/",refSearchURL=`${specrefURL}search-refs`,reveseLookupURL=`${specrefURL}reverse-lookup`,form=document.createElement("form"),renderer=hyperHTML$1.bind(form),resultList=hyperHTML$1.bind(document.createElement("div"));function renderResults(e,t,n){if(!e.size)return resultList`
      <p class="state">
        Your search - <strong> ${t} </strong> -
        did not match any references.
      </p>
    `;const r=Array.from(e).slice(0,99).map(toDefinitionPair).reduce((e,t)=>e.concat(t),[]);return resultList`
    <p class="result-stats">
      ${e.size} results (${n} seconds).
      ${e.size>99?"First 100 results.":""}
    </p>
    <dl class="specref-results">${r}</dl>
  `}function toDefinitionPair([e,t]){return hyperHTML$1.wire(t)`
    <dt>
      [${e}]
    </dt>
    <dd>${wireReference(t)}</dd>
  `}function resultProcessor({includeVersions:e=!1}={}){return(...t)=>{const n=Object.assign({},...t),r=new Map(Object.entries(n));return Array.from(r).filter(([,e])=>e.aliasOf).map(([e])=>e).reduce((e,t)=>e.delete(t)&&e,r),e||Array.from(r.values()).filter(e=>"object"==typeof e&&"versions"in e).reduce(flatten,[]).forEach(e=>{r.delete(e)}),Array.from(r).filter(([,e])=>"object"!=typeof e).forEach(([e])=>r.delete(e)),r}}function show$1(){render(),ui.freshModal(l10n[lang].search_specref,form,button$1),form.querySelector("input[type=search]").focus()}form.id="specref-ui",form.addEventListener("submit",async e=>{e.preventDefault();const{searchBox:t}=form,n=t.value;if(!n)return void t.focus();render({state:"Searching Specref…"});const r=new URL(refSearchURL);r.searchParams.set("q",n);const o=new URL(reveseLookupURL);o.searchParams.set("urls",n);try{const e=performance.now(),i=await Promise.all([fetch(r).then(e=>e.json()),fetch(o).then(e=>e.json())]),{checked:a}=form.includeVersions;render({query:n,results:resultProcessor({includeVersions:a})(...i),state:"",timeTaken:Math.round(performance.now()-e)/1e3})}catch(e){console.error(e),render({state:"Error! Couldn't do search."})}finally{t.focus()}});const mast=hyperHTML$1.wire()`
  <header>
    <p>
      An Open-Source, Community-Maintained Database of
      Web Standards & Related References.
    </p>
  </header>
  <div class="searchcomponent">
    <input
      name="searchBox"
      type="search"
      autocomplete="off"
      placeholder="Keywords, titles, authors, urls…">
    <button
      type="submit">
        Search
    </button>
    <label>
      <input type="checkbox" name="includeVersions"> Include all versions.
    </label>
  </div>
`;function render({state:e="",results:t,timeTaken:n,query:r}={}){t?renderer`
    <div>${mast}</div>
    <p class="state" hidden="${!e}">
      ${e}
    </p>
    <section hidden="${!t}">${t?renderResults(t,r,n):[]}</section>
  `:renderer`<div>${mast}</div>`}var searchSpecref=Object.freeze({__proto__:null});const XREF_URL="https://respec.org/xref/",localizationStrings$9={en:{title:"Search definitions"}},lang$j=lang in localizationStrings$9?lang:"en",l10n$b=localizationStrings$9[lang$j],button$2=ui.addCommand(l10n$b.title,show$2,"Ctrl+Shift+Alt+x","📚");function show$2(){const e=document.createElement("iframe");e.id="xref-ui",e.src=XREF_URL,e.onload=()=>e.classList.add("ready"),ui.freshModal(l10n$b.title,e,button$2)}var searchXref=Object.freeze({__proto__:null});const button$3=ui.addCommand(l10n[lang].definition_list,show$3,"Ctrl+Shift+Alt+D","📔"),ul=document.createElement("ul");ul.classList.add("respec-dfn-list");const render$1=hyperHTML$1.bind(ul);function show$3(){const e=Object.entries(definitionMap).sort(([e],[t])=>e.localeCompare(t)).map(([,[e]])=>hyperHTML$1.wire(e,":li>a")`
        <li>
          <a href="${`#${e.id}`}">
            ${e.textContent}
          </a>
        </li>
      `);render$1`${e}`,ui.freshModal(l10n[lang].list_of_definitions,ul,button$3)}ul.addEventListener("click",e=>{ui.closeModal(),e.stopPropagation()});var dfnList=Object.freeze({__proto__:null});window.respecVersion=window.respecVersion||"Developer Edition";const div=document.createElement("div"),render$2=hyperHTML$1.bind(div),button$4=ui.addCommand(`About ${window.respecVersion}`,show$4,"Ctrl+Shift+Alt+A","ℹ️");function show$4(){ui.freshModal(`${l10n[lang].about_respec} - ${window.respecVersion}`,div,button$4);const e=[];"getEntriesByType"in performance&&performance.getEntriesByType("measure").sort((e,t)=>t.duration-e.duration).map(({name:e,duration:t})=>{return{name:e,duration:t>1e3?`${Math.round(t/1e3)} second(s)`:`${t.toFixed(2)} milliseconds`}}).map(perfEntryToTR).forEach(t=>{e.push(t)}),render$2`
  <p>
    ReSpec is a document production toolchain, with a notable focus on W3C specifications.
  </p>
  <p>
    <a href='https://github.com/w3c/respec/wiki'>Documentation</a>,
    <a href='https://github.com/w3c/respec/issues'>Bugs</a>.
  </p>
  <table border="1" width="100%" hidden="${!e.length}">
    <caption>
      Loaded plugins
    </caption>
    <thead>
      <tr>
        <th>
          Plugin Name
        </th>
        <th>
          Processing time
        </th>
      </tr>
    </thead>
    <tbody>${e}</tbody>
  </table>
`}function perfEntryToTR({name:e,duration:t}){return hyperHTML$1`
    <tr>
      <td><a href="${`https://github.com/w3c/respec/tree/develop/src/${e}.js`}">${e}</a></td>
      <td>${t}</td>
    </tr>
  `}var aboutRespec=Object.freeze({__proto__:null});const name$N="core/seo";function run$B(){const e=document.querySelector("#abstract p:first-of-type");if(!e)return;const t=e.textContent.replace(/\s+/," ").trim(),n=document.createElement("meta");n.name="description",n.content=t,document.head.appendChild(n)}var seo=Object.freeze({__proto__:null,name:name$N,run:run$B});const name$O="w3c/seo";async function run$C(e){if(!e.canonicalURI)switch(e.specStatus){case"CG-DRAFT":case"BG-DRAFT":case"unofficial":return}const t=e.shortName?`https://www.w3.org/TR/${e.shortName}/`:null;switch(e.canonicalURI){case"edDraft":e.edDraftURI?e.canonicalURI=new URL(e.edDraftURI,document.location.href).href:(pub("warn","Canonical URI set to edDraft, but no edDraftURI is set in configuration"),e.canonicalURI=null);break;case"TR":t?e.canonicalURI=t:(pub("warn","Canonical URI set to TR, but no shortName is set in configuration"),e.canonicalURI=null);break;default:if(e.canonicalURI)try{e.canonicalURI=new URL(e.canonicalURI,document.location.href).href}catch(t){pub("warn",`CanonicalURI is an invalid URL: ${t.message}`),e.canonicalURI=null}else t&&(e.canonicalURI=t)}if(e.canonicalURI){const t=document.createElement("link");t.setAttribute("rel","canonical"),t.setAttribute("href",e.canonicalURI),document.head.appendChild(t)}e.doJsonLd&&await addJSONLDInfo(e,document)}async function addJSONLDInfo(e,t){const n=["TechArticle"];e.rdfStatus&&n.push(e.rdfStatus);const r={"@context":["http://schema.org",{"@vocab":"http://schema.org/","@language":t.documentElement.lang||"en",w3p:"http://www.w3.org/2001/02pd/rec54#",foaf:"http://xmlns.com/foaf/0.1/",datePublished:{"@type":"http://www.w3.org/2001/XMLSchema#date"},inLanguage:{"@language":null},isBasedOn:{"@type":"@id"},license:{"@type":"@id"}}],id:e.canonicalURI||e.thisVersion,type:n,name:e.title,inLanguage:t.documentElement.lang||"en",license:e.licenseInfo.url,datePublished:e.dashDate,copyrightHolder:{name:"World Wide Web Consortium",url:"https://www.w3.org/"},discussionUrl:e.issueBase,alternativeHeadline:e.subtitle,isBasedOn:e.prevVersion};if(e.additionalCopyrightHolders){const t=Array.isArray(e.additionalCopyrightHolders)?e.additionalCopyrightHolders:[e.additionalCopyrightHolders];r.copyrightHolder=[r.copyrightHolder,...t.map(e=>({name:e}))]}const o=t.head.querySelector("meta[name=description]");o&&(r.description=o.content),e.editors&&(r.editor=e.editors.map(addPerson)),e.authors&&(r.contributor=e.authors.map(addPerson));const i=[...e.normativeReferences,...e.informativeReferences],a=await Promise.all(i.map(e=>resolveRef(e)));r.citation=a.filter(e=>"object"==typeof e).map(addRef);const s=t.createElement("script");s.type="application/ld+json",s.textContent=JSON.stringify(r,null,2),t.head.appendChild(s)}function addPerson({name:e,url:t,mailto:n,company:r,companyURL:o}){const i={type:"Person",name:e,url:t,"foaf:mbox":n};return(r||o)&&(i.worksFor={name:r,url:o}),i}function addRef(e){const{href:t,title:n,href:r}=e,o={id:t,type:"TechArticle",name:n,url:r};return e.authors&&(o.creator=e.authors.map(e=>({name:e}))),e.rawDate&&(o.publishedDate=e.rawDate),e.isbn&&(o.identifier=e.isbn),e.publisher&&(o.publisher={name:e.publisher}),o}var seo$1=Object.freeze({__proto__:null,name:name$O,run:run$C});const name$P="core/worker",hint={hint:"preload",href:"https://www.w3.org/Tools/respec/respec-highlight.js",as:"script"},link$1=createResourceHint(hint);async function loadWorkerScript(){try{return(await Promise.resolve().then((function(){return respecWorker$1}))).default}catch{return fetchBase("worker/respec-worker.js")}}async function createWorker(){const e=await loadWorkerScript(),t=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));return new Worker(t)}document.head.appendChild(link$1);const workerPromise=createWorker();expose(name$P,workerPromise.then(e=>({worker:e})));const name$Q="core/highlight",nextMsgId=msgIdGenerator("highlight"),ghCssPromise=loadStyle$7();async function loadStyle$7(){try{return(await Promise.resolve().then((function(){return github$3}))).default}catch{return fetchAsset("github.css")}}function getLanguageHint(e){return Array.from(e).filter(e=>"highlight"!==e&&"nolinks"!==e).map(e=>e.toLowerCase())}async function highlightElement(e){e.setAttribute("aria-busy","true");const t=getLanguageHint(e.classList);let n;try{n=await sendHighlightRequest(e.innerText,t)}catch(e){return void console.error(e)}const{language:r,value:o}=n;switch(e.localName){case"pre":e.classList.remove(r),e.innerHTML=`<code class="hljs${r?` ${r}`:""}">${o}</code>`,e.classList.length||e.removeAttribute("class");break;case"code":e.innerHTML=o,e.classList.add("hljs"),r&&e.classList.add(r)}e.setAttribute("aria-busy","false")}async function sendHighlightRequest(e,t){const n={action:"highlight",code:e,id:nextMsgId(),languages:t},r=await workerPromise;return r.postMessage(n),new Promise((e,t)=>{const o=setTimeout(()=>{t(new Error("Timed out waiting for highlight."))},4e3);r.addEventListener("message",(function t(i){const{data:{id:a,language:s,value:c}}=i;a===n.id&&(r.removeEventListener("message",t),clearTimeout(o),e({language:s,value:c}))}))})}async function run$D(e){if(e.noHighlightCSS)return;const t=[...document.querySelectorAll("\n    pre:not(.idl):not(.nohighlight) > code:not(.nohighlight),\n    pre:not(.idl):not(.nohighlight),\n    code.highlight\n  ")].filter(e=>"pre"!==e.localName||!e.querySelector("code"));if(!t.length)return;const n=t.filter(e=>e.textContent.trim()).map(highlightElement),r=await ghCssPromise;document.head.appendChild(hyperHTML$1`
      <style>
        ${r}
      </style>
    `),await Promise.all(n)}var highlight=Object.freeze({__proto__:null,name:name$Q,run:run$D});const name$R="core/webidl-clipboard",copyButtonPromise=createButton();async function loadSVG(){try{return(await Promise.resolve().then((function(){return clipboard$1}))).default}catch{return fetchAsset("clipboard.svg")}}async function createButton(){const e=document.createElement("button");return e.innerHTML=await loadSVG(),e.title="Copy IDL to clipboard",e.classList.add("respec-button-copy-paste","removeOnSave"),e}async function run$E(){const e=await copyButtonPromise;for(const t of document.querySelectorAll("pre.idl")){const n=e.cloneNode(!0);n.addEventListener("click",()=>{clipboardWriteText(t.textContent)}),t.prepend(n)}}function clipboardWriteText(e){return navigator.clipboard?navigator.clipboard.writeText(e):new Promise(t=>{document.addEventListener("copy",n=>{n.clipboardData.setData("text/plain",e),t()},{once:!0}),document.execCommand("copy")})}var webidlClipboard=Object.freeze({__proto__:null,name:name$R,run:run$E});const l10n$c={en:{missing_test_suite_uri:"Found tests in your spec, but missing '[`testSuiteURI`](https://github.com/w3c/respec/wiki/testSuiteURI)' in your ReSpec config.",tests:"tests",test:"test"}},name$S="core/data-tests",lang$k=lang in l10n$c?lang:"en";function toListItem(e){const t=[],[n]=new URL(e).pathname.split("/").reverse(),r=n.split(".");let[o]=r;if(r.find(e=>"https"===e)){const e=document.createElement("span");e.textContent="🔒",e.setAttribute("aria-label","requires a secure connection"),e.setAttribute("title","Test requires HTTPS"),o=o.replace(".https",""),t.push(e)}if(o.split(".").join("-").split("-").find(e=>"manual"===e)){const e=document.createElement("span");e.textContent="💪",e.setAttribute("aria-label","the test must be run manually"),e.setAttribute("title","Manual test"),o=o.replace("-manual",""),t.push(e)}return hyperHTML$1`
    <li>
      <a href="${e}">
        ${o}
      </a> ${t}
    </li>
  `}function run$F(e){const t=[...document.querySelectorAll("[data-tests]")].filter(e=>e.dataset.tests);if(t.length)if(e.testSuiteURI)for(const n of t){const t=toTestURLs(n.dataset.tests.split(/,/gm).map(e=>e.trim()),e.testSuiteURI);handleDuplicates(t,n);const r=toHTML$1(t);n.append(r)}else pub("error",l10n$c[lang$k].missing_test_suite_uri)}function toTestURLs(e,t){return e.map(e=>{try{return new URL(e,t).href}catch{pub("warn",`${l10n$c[lang$k].bad_uri}: ${e}`)}}).filter(e=>e)}function handleDuplicates(e,t){const n=e.filter((e,t,n)=>n.indexOf(e)!==t);n.length&&showInlineWarning(t,"Duplicate tests found",`To fix, remove duplicates from "data-tests": ${n.map(e=>new URL(e).pathname).join(", ")}`)}function toHTML$1(e){const t=[...new Set(e)];return hyperHTML$1`
    <details class="respec-tests-details removeOnSave">
      <summary>
        tests: ${t.length}
      </summary>
      <ul>${t.map(toListItem)}</ul>
    </details>
  `}var dataTests=Object.freeze({__proto__:null,name:name$S,run:run$F});const name$T="core/list-sorter";function makeSorter(e){return({textContent:t},{textContent:n})=>"ascending"===e?t.localeCompare(n):n.localeCompare(t)}function sortListItems(e,t){return[...children(e,"li")].sort(makeSorter(t)).reduce((e,t)=>(e.appendChild(t),e),document.createDocumentFragment())}function sortDefinitionTerms(e,t){return[...children(e,"dt")].sort(makeSorter(t)).reduce((e,t)=>{const{nodeType:n,nodeName:r}=t,o=document.createDocumentFragment();let{nextSibling:i}=t;for(;i&&i.nextSibling;){o.appendChild(i.cloneNode(!0));const{nodeType:e,nodeName:t}=i.nextSibling;if(e===n&&t===r)break;i=i.nextSibling}return o.prepend(t.cloneNode(!0)),e.appendChild(o),e},document.createDocumentFragment())}function run$G(){const e=document.querySelectorAll("[data-sort]");for(const t of e){let e;const n=t.dataset.sort||"ascending";switch(t.localName){case"dl":e=sortDefinitionTerms(t,n);break;case"ol":case"ul":e=sortListItems(t,n);break;default:pub("warning",`ReSpec can't sort ${t.localName} elements.`)}if(e){const n=document.createRange();n.selectNodeContents(t),n.deleteContents(),t.appendChild(e)}}}var listSorter=Object.freeze({__proto__:null,name:name$T,sortListItems:sortListItems,sortDefinitionTerms:sortDefinitionTerms,run:run$G});const name$U="core/highlight-vars",hlVarsPromise=loadStyle$8();async function loadStyle$8(){try{return(await Promise.resolve().then((function(){return _var$1}))).default}catch{return fetchAsset("var.css")}}async function run$H(e){if(!e.highlightVars)return;const t=document.createElement("style");t.textContent=await hlVarsPromise,t.classList.add("removeOnSave"),document.head.appendChild(t),document.querySelectorAll("var").forEach(e=>e.addEventListener("click",highlightListener)),sub("beforesave",e=>{e.querySelectorAll("var.respec-hl").forEach(removeHighlight)})}function highlightListener(e){e.stopPropagation();const{target:t}=e,n=highlightVars(t),r=()=>{const e=getHighlightColor(t);n.forEach(t=>removeHighlight(t,e)),[...HL_COLORS.keys()].forEach(e=>HL_COLORS.set(e,!0))};n.length&&document.body.addEventListener("click",r,{once:!0})}const HL_COLORS=new Map([["respec-hl-c1",!0],["respec-hl-c2",!0],["respec-hl-c3",!0],["respec-hl-c4",!0],["respec-hl-c5",!0],["respec-hl-c6",!0],["respec-hl-c7",!0]]);function getHighlightColor(e){const{value:t}=e.classList,n=/respec-hl-\w+/,r=n.test(t)&&t.match(n);return r?r[0]:!0===HL_COLORS.get("respec-hl-c1")?"respec-hl-c1":[...HL_COLORS.keys()].find(e=>HL_COLORS.get(e))||"respec-hl-c1"}function highlightVars(e){const t=e.textContent.trim(),n=e.closest("section"),r=getHighlightColor(e),o=[...n.querySelectorAll("var")].filter(e=>e.textContent.trim()===t&&e.closest("section")===n),i=o[0].classList.contains("respec-hl");return HL_COLORS.set(r,i),i?(o.forEach(e=>removeHighlight(e,r)),[]):(o.forEach(e=>addHighlight(e,r)),o)}function removeHighlight(e,t){e.classList.remove("respec-hl",t),e.classList.length||e.removeAttribute("class")}function addHighlight(e,t){e.classList.add("respec-hl",t)}var highlightVars$1=Object.freeze({__proto__:null,name:name$U,run:run$H});const name$V="core/data-type",tooltipStylePromise=loadStyle$9();async function loadStyle$9(){try{return(await Promise.resolve().then((function(){return datatype$1}))).default}catch{return fetchAsset("datatype.css")}}async function run$I(e){if(!e.highlightVars)return;const t=document.createElement("style");t.textContent=await tooltipStylePromise,document.head.appendChild(t);let n=null;const r=new Map,o=document.querySelectorAll("section var");for(const e of o){const t=e.closest("section");if(n!==t&&(n=t,r.clear()),e.dataset.type){r.set(e.textContent.trim(),e.dataset.type);continue}const o=r.get(e.textContent.trim());o&&(e.dataset.type=o)}}var dataType=Object.freeze({__proto__:null,name:name$V,run:run$I});const name$W="core/algorithms",cssPromise$3=loadStyle$a();async function loadStyle$a(){try{return(await Promise.resolve().then((function(){return algorithms$2}))).default}catch{return fetchAsset("algorithms.css")}}async function run$J(){if(Array.from(document.querySelectorAll("ol.algorithm li")).filter(e=>e.textContent.trim().startsWith("Assert: ")).forEach(e=>e.classList.add("assert")),document.querySelector(".assert")){const e=document.createElement("style");e.textContent=await cssPromise$3,document.head.appendChild(e)}}var algorithms=Object.freeze({__proto__:null,name:name$W,run:run$J});const name$X="core/anchor-expander";function run$K(){const e=[...document.querySelectorAll("a[href^='#']:not(.self-link):not([href$='the-empty-string'])")].filter(e=>""===e.textContent.trim());for(const t of e){const e=t.getAttribute("href").slice(1),n=document.getElementById(e);if(n){switch(n.localName){case"h6":case"h5":case"h4":case"h3":case"h2":processHeading(n,t);break;case"section":processSection(n,e,t);break;case"figure":processFigure(n,e,t);break;case"aside":case"div":processBox(n,e,t);break;default:t.textContent=t.getAttribute("href"),showInlineError(t,"ReSpec doesn't support expanding this kind of reference.",`Can't expand "#${e}".`)}localize(n,t),t.normalize()}else{t.textContent=t.getAttribute("href"),showInlineError(t,`Couldn't expand inline reference. The id "${e}" is not in the document.`,`No matching id in document: ${e}.`)}}}function processBox(e,t,n){const r=e.querySelector(".marker .self-link");if(!r){return n.textContent=n.getAttribute("href"),void showInlineError(n,`Found matching element "${t}", but it has no title or marker.`,"Missing title.")}const o=makeSafeCopy(r);n.append(...o.childNodes),n.classList.add("box-ref")}function processFigure(e,t,n){const r=e.querySelector("figcaption");if(!r){return n.textContent=n.getAttribute("href"),void showInlineError(n,`Found matching figure "${t}", but figure is lacking a \`<figcaption>\`.`,"Missing figcaption in referenced figure.")}const o=[...makeSafeCopy(r).childNodes].filter(e=>!e.classList||!e.classList.contains("fig-title"));o.pop(),n.append(...o),n.classList.add("fig-ref");const i=r.querySelector(".fig-title");!n.hasAttribute("title")&&i&&(n.title=norm(i.textContent))}function processSection(e,t,n){const r=e.querySelector("h6, h5, h4, h3, h2");if(!r){return n.textContent=n.getAttribute("href"),void showInlineError(n,"Found matching section, but the section was lacking a heading element.",`No matching id in document: "${t}".`)}processHeading(r,n),localize(r,n)}function processHeading(e,t){const n=e.querySelector(".self-link"),r=[...makeSafeCopy(e).childNodes].filter(e=>!e.classList||!e.classList.contains("self-link"));t.append(...r),n&&t.prepend("§ "),t.classList.add("sec-ref")}function localize(e,t){for(const n of["dir","lang"]){if(t.hasAttribute(n))continue;const r=e.closest(`[${n}]`);if(!r)continue;const o=t.closest(`[${n}]`);o&&o.getAttribute(n)===r.getAttribute(n)||t.setAttribute(n,r.getAttribute(n))}}var anchorExpander=Object.freeze({__proto__:null,name:name$X,run:run$K});const name$Y="rs-changelog",element=class extends HTMLElement{constructor(){super(),this.props={from:this.getAttribute("from"),to:this.getAttribute("to")||"HEAD",filter:"function"==typeof window[this.getAttribute("filter")]?window[this.getAttribute("filter")]:()=>!0}}connectedCallback(){const{from:e,to:t,filter:n}=this.props;hyperHTML$1.bind(this)`
      <ul>
      ${{any:fetchCommits(e,t,n).then(e=>toHTML$2(e)).catch(e=>showInlineError(this,e.message,e.message)).finally(()=>{this.dispatchEvent(new CustomEvent("done"))}),placeholder:"Loading list of commits..."}}
      </ul>
    `}};async function fetchCommits(e,t,n){let r;try{const o=await github;if(!o)throw new Error("`respecConfig.github` is not set");const i=new URL("commits",`${o.apiBase}/${o.fullName}/`);i.searchParams.set("from",e),i.searchParams.set("to",t);const a=await fetch(i.href);if(!a.ok)throw new Error(`Request to ${i} failed with status code ${a.status}`);if(!(r=await a.json()).length)throw new Error(`No commits between ${e}..${t}.`);r=r.filter(n)}catch(e){const t=`Error loading commits from GitHub. ${e.message}`;throw console.error(e),new Error(t)}return r}async function toHTML$2(e){const{repoURL:t}=await github;return e.map(e=>{const[n,r=null]=e.message.split(/\(#(\d+)\)/,2),o=`${t}commit/${e.hash}`,i=r&&hyperHTML$1` (<a href="${r?`${t}pull/${r}`:null}">#${r}</a>)`;return hyperHTML$1`<li><a href="${o}">${n.trim()}</a>${i}</li>`})}var changelog=Object.freeze({__proto__:null,name:name$Y,element:element});const CUSTOM_ELEMENTS=[changelog],name$Z="core/custom-elements";async function run$L(){CUSTOM_ELEMENTS.forEach(e=>{customElements.define(e.name,e.element)});const e=CUSTOM_ELEMENTS.map(e=>e.name).join(", "),t=[...document.querySelectorAll(e)].map(e=>new Promise(t=>e.addEventListener("done",t,{once:!0})));await Promise.all(t)}var index=Object.freeze({__proto__:null,name:name$Z,run:run$L}),ui$2='#respec-ui {\n  position: fixed;\n  display: flex;\n  flex-direction: row-reverse;\n  top: 20px;\n  right: 20px;\n  width: 202px;\n  text-align: right;\n  z-index: 9000;\n}\n\n#respec-pill,\n.respec-info-button {\n  background: #fff;\n  height: 2.5em;\n  color: rgb(120, 120, 120);\n  border: 1px solid #ccc;\n  box-shadow: 1px 1px 8px 0 rgba(100, 100, 100, 0.5);\n}\n\n.respec-info-button {\n  border: none;\n  opacity: 0.75;\n  border-radius: 2em;\n  margin-right: 1em;\n  min-width: 3.5em;\n}\n\n.respec-info-button:focus,\n.respec-info-button:hover {\n  opacity: 1;\n  transition: opacity 0.2s;\n}\n\n#respec-pill:disabled {\n  font-size: 2.8px;\n  text-indent: -9999em;\n  border-top: 1.1em solid rgba(40, 40, 40, 0.2);\n  border-right: 1.1em solid rgba(40, 40, 40, 0.2);\n  border-bottom: 1.1em solid rgba(40, 40, 40, 0.2);\n  border-left: 1.1em solid #ffffff;\n  transform: translateZ(0);\n  animation: respec-spin 0.5s infinite linear;\n  box-shadow: none;\n}\n\n#respec-pill:disabled,\n#respec-pill:disabled:after {\n  border-radius: 50%;\n  width: 10em;\n  height: 10em;\n}\n\n@keyframes respec-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.respec-hidden {\n  visibility: hidden;\n  opacity: 0;\n  transition: visibility 0s 0.2s, opacity 0.2s linear;\n}\n\n.respec-visible {\n  visibility: visible;\n  opacity: 1;\n  transition: opacity 0.2s linear;\n}\n\n#respec-pill:hover,\n#respec-pill:focus {\n  color: rgb(0, 0, 0);\n  background-color: rgb(245, 245, 245);\n  transition: color 0.2s;\n}\n\n#respec-menu {\n  position: absolute;\n  margin: 0;\n  padding: 0;\n  font-family: sans-serif;\n  background: #fff;\n  box-shadow: 1px 1px 8px 0 rgba(100, 100, 100, 0.5);\n  width: 200px;\n  display: none;\n  text-align: left;\n  margin-top: 32px;\n  font-size: 0.8em;\n}\n\n#respec-menu:not([hidden]) {\n  display: block;\n}\n\n#respec-menu li {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n\n.respec-save-buttons {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(47%, 2fr));\n  grid-gap: 0.5cm;\n  padding: 0.5cm;\n}\n\n.respec-save-button:link {\n  padding-top: 16px;\n  color: rgb(240, 240, 240);\n  background: rgb(42, 90, 168);\n  justify-self: stretch;\n  height: 1cm;\n  text-decoration: none;\n  text-align: center;\n  font-size: inherit;\n  border: none;\n  border-radius: 0.2cm;\n}\n\n.respec-save-button:link:hover {\n  color: white;\n  background: rgb(42, 90, 168);\n  padding: 0;\n  margin: 0;\n  border: 0;\n  padding-top: 16px;\n}\n\n#respec-ui button:focus,\n#respec-pill:focus,\n.respec-option:focus {\n  outline: 0;\n  outline-style: none;\n}\n\n#respec-pill-error {\n  background-color: red;\n  color: white;\n}\n\n#respec-pill-warning {\n  background-color: orange;\n  color: white;\n}\n\n.respec-warning-list,\n.respec-error-list {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  font-family: sans-serif;\n  background-color: rgb(255, 251, 230);\n  font-size: 0.85em;\n}\n\n.respec-warning-list > li,\n.respec-error-list > li {\n  padding: 0.4em 0.7em;\n}\n\n.respec-warning-list > li::before {\n  content: "⚠️";\n  padding-right: 0.5em;\n}\n.respec-warning-list p,\n.respec-error-list p {\n  padding: 0;\n  margin: 0;\n}\n\n.respec-warning-list li {\n  color: rgb(92, 59, 0);\n  border-bottom: thin solid rgb(255, 245, 194);\n}\n\n.respec-error-list,\n.respec-error-list li {\n  background-color: rgb(255, 240, 240);\n}\n\n.respec-error-list li::before {\n  content: "💥";\n  padding-right: 0.5em;\n}\n\n.respec-error-list li {\n  padding: 0.4em 0.7em;\n  color: rgb(92, 59, 0);\n  border-bottom: thin solid rgb(255, 215, 215);\n}\n\n.respec-error-list li > p {\n  margin: 0;\n  padding: 0;\n  display: inline-block;\n}\n\n#respec-overlay {\n  display: block;\n  position: fixed;\n  z-index: 10000;\n  top: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100%;\n  background: #000;\n}\n\n.respec-show-overlay {\n  transition: opacity 0.2s linear;\n  opacity: 0.5;\n}\n\n.respec-hide-overlay {\n  transition: opacity 0.2s linear;\n  opacity: 0;\n}\n\n.respec-modal {\n  display: block;\n  position: fixed;\n  z-index: 11000;\n  margin: auto;\n  top: 10%;\n  background: #fff;\n  border: 5px solid #666;\n  min-width: 20%;\n  width: 79%;\n  padding: 0;\n  max-height: 80%;\n  overflow-y: auto;\n  margin: 0 -0.5cm;\n}\n\n@media screen and (min-width: 78em) {\n  .respec-modal {\n    width: 62%;\n  }\n}\n\n.respec-modal h3 {\n  margin: 0;\n  padding: 0.2em;\n  text-align: center;\n  color: black;\n  background: linear-gradient(\n    to bottom,\n    rgba(238, 238, 238, 1) 0%,\n    rgba(238, 238, 238, 1) 50%,\n    rgba(204, 204, 204, 1) 100%\n  );\n  font-size: 1em;\n}\n\n.respec-modal .inside div p {\n  padding-left: 1cm;\n}\n\n#respec-menu button.respec-option {\n  background: white;\n  padding: 0 0.2cm;\n  border: none;\n  width: 100%;\n  text-align: left;\n  font-size: inherit;\n  padding: 1.2em 1.2em;\n}\n\n#respec-menu button.respec-option:hover,\n#respec-menu button:focus {\n  background-color: #eeeeee;\n}\n\n.respec-cmd-icon {\n  padding-right: 0.5em;\n}\n\n#respec-ui button.respec-option:last-child {\n  border: none;\n  border-radius: inherit;\n}\n\n.respec-button-copy-paste {\n  position: absolute;\n  height: 28px;\n  width: 40px;\n  cursor: pointer;\n  background-image: linear-gradient(#fcfcfc, #eee);\n  border: 1px solid rgb(144, 184, 222);\n  border-left: 0;\n  border-radius: 0px 0px 3px 0;\n  -webkit-user-select: none;\n  user-select: none;\n  -webkit-appearance: none;\n  top: 0;\n  left: 127px;\n}\n\n#specref-ui {\n  margin: 0 2%;\n  margin-bottom: 0.5cm;\n}\n\n#specref-ui header {\n  font-size: 0.7em;\n  background-color: #eee;\n  text-align: center;\n  padding: 0.2cm;\n  margin-bottom: 0.5cm;\n  border-radius: 0 0 0.2cm 0.2cm;\n}\n\n#specref-ui header h1 {\n  padding: 0;\n  margin: 0;\n  color: black;\n}\n\n#specref-ui p {\n  padding: 0;\n  margin: 0;\n  font-size: 0.8em;\n  text-align: center;\n}\n\n#specref-ui p.state {\n  margin: 1cm;\n}\n\n#specref-ui .searchcomponent {\n  font-size: 16px;\n  display: grid;\n  grid-template-columns: auto 2cm;\n}\n#specref-ui .searchcomponent:focus {\n}\n\n#specref-ui input,\n#specref-ui button {\n  border: 0;\n  padding: 6px 12px;\n}\n\n#specref-ui label {\n  font-size: 0.6em;\n  grid-column-end: 3;\n  text-align: right;\n  grid-column-start: 1;\n}\n\n#specref-ui input[type="search"] {\n  -webkit-appearance: none;\n  font-size: 16px;\n  border-radius: 0.1cm 0 0 0.1cm;\n  border: 1px solid rgb(204, 204, 204);\n}\n\n#specref-ui button[type="submit"] {\n  color: white;\n  border-radius: 0 0.1cm 0.1cm 0;\n  background-color: rgb(51, 122, 183);\n}\n\n#specref-ui button[type="submit"]:hover {\n  background-color: #286090;\n  border-color: #204d74;\n}\n\n#specref-ui .result-stats {\n  margin: 0;\n  padding: 0;\n  color: rgb(128, 128, 128);\n  font-size: 0.7em;\n  font-weight: bold;\n}\n\n#specref-ui .specref-results {\n  font-size: 0.8em;\n}\n\n#specref-ui .specref-results dd + dt {\n  margin-top: 0.51cm;\n}\n\n#specref-ui .specref-results a {\n  text-transform: capitalize;\n}\n#specref-ui .specref-results .authors {\n  display: block;\n  color: #006621;\n}\n\n@media print {\n  #respec-ui {\n    display: none;\n  }\n}\n\n#xref-ui {\n  width: 100%;\n  min-height: 550px;\n  height: 100%;\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n  border: 0;\n}\n\n#xref-ui:not(.ready) {\n  background: url("https://respec.org/xref/loader.gif") no-repeat center;\n}\n',ui$3=Object.freeze({__proto__:null,default:ui$2}),respec2='/*****************************************************************\n * ReSpec 3 CSS\n * Robin Berjon - http://berjon.com/\n *****************************************************************/\n\n@keyframes pop {\n  0% {\n    transform: scale(1, 1);\n  }\n  25% {\n    transform: scale(1.25, 1.25);\n    opacity: 0.75;\n  }\n  100% {\n    transform: scale(1, 1);\n  }\n}\n\n/* Override code highlighter background */\n.hljs {\n  background: transparent !important;\n}\n\n/* --- INLINES --- */\nh1 abbr,\nh2 abbr,\nh3 abbr,\nh4 abbr,\nh5 abbr,\nh6 abbr,\na abbr {\n  border: none;\n}\n\ndfn {\n  font-weight: bold;\n}\n\na.internalDFN {\n  color: inherit;\n  border-bottom: 1px solid #99c;\n  text-decoration: none;\n}\n\na.externalDFN {\n  color: inherit;\n  border-bottom: 1px dotted #ccc;\n  text-decoration: none;\n}\n\na.bibref {\n  text-decoration: none;\n}\n\n.respec-offending-element:target {\n  animation: pop 0.25s ease-in-out 0s 1;\n}\n\n.respec-offending-element,\na[href].respec-offending-element {\n  text-decoration: red wavy underline;\n}\n@supports not (text-decoration: red wavy underline) {\n  .respec-offending-element:not(pre) {\n    display: inline-block;\n  }\n  .respec-offending-element {\n    /* Red squiggly line */\n    background: url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=)\n      bottom repeat-x;\n  }\n}\n\n#references :target {\n  background: #eaf3ff;\n  animation: pop 0.4s ease-in-out 0s 1;\n}\n\ncite .bibref {\n  font-style: normal;\n}\n\ncode {\n  color: #c83500;\n}\n\nth code {\n  color: inherit;\n}\n\na[href].orcid {\n    padding-left: 4px;\n    padding-right: 4px;\n}\n\na[href].orcid > svg {\n    margin-bottom: -2px;\n}\n\n/* --- TOC --- */\n\n.toc a,\n.tof a {\n  text-decoration: none;\n}\n\na .secno,\na .figno {\n  color: #000;\n}\n\nul.tof,\nol.tof {\n  list-style: none outside none;\n}\n\n.caption {\n  margin-top: 0.5em;\n  font-style: italic;\n}\n\n/* --- TABLE --- */\n\ntable.simple {\n  border-spacing: 0;\n  border-collapse: collapse;\n  border-bottom: 3px solid #005a9c;\n}\n\n.simple th {\n  background: #005a9c;\n  color: #fff;\n  padding: 3px 5px;\n  text-align: left;\n}\n\n.simple th a {\n  color: #fff;\n  padding: 3px 5px;\n  text-align: left;\n}\n\n.simple th[scope="row"] {\n  background: inherit;\n  color: inherit;\n  border-top: 1px solid #ddd;\n}\n\n.simple td {\n  padding: 3px 10px;\n  border-top: 1px solid #ddd;\n}\n\n.simple tr:nth-child(even) {\n  background: #f0f6ff;\n}\n\n/* --- DL --- */\n\n.section dd > p:first-child {\n  margin-top: 0;\n}\n\n.section dd > p:last-child {\n  margin-bottom: 0;\n}\n\n.section dd {\n  margin-bottom: 1em;\n}\n\n.section dl.attrs dd,\n.section dl.eldef dd {\n  margin-bottom: 0;\n}\n\n#issue-summary > ul,\n.respec-dfn-list {\n  column-count: 2;\n}\n\n#issue-summary li,\n.respec-dfn-list li {\n  list-style: none;\n}\n\ndetails.respec-tests-details {\n  margin-left: 1em;\n  display: inline-block;\n  vertical-align: top;\n}\n\ndetails.respec-tests-details > * {\n  padding-right: 2em;\n}\n\ndetails.respec-tests-details[open] {\n  z-index: 999999;\n  position: absolute;\n  border: thin solid #cad3e2;\n  border-radius: 0.3em;\n  background-color: white;\n  padding-bottom: 0.5em;\n}\n\ndetails.respec-tests-details[open] > summary {\n  border-bottom: thin solid #cad3e2;\n  padding-left: 1em;\n  margin-bottom: 1em;\n  line-height: 2em;\n}\n\ndetails.respec-tests-details > ul {\n  width: 100%;\n  margin-top: -0.3em;\n}\n\ndetails.respec-tests-details > li {\n  padding-left: 1em;\n}\n\na[href].self-link:hover {\n  opacity: 1;\n  text-decoration: none;\n  background-color: transparent;\n}\n\nh2,\nh3,\nh4,\nh5,\nh6 {\n  position: relative;\n}\n\naside.example .marker > a.self-link {\n  color: inherit;\n}\n\nh2 > a.self-link,\nh3 > a.self-link,\nh4 > a.self-link,\nh5 > a.self-link,\nh6 > a.self-link {\n  border: none;\n  color: inherit;\n  font-size: 83%;\n  height: 2em;\n  left: -1.6em;\n  opacity: 0.5;\n  position: absolute;\n  text-align: center;\n  text-decoration: none;\n  top: 0;\n  transition: opacity 0.2s;\n  width: 2em;\n}\n\nh2 > a.self-link::before,\nh3 > a.self-link::before,\nh4 > a.self-link::before,\nh5 > a.self-link::before,\nh6 > a.self-link::before {\n  content: "§";\n  display: block;\n}\n\n@media (max-width: 767px) {\n  dd {\n    margin-left: 0;\n  }\n\n  /* Don\'t position self-link in headings off-screen */\n  h2 > a.self-link,\n  h3 > a.self-link,\n  h4 > a.self-link,\n  h5 > a.self-link,\n  h6 > a.self-link {\n    left: auto;\n    top: auto;\n  }\n}\n\n@media print {\n  .removeOnSave {\n    display: none;\n  }\n}\n',respec2$1=Object.freeze({__proto__:null,default:respec2}),examples$1="/* --- EXAMPLES --- */\nspan.example-title {\n    text-transform: none;\n}\naside.example, div.example, div.illegal-example {\n    padding: 0.5em;\n    margin: 1em 0;\n    position: relative;\n    clear: both;\n}\ndiv.illegal-example { color: red }\ndiv.illegal-example p { color: black }\naside.example, div.example {\n    padding: .5em;\n    border-left-width: .5em;\n    border-left-style: solid;\n    border-color: #e0cb52;\n    background: #fcfaee;\n}\n\naside.example div.example {\n    border-left-width: .1em;\n    border-color: #999;\n    background: #fff;\n}\naside.example div.example span.example-title {\n    color: #999;\n}\n",examples$2=Object.freeze({__proto__:null,default:examples$1}),issuesNotes$1='/* --- ISSUES/NOTES --- */\n.issue-label {\n    text-transform: initial;\n}\n\n.warning > p:first-child { margin-top: 0 }\n.warning {\n    padding: .5em;\n    border-left-width: .5em;\n    border-left-style: solid;\n}\nspan.warning { padding: .1em .5em .15em; }\n\n.issue.closed span.issue-number {\n    text-decoration: line-through;\n}\n\n.warning {\n    border-color: #f11;\n    border-width: .2em;\n    border-style: solid;\n    background: #fbe9e9;\n}\n\n.warning-title:before{\n    content: "⚠"; /*U+26A0 WARNING SIGN*/\n    font-size: 1.3em;\n    float: left;\n    padding-right: .3em;\n    margin-top: -0.3em;\n}\n\nli.task-list-item {\n    list-style: none;\n}\n\ninput.task-list-item-checkbox {\n    margin: 0 0.35em 0.25em -1.6em;\n    vertical-align: middle;\n}\n\n.issue a.respec-gh-label {\n  padding: 5px;\n  margin: 0 2px 0 2px;\n  font-size: 10px;\n  text-transform: none;\n  text-decoration: none;\n  font-weight: bold;\n  border-radius: 4px;\n  position: relative;\n  bottom: 2px;\n  border: none;\n}\n\n.issue a.respec-label-dark {\n  color: #fff;\n  background-color: #000;\n}\n\n.issue a.respec-label-light {\n  color: #000;\n  background-color: #fff;\n}\n',issuesNotes$2=Object.freeze({__proto__:null,default:issuesNotes$1}),webidl$1='/* --- WEB IDL --- */\n\npre.idl {\n  padding: 1em;\n  position: relative;\n}\n\n@media print {\n  pre.idl {\n    white-space: pre-wrap;\n  }\n}\n\npre.idl::before {\n  content: "WebIDL";\n  display: block;\n  width: 150px;\n  background: #90b8de;\n  color: #fff;\n  font-family: sans-serif;\n  font-weight: bold;\n  margin: -1em 0 1em -1em;\n  height: 28px;\n  line-height: 28px;  \n}\n\n.idlID {\n  font-weight: bold;\n  color: #005a9c;\n}\n\n.idlType {\n  color: #005a9c;\n}\n\n.idlName {\n  color: #ff4500;\n}\n\n.idlName a {\n  color: #ff4500;\n  border-bottom: 1px dotted #ff4500;\n  text-decoration: none;\n}\n\na.idlEnumItem {\n  color: #000;\n  border-bottom: 1px dotted #ccc;\n  text-decoration: none;\n}\n\n.idlSuperclass {\n  font-style: italic;\n  color: #005a9c;\n}\n\n\n/*.idlParam*/\n\n.idlParamName,\n.idlDefaultValue {\n  font-style: italic;\n}\n\n.extAttr {\n  color: #666;\n}\n\n\n/*.idlSectionComment*/\n\n.idlSectionComment {\n  color: gray;\n}\n\n.idlIncludes a {\n  font-weight: bold;\n}\n\n.respec-button-copy-paste:focus {\n  text-decoration: none;\n  border-color: #51a7e8;\n  outline: none;\n  box-shadow: 0 0 5px rgba(81, 167, 232, 0.5);\n}\n\n.respec-button-copy-paste:focus:hover,\n.respec-button-copy-paste.selected:focus {\n  border-color: #51a7e8;\n}\n\n.respec-button-copy-paste:hover,\n.respec-button-copy-paste:active,\n.respec-button-copy-paste.zeroclipboard-is-hover,\n.respec-button-copy-paste.zeroclipboard-is-active {\n  text-decoration: none;\n  background-color: #ddd;\n  background-image: linear-gradient(#eee, #ddd);\n  border-color: #ccc;\n}\n\n.respec-button-copy-paste:active,\n.respec-button-copy-paste.selected,\n.respec-button-copy-paste.zeroclipboard-is-active {\n  background-color: #dcdcdc;\n  background-image: none;\n  border-color: #b5b5b5;\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15)\n}\n\n.respec-button-copy-paste.selected:hover {\n  background-color: #cfcfcf;\n}\n\n.respec-button-copy-paste:disabled,\n.respec-button-copy-paste:disabled:hover,\n.respec-button-copy-paste.disabled,\n.respec-button-copy-paste.disabled:hover {\n  color: rgba(102, 102, 102, 0.5);\n  cursor: default;\n  background-color: rgba(229, 229, 229, 0.5);\n  background-image: none;\n  border-color: rgba(197, 197, 197, 0.5);\n  box-shadow: none;\n}\n\n@media print {\n  .respec-button-copy-paste {\n    visibility: hidden;\n  }\n}\n',webidl$2=Object.freeze({__proto__:null,default:webidl$1}),caniuse$1='/* container for stats */\n.caniuse-stats {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: baseline;\n  cursor: pointer;\n}\n\nbutton.caniuse-cell {\n  margin: 1px 1px 0 0;\n  border: none;\n}\n\n.caniuse-browser {\n  position: relative;\n}\n\n/* handle case when printing */\n@media print {\n  .caniuse-cell.y::before {\n    content: "✔️";\n    padding: 0.5em;\n  }\n\n  .caniuse-cell.n::before{\n    content: "❌";\n    padding: 0.5em;\n  }\n\n  .caniuse-cell.d::before,\n  .caniuse-cell.a::before,\n  .caniuse-cell.x::before,\n  .caniuse-cell.p::before {\n    content: "⚠️";\n    padding: 0.5em;\n  }\n}\n\n/* reset styles, hide old versions by default */\n.caniuse-browser ul {\n  display: none;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  position: absolute;\n  left: 0;\n  z-index: 2;\n  background: #fff;\n  margin-top: 1px;\n}\n\n.caniuse-stats a {\n  white-space: nowrap;\n  align-self: center;\n  margin-left: .5em;\n}\n\n/* a browser version */\n.caniuse-cell {\n  display: flex;\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 90%;\n  height: 0.8cm;\n  margin-right: 1px;\n  margin-top: 0;\n  min-width: 3cm;\n  overflow: visible;\n  justify-content: center;\n  align-items: center;\n}\n\nli.caniuse-cell {\n  margin-bottom: 1px;\n}\n\n.caniuse-cell:focus {\n  outline: none;\n}\n\n.caniuse-cell:hover {\n  color: rgba(0, 0, 0, 1);\n}\n\n/* supports */\n.caniuse-cell.y {\n  background: #8bc34a;\n}\n\n/* no support */\n.caniuse-cell.n {\n  background: #e53935;\n}\n\n/* not supported by default / partial support etc\nsee https://github.com/Fyrd/caniuse/blob/master/CONTRIBUTING.md for stats */\n.caniuse-cell.d,\n.caniuse-cell.a,\n.caniuse-cell.x,\n.caniuse-cell.p {\n  background: #ffc107;\n}\n\n/* show rest of the browser versions */\n.caniuse-stats button:focus + ul,\n.caniuse-stats .caniuse-browser:hover > ul {\n  display: block;\n}\n',caniuse$2=Object.freeze({__proto__:null,default:caniuse$1}),mdnAnnotation$1='.mdn {\n  display: block;\n  font: 12px sans-serif;\n  position: absolute;\n  z-index: 9;\n  right: 0.3em;\n  background-color: #eee;\n  margin: -26px 0 0 0;\n  padding: 7px 5px 5px 6px;\n  min-width: 140px;\n  box-shadow: 0 0 3px #999;\n}\n\n.mdn button {\n  cursor: pointer;\n  border: none;\n  color: #000;\n  background: transparent;\n  margin: -8px;\n  outline: none;\n}\n\n.mdn b {\n  color: #fff;\n  background-color: #000;\n  font-weight: normal;\n  font-family: zillaslab, Palatino, "Palatino Linotype", serif;\n  padding: 2px 3px 0px 3px;\n  line-height: 1.3em;\n  vertical-align: top;\n}\n\n.mdn > div > div {\n  display: inline-block;\n  margin-left: 5px;\n}\n\n\n.nosupportdata {\n  font-style: italic;\n  margin-top: 4px;\n  margin-left: 8px;\n  padding-bottom: 8px;\n}\n\n.mdnsupport {\n  display: table;\n  margin-top: 4px;\n}\n\n.mdnsupport > span {\n  display: table-row;\n  padding: 0.2em 0;\n  padding-top: 0.2em;\n  font-size: 9.6px;\n}\n\n.mdnsupport > span > span {\n  display: table-cell;\n  padding: 0 0.5em;\n  vertical-align: top;\n  line-height: 1.5em;\n}\n\n.mdnsupport > span > span:last-child {\n  text-align: right;\n  padding: 0;\n}\n\n.mdnsupport > span.no {\n  color: #cccccc;\n  filter: grayscale(100%);\n}\n\n.mdnsupport > span.unknown {\n  color: #cccccc;\n  filter: grayscale(100%);\n}\n\n.mdnsupport > span.no::before {\n  opacity: 0.5;\n}\n\n.mdnsupport > span.unknown::before {\n  opacity: 0.5;\n}\n\n.mdnsupport > span::before {\n  content: "";\n  display: table-cell;\n  min-width: 1.5em;\n  height: 1.5em;\n  background: no-repeat center center / contain;\n  text-align: right;\n  font-size: 0.75em;\n  font-weight: bold;\n}\n\n.mdnsupport > .chrome::before,\n.mdnsupport > .chrome_android::before {\n  background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);\n}\n\n.mdnsupport > .edge::before,\n.mdnsupport > .edge_mobile::before {\n  background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);\n}\n\n.mdnsupport > .firefox::before,\n.mdnsupport > .firefox_android::before {\n  background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);\n}\n\n.mdnsupport > .ie::before {\n  background-image: url(https://resources.whatwg.org/browser-logos/ie.png);\n}\n\n.mdnsupport > .opera::before,\n.mdnsupport > .opera_android::before {\n  background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);\n}\n\n.mdnsupport > .safari::before {\n  background-image: url(https://resources.whatwg.org/browser-logos/safari.png);\n}\n\n.mdnsupport > .safari_ios::before {\n  background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);\n}\n\n.mdnsupport > .samsunginternet_android::before {\n  background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);\n}\n\n.mdnsupport > .webview_android::before {\n  background-image: url(https://cdnjs.loli.net/ajax/libs/browser-logos/41.0.0/android-webview-beta/android-webview-beta_32x32.png);\n}\n\n.mdn.wrapped div:nth-child(n + 3) {\n  display: none;\n}\n\n.mdn div:nth-child(n + 3) > b {\n  color: #eee;\n  background-color: #eee;\n}\n\np + .mdn {\n  margin-top: -45px;\n}\n\n.mdn.before {\n  margin-top: 3em;\n}\n\nh2 + .mdn {\n  margin: -48px 0 0 0;\n}\n\nh3 + .mdn {\n  margin: -46px 0 0 0;\n}\n\nh4 + .mdn {\n  margin: -42px 0 0 0;\n}\n\nh5 + .mdn {\n  margin: -40px 0 0 0;\n}\n\nh6 + .mdn {\n  margin: -40px 0 0 0;\n}\n\n.mdn div {\n  margin: 0;\n}\n\n.mdn :link {\n  color: #0000ee;\n}\n\n.mdn :visited {\n  color: #551a8b;\n}\n\n.mdn :link:active,\n:visited:active {\n  color: #ff0000;\n}\n\n.mdn :link,\n:visited {\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n.mdn.wrapped {\n  min-width: 0px;\n}\n\n.mdn.wrapped > div > div {\n  display: none;\n}\n\n.mdn:hover {\n  z-index: 11;\n}\n\n.mdn:focus-within {\n  z-index: 11;\n}\n',mdnAnnotation$2=Object.freeze({__proto__:null,default:mdnAnnotation$1}),respecWorker='// ReSpec Worker v1.0.0\n"use strict";\ntry {\n  importScripts("https://www.w3.org/Tools/respec/respec-highlight.js");\n} catch (err) {\n  console.error("Network error loading highlighter", err);\n}\n\nself.addEventListener("message", ({ data: originalData }) => {\n  const data = Object.assign({}, originalData);\n  switch (data.action) {\n    case "highlight-load-lang": {\n      const { langURL, propName, lang } = data;\n      importScripts(langURL);\n      self.hljs.registerLanguage(lang, self[propName]);\n      break;\n    }\n    case "highlight": {\n      const { code } = data;\n      const langs = data.languages.length ? data.languages : undefined;\n      try {\n        const { value, language } = self.hljs.highlightAuto(code, langs);\n        Object.assign(data, { value, language });\n      } catch (err) {\n        console.error("Could not transform some code?", err);\n        // Post back the original code\n        Object.assign(data, { value: code, language: "" });\n      }\n      break;\n    }\n  }\n  self.postMessage(data);\n});\n',respecWorker$1=Object.freeze({__proto__:null,default:respecWorker}),github$2="/*\n\ngithub.com style (c) Vasily Polovnyov <vast@whiteants.net>\n\n*/\n\n.hljs {\n  display: block;\n  overflow-x: auto;\n  padding: 0.5em;\n  color: #333;\n  background: #f8f8f8;\n}\n\n.hljs-comment,\n.hljs-quote {\n  color: #998;\n  font-style: italic;\n}\n\n.hljs-keyword,\n.hljs-selector-tag,\n.hljs-subst {\n  color: #333;\n  font-weight: bold;\n}\n\n.hljs-number,\n.hljs-literal,\n.hljs-variable,\n.hljs-template-variable,\n.hljs-tag .hljs-attr {\n  color: #008080;\n}\n\n.hljs-string,\n.hljs-doctag {\n  color: #d14;\n}\n\n.hljs-title,\n.hljs-section,\n.hljs-selector-id {\n  color: #900;\n  font-weight: bold;\n}\n\n.hljs-subst {\n  font-weight: normal;\n}\n\n.hljs-type,\n.hljs-class .hljs-title {\n  color: #458;\n  font-weight: bold;\n}\n\n.hljs-tag,\n.hljs-name,\n.hljs-attribute {\n  color: #000080;\n  font-weight: normal;\n}\n\n.hljs-regexp,\n.hljs-link {\n  color: #009926;\n}\n\n.hljs-symbol,\n.hljs-bullet {\n  color: #990073;\n}\n\n.hljs-built_in,\n.hljs-builtin-name {\n  color: #0086b3;\n}\n\n.hljs-meta {\n  color: #999;\n  font-weight: bold;\n}\n\n.hljs-deletion {\n  background: #fdd;\n}\n\n.hljs-addition {\n  background: #dfd;\n}\n\n.hljs-emphasis {\n  font-style: italic;\n}\n\n.hljs-strong {\n  font-weight: bold;\n}\n",github$3=Object.freeze({__proto__:null,default:github$2}),clipboard='<svg height="16" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"/></svg>',clipboard$1=Object.freeze({__proto__:null,default:clipboard}),_var="var:hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\n\nvar.respec-hl {\n  color: var(--color, #000);\n  background-color: var(--bg-color);\n  box-shadow: 0 0 0px 2px var(--bg-color);\n}\n\n/* highlight colors\n  https://github.com/w3c/tr-design/issues/152\n*/\nvar.respec-hl-c1 {\n  --bg-color: #f4d200;\n}\n\nvar.respec-hl-c2 {\n  --bg-color: #ff87a2;\n}\n\nvar.respec-hl-c3 {\n  --bg-color: #96e885;\n}\n\nvar.respec-hl-c4 {\n  --bg-color: #3eeed2;\n}\n\nvar.respec-hl-c5 {\n  --bg-color: #eacfb6;\n}\n\nvar.respec-hl-c6 {\n  --bg-color: #82ddff;\n}\n\nvar.respec-hl-c7 {\n  --bg-color: #ffbcf2;\n}\n\n@media print {\n  var.respec-hl {\n    background: none;\n    color: #000;\n    box-shadow: unset;\n  }\n}\n",_var$1=Object.freeze({__proto__:null,default:_var}),datatype='var {\n  position: relative;\n  cursor: pointer;\n}\n\nvar[data-type]::before,\nvar[data-type]::after {\n  position: absolute;\n  left: 50%;\n  top: -6px;\n  opacity: 0;\n  transition: opacity 0.4s;\n  pointer-events: none;\n}\n\n/* the triangle or arrow or caret or whatever */\nvar[data-type]::before {\n  content: "";\n  transform: translateX(-50%);\n  border-width: 4px 6px 0 6px;\n  border-style: solid;\n  border-color: transparent;\n  border-top-color: #000;\n}\n\n/* actual text */\nvar[data-type]::after {\n  content: attr(data-type);\n  transform: translateX(-50%) translateY(-100%);\n  background: #000;\n  text-align: center;\n  /* additional styling */\n  font-family: "Dank Mono", "Fira Code", monospace;\n  font-style: normal;\n  padding: 6px;\n  border-radius: 3px;\n  color: #daca88;\n  text-indent: 0;\n  font-weight: normal;\n}\n\nvar[data-type]:hover::after,\nvar[data-type]:hover::before {\n  opacity: 1;\n}\n',datatype$1=Object.freeze({__proto__:null,default:datatype}),algorithms$1="/* For assertions in lists containing algorithms */\n\n.assert {\n    background: #EEE;\n    border-left: 0.5em solid #AAA;\n    padding: 0.3em;\n}\n",algorithms$2=Object.freeze({__proto__:null,default:algorithms$1});
//# sourceMappingURL=respec-w3c.js.map
